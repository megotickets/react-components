"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8064],{68064:function(e,t,l){l.d(t,{HOu:function(){return ed},Qgv:function(){return O},Z_N:function(){return Z},eNo:function(){return eh},grn:function(){return _},kXE:function(){return ev},mAM:function(){return u.mA}});var o=l(35021),a=l(63659),n=l(44930),s=l(29070),i=l(61642),r=l(84832);l(23047);var c=l(53082),d=l(80689),m=l(50511),g=l(89075),h=l(82668),u=l(41129),p=l(1723),v=l(84798),w=l(49338),x=l(8681),j=l(95201),f=l(63744),y=l(51501),C=Object.defineProperty,S=Object.defineProperties,N=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,E=(e,t,l)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,L=(e,t)=>{for(var l in t||(t={}))k.call(t,l)&&E(e,l,t[l]);if(b)for(var l of b(t))P.call(t,l)&&E(e,l,t[l]);return e},R=(e,t)=>S(e,N(t)),T=(0,m.createContext)(void 0),I=()=>{let e=(0,m.useContext)(T);if(void 0===e)throw Error("useCustomization deve essere usato all'interno di un CustomizationProvider");return e},A=e=>{let{children:t}=e,[l,o]=m.useState({}),[a,n]=m.useState({}),[s,i]=m.useState(0);return(0,g.jsx)(T.Provider,{value:{style:l,setStyle:o,providerConfiguration:a,setProviderConfiguration:n,forceChainId:s,setForceChainId:i},children:t})},M=(0,h.vX)({appName:"Mego Wallet",projectId:"b04bcb017e647637f86b206334c538e6",chains:[n.R,s.y,i.F,r.v],transports:{[n.R.id]:(0,o.d)(),[s.y.id]:(0,o.d)(),[i.F.id]:(0,o.d)(),[r.v.id]:(0,o.d)()}});function O(e){let{children:t}=e,[l]=(0,m.useState)(()=>new c.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0,staleTime:3e4}}}));return(0,g.jsx)(A,{children:(0,g.jsx)(d.aH,{client:l,children:(0,g.jsx)(a.F,{config:M,children:(0,g.jsx)(h.pj,{children:t})})})})}var z=(0,m.createContext)(void 0),B="https://wallet.mego.tools",Z=()=>{let e=(0,m.useContext)(z);if(void 0===e)throw Error("useWeb3Context deve essere usato all'interno di un Web3Provider");return e},_=e=>{let{children:t}=e,{openConnectModal:l}=(0,h.We)(),[o,a]=(0,m.useState)("ChooseType"),[n,s]=(0,m.useState)(),[i,r]=(0,m.useState)(!1),[c,d]=(0,m.useState)(null),[u,f]=(0,m.useState)(null),[C,S]=(0,m.useState)(null),[N,b]=(0,m.useState)(null),[k,P]=(0,m.useState)(!1),[E,L]=(0,m.useState)(""),[R,T]=(0,m.useState)(null),[I,A]=(0,m.useState)(0),{address:O,isConnected:Z}=(0,x.m)(),_=()=>{r(!0),P(!1)};(0,m.useEffect)(()=>{O&&(b(O),a("Logged"),localStorage.setItem("loggedAs",O),d("walletConnect"))},[O]),(0,m.useEffect)(()=>{Z||(b(null),d(null),a("ChooseType"),localStorage.removeItem("loggedAs"),localStorage.removeItem("provider"))},[Z,O]);let F=()=>{localStorage.setItem("isQuestionary","false"),r(!1),P(!1)};(0,m.useEffect)(()=>{"true"===localStorage.getItem("isQuestionary")&&_()},[]);let W=async()=>{try{(0,j.z)(M),f(null),d(null),b(null),localStorage.removeItem("provider"),localStorage.removeItem("loggedAs")}catch(e){console.error("Errore durante il logout da walletconnect:",e)}};function V(){d(null),b(null),W(),localStorage.removeItem("provider"),localStorage.removeItem("loggedAs"),window.history.replaceState(null,"",window.location.pathname)}(0,m.useEffect)(()=>{},[N,c]);let K=()=>"walletConnect"===c?u:C,H=async()=>"walletConnect"===c&&u?await u.getSigner():{getAddress:async()=>N,signMessage:async e=>{throw Error("Signing not supported for this provider")},sendTransaction:async e=>K().sendTransaction(e),connect:e=>e},U=async()=>{if(L("Checking walletconnect ..."),!window.ethereum){alert("walletConnect is not installed");return}try{let e=new p.Q(window.ethereum);await e.send("eth_requestAccounts",[]);let t=await e.getSigner(),l=await t.getAddress();d("walletConnect"),f(e),b(l),localStorage.setItem("loggedAs",l),localStorage.setItem("provider","walletConnect"),a("Logged"),I&&0!==I&&await e.send("wallet_switchEthereumChain",[{chainId:"0x".concat(I.toString(16))}])}catch(e){console.error("Error initializing provider:",e),console.log(e)}finally{P(!1),L("")}},G=async(e,t)=>{let l=e.toLowerCase();L("Checking email and password");let o=await w.Z.post("".concat(B,"/wallets/check"),{email:l,password:t});!1===o.data.error?(P(!1),L(""),b(o.data.addresses.eth),localStorage.setItem("loggedAs",o.data.addresses.eth),localStorage.setItem("provider","email"),localStorage.setItem("email",e),d("email")):(L(""),alert(o.data.message),P(!1))};async function q(e,t){if(!k){P(!0),L("Creating new mego wallet");let l=e.toLowerCase(),o=await w.Z.post("".concat(B,"/wallets/email/new"),{email:l,password:t});o.data.error?(alert(o.data.message),P(!1),L("")):await G(e,t)}}(0,m.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("provider"),l=e.get("loggedAs")||e.get("signedAs"),o=e.get("exported");if(t&&(d(t),localStorage.setItem("provider",t),"google"===t&&S(new v.r6(y.env.REACT_APP_JSON_RPC_PROVIDER)),o&&_()),l&&(b(l),localStorage.setItem("loggedAs",l)),!t&&!l){let e=localStorage.getItem("provider"),t=localStorage.getItem("loggedAs");e&&(d(e),"google"===e?S(new v.r6(y.env.REACT_APP_JSON_RPC_PROVIDER)):"walletConnect"===e&&U()),t&&b(t)}if("google"===t&&l)try{let e=new v.r6("https://base-sepolia.g.alchemy.com/v2/KxxtZXKplWuSt71LXxy-9Mr4BhucrqEP");S(e),d("google"),b(l),localStorage.setItem("provider","google"),localStorage.setItem("loggedAs",l)}catch(e){console.error("[Google Auth] Error initializing provider:",e)}},[]),(0,m.useEffect)(()=>{var e;let t=async e=>{if(0==I)return;let t="0x".concat(Number(I).toString(16));if(e!==t)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){alert("Errore nel cambio rete:"+e)}};return null==(e=window.ethereum)||e.on("chainChanged",t),()=>{var e;null==(e=window.ethereum)||e.removeListener("chainChanged",t)}},[I]),(0,m.useEffect)(()=>{var e;let t=async e=>{if(e.length>0){let e=new p.Q(window.ethereum),t=await e.getSigner(),l=await t.getAddress();b(l),localStorage.setItem("loggedAs",l),a("Logged")}else V()};return null==(e=window.ethereum)||e.on("accountsChanged",t),()=>{var e;null==(e=window.ethereum)||e.removeListener("accountsChanged",t)}},[]);let D=async()=>{P(!0),a("TokenForPrivateKey")},X=async()=>{P(!0),setTimeout(()=>{window.location.href=B+"/auth/google?origin="+window.location.href.split("?")[0].replace("https://","").replace("http://","")+"&message=EXPORT_WALLET"},2500)},Q=async()=>{P(!0),setTimeout(()=>{window.location.href=B+"/auth/apple?origin="+window.location.href.split("?")[0].replace("https://","").replace("http://","")+"&message=EXPORT_WALLET"},2500)},J=async e=>{P(!0),L("Revealing private key...");let t=await w.Z.post("".concat(B,"/wallets/export"),{token:e});if(t.data.error)L(t.data.message),alert(t.data.message),P(!1),L(""),setTimeout(()=>{window.history.back()},1e3);else{P(!1),T(t.data.private_keys.eth);let e=new URL(window.location.href);e.searchParams.set("privateKeyVisible","true"),window.history.pushState({},"",e.toString()),a("PrivateKey")}};return(0,g.jsxs)(z.Provider,{value:{getProvider:K,getSigner:H,isMegoModalOpen:i,openMegoModal:_,redirectToAppleLogin:function(){P(!0),localStorage.setItem("justLogged","true"),setTimeout(()=>{window.location.href=B+"/auth/apple?origin="+window.location.href.replace("https://","").replace("http://","")},2500)},redirectToGoogleLogin:function(){P(!0),localStorage.setItem("justLogged","true"),setTimeout(()=>{window.location.href=B+"/auth/google?origin="+window.location.href.replace("https://","").replace("http://","")},2500)},closeMegoModal:F,provider:c,walletConnectProvider:u,loginWithWalletConnect:U,section:o,setSection:a,prevSection:n,setPrevSection:s,loggedAs:N,isLoading:k,logout:V,setIsLoading:P,loadingText:E,setLoadingText:L,loginWithEmail:G,createNewWallet:q,requestExportPrivateKeyWithEmail:D,requestExportPrivateKeyWithGoogle:X,requestExportPrivateKeyWithApple:Q,revealPrivateKey:J,privateKey:R,forceChainId:I,setForceChainId:A,signMessageWithApple:(e,t)=>{localStorage.setItem("reddeemWithMego","1"),window&&(window.location="https://wallet.mego.tools/auth/apple?origin=".concat(e.replace("http://","").replace("https://",""),"&message=").concat(t))},signMessageWithGoogle:(e,t)=>{localStorage.setItem("redeemWithMego","1"),window&&(window.location="https://wallet.mego.tools/auth/google?origin=".concat(e.replace("http://","").replace("https://",""),"&message=").concat(t))}},children:[t,i&&(0,g.jsx)(er,{isOpen:i,onClose:F})]})},F=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 24 24"},e),{children:(0,g.jsx)("path",{fill:"currentColor",d:"M4.913 7.519c3.915-3.831 10.26-3.831 14.174 0l.471.461a.483.483 0 0 1 0 .694l-1.611 1.577a.252.252 0 0 1-.354 0l-.649-.634c-2.73-2.673-7.157-2.673-9.887 0l-.694.68a.255.255 0 0 1-.355 0L4.397 8.719a.482.482 0 0 1 0-.693l.516-.507Zm17.506 3.263 1.434 1.404a.483.483 0 0 1 0 .694l-6.466 6.331a.508.508 0 0 1-.709 0l-4.588-4.493a.126.126 0 0 0-.178 0l-4.589 4.493a.508.508 0 0 1-.709 0L.147 12.88a.483.483 0 0 1 0-.694l1.434-1.404a.508.508 0 0 1 .709 0l4.589 4.493c.05.048.129.048.178 0l4.589-4.493a.508.508 0 0 1 .709 0l4.589 4.493c.05.048.128.048.178 0l4.589-4.493a.507.507 0 0 1 .708 0Z"})})),W=e=>{var t,l,o;let{account:a,chain:n,authenticationStatus:s,mounted:i,openConnectModal:r,openAccountModal:c,loginWithWalletConnect:d,loggedAs:m}=e,{style:h}=I();return i&&"loading"!==s?(console.log(a),console.log(n),(0,g.jsx)("div",{onClick:r,children:(null==(t=null==h?void 0:h.customButtonOverrideComponent)?void 0:t.walletConnectButton)?null==(l=null==h?void 0:h.customButtonOverrideComponent)?void 0:l.walletConnectButton:(0,g.jsxs)("button",{className:"mego-modal-button",onClick:r,style:L({},null==(o=null==h?void 0:h.modalStyle)?void 0:o.buttonStyle),children:[(0,g.jsx)(F,{width:17,style:{marginRight:"0.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"WALLET CONNECT"})]})})):(0,g.jsx)("button",{className:"mego-modal-button",children:"Caricamento..."})},V=function(){let{loginWithWalletConnect:e,loggedAs:t}=Z();return(0,g.jsx)(h.NL.Custom,{children:l=>{let{account:o,chain:a,openConnectModal:n,openAccountModal:s,authenticationStatus:i,mounted:r}=l;return(0,g.jsx)(W,{account:o,chain:a,authenticationStatus:null!=i?i:"",mounted:r,openConnectModal:n,openAccountModal:s,loginWithWalletConnect:e,loggedAs:null!=t?t:void 0})}})},K=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:11,height:13,fill:"none"},e),{children:(0,g.jsx)("path",{fill:"#000",d:"M10.21 9.778a6.4 6.4 0 0 1-.614 1.13c-.323.472-.587.798-.791.98-.316.297-.655.45-1.017.458-.26 0-.574-.076-.94-.23-.366-.153-.703-.229-1.011-.229-.323 0-.67.076-1.04.23-.372.153-.67.233-.9.241-.347.015-.693-.141-1.04-.47-.22-.198-.496-.535-.827-1.014a7.074 7.074 0 0 1-.875-1.78 6.653 6.653 0 0 1-.368-2.12c0-.784.166-1.46.497-2.026.26-.455.607-.814 1.04-1.078a2.752 2.752 0 0 1 1.408-.406c.276 0 .638.087 1.088.26.449.172.737.259.863.259.095 0 .415-.102.958-.306.513-.189.946-.267 1.3-.236.962.079 1.684.467 2.165 1.166-.86.533-1.286 1.28-1.277 2.238.008.746.272 1.367.792 1.86.236.229.499.405.791.531-.063.188-.13.369-.201.542ZM8.007.898c0 .585-.21 1.131-.625 1.637-.502.6-1.11.948-1.769.893a1.861 1.861 0 0 1-.013-.221c0-.562.239-1.163.663-1.654.212-.249.481-.456.808-.62.326-.163.634-.253.924-.268.008.078.012.156.012.234Z"})})),H=e=>(0,g.jsxs)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{children:[(0,g.jsx)("circle",{cx:7,cy:7,r:7,fill:"#000"}),(0,g.jsx)("path",{stroke:"#fff",strokeLinecap:"round",d:"m8.296 4.148-3.11 2.593 3.11 2.592"})]})),U=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"none",stroke:"#fff",viewBox:"0 0 24 24"},e),{children:(0,g.jsxs)("g",{fill:"#fff",children:[(0,g.jsx)("path",{fillRule:"evenodd",d:"M21 8a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8Zm-2 0a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8Z",clipRule:"evenodd"}),(0,g.jsx)("path",{d:"M6 3h10a1 1 0 1 0 0-2H6a3 3 0 0 0-3 3v14a1 1 0 1 0 2 0V4a1 1 0 0 1 1-1Z"})]})})),G=e=>(0,g.jsxs)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{children:[(0,g.jsx)("circle",{cx:7,cy:7,r:7,fill:"#000"}),(0,g.jsx)("path",{stroke:"#fff",strokeLinecap:"round",d:"m4.667 4.667 4.615 4.615M9.282 4.667 4.667 9.282"})]})),q=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:800,height:800,fill:"#fff",stroke:"#fff",viewBox:"0 0 256 164"},e),{children:(0,g.jsx)("path",{d:"m143.749 46.281 35.438-34.453-35.438-8.859v43.312zM127.954 35.33l-7.215-33.1-20.923 17.596 28.138 15.504zm-27.488 37.971a45.657 45.657 0 0 0-9.969-4.237c3.471-2.306 21.769-13.001 21.769-13.001l9.846 15.988s-12.523 7.346-13.057 7.658a45.65 45.65 0 0 0-8.589-6.408zM224.874 84.41l-36.484-9.821a39.155 39.155 0 0 0-16.517-.847c-5.154-4.263-11.177-7.766-17.125-11.22l-10.998-6.397-9.863 15.917 11.431 6.717c2.554 1.483 4.879 2.852 6.997 4.166-5.867 5.085-10.089 11.784-12.149 19.432a39.078 39.078 0 0 0-1.061 14.803h7.558c4.364 0 8.271-1.937 10.939-4.987.032-1.634.252-3.288.696-4.936a20.388 20.388 0 0 1 7.708-11.227c.806 1.962 1.23 4.11 1.23 6.577 0 6.512-3.27 12.83-8.534 16.647l-.011-.037a20.476 20.476 0 0 1-11.987 3.864l-30.972.098a39.106 39.106 0 0 0 .112-20.803c-2.689-9.99-9.407-18.697-18.369-23.857-7.401-4.262-16.295-6.032-24.829-4.911-4.619.607-41.511 10.82-41.511 10.82C21 87.137 12.528 93.662 7.277 102.78c-5.251 9.119-6.641 19.722-3.912 29.855 2.728 10.134 9.252 18.607 18.37 23.856 6.067 3.494 12.788 5.277 19.593 5.277 3.424 0 6.87-.452 10.262-1.365l36.484-9.821a39.093 39.093 0 0 0 16.312-8.967 39.46 39.46 0 0 0 4.951.323h37.328c10.074-.249 19.967-4.006 27.266-11.022a39.626 39.626 0 0 0 7.455-9.843l.044-.086c3.858-7.241 5.302-15.664 4.226-23.787a35.798 35.798 0 0 0-.776-4.108l35.11 9.451c5.297 1.425 9.726 4.836 12.471 9.604 2.745 4.768 3.472 10.31 2.045 15.608-2.948 10.954-14.259 17.467-25.211 14.517l-30.126-8.11c-5.674 5.84-12.896 10.166-21.004 12.293a39.056 39.056 0 0 0 9.766 4.128l36.484 9.821a39.453 39.453 0 0 0 10.262 1.365c6.804 0 13.526-1.785 19.593-5.277 9.118-5.25 15.643-13.722 18.371-23.856 5.642-20.952-6.816-42.586-27.767-48.226zm-127.57 34.829c-5.056-3.664-8.39-9.556-8.525-16.232a14.474 14.474 0 0 0-3.668-3.04c-2.225-1.282-4.734-2.063-7.25-1.959-3.326.137-7.757 1.572-7.757 1.572a42.508 42.508 0 0 0-.116 3.008c0 11.863 5.285 22.509 13.615 29.729-.139.04-.269.095-.409.133l-36.485 9.821c-5.296 1.426-10.839.699-15.607-2.046-4.767-2.745-8.178-7.174-9.604-12.471-2.949-10.954 3.563-22.265 14.517-25.213 5.677-1.528 25.619-6.803 29.892-8.043 4.404-1.278 8.924-2.601 13.56-2.396 3.019.134 6.032 1.163 8.64 2.664 4.678 2.694 8.201 7.257 9.604 12.47a20.47 20.47 0 0 1-.407 12.003z"})})),D=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:25,height:6,fill:"none"},e),{children:(0,g.jsx)("path",{fill:"#000",d:"M24.887 2.192c-.102.335-.835.734-1.324.77-2.124.16-2.129.116-2.25 1.84-.068.937-.497 1.209-1.926 1.198-1.308-.01-1.81-.294-1.748-1.24.11-1.67-.646-1.814-2.322-1.77-1.629.043-3.261 0-5.011 0h-.72c-2.02 0-2.145.097-2.237 1.74-.055.99-.461 1.26-1.845 1.26-1.383 0-1.777-.277-1.83-1.273C3.59 3.11 3.495 3.03 1.53 2.987.413 2.97.035 2.672 0 1.768V.035h3.676c0 .623-.023 1.208 0 1.79.048.922.461 1.171 1.822 1.171 1.36 0 1.78-.25 1.844-1.152.019-.264 0-.53.023-.796C7.402.373 7.877.015 8.687.007c1.96-.016 3.92 0 5.954 0 .652 0 1.303.017 1.95.038.822.03 1.027.624 1.038 1.255.026 1.54.376 1.776 2.274 1.7.941-.035 1.384-.428 1.41-1.17V.037h3.638c0 .723.145 1.473-.064 2.155Z"})})),X=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"#fff",stroke:"#fff",className:"cf-icon-svg",viewBox:"-3.5 0 19 19"},e),{children:(0,g.jsx)("path",{d:"M11.182 8.927v6.912a.794.794 0 0 1-.792.792H1.61a.794.794 0 0 1-.792-.792V8.927a.794.794 0 0 1 .792-.792h.856V6.367a3.534 3.534 0 1 1 7.068 0v1.768h.856a.794.794 0 0 1 .792.792zm-2.756-2.56a2.426 2.426 0 1 0-4.852 0v1.768h4.852zM7.108 11.47a1.108 1.108 0 1 0-1.583 1.001v1.849a.475.475 0 0 0 .95 0v-1.849a1.108 1.108 0 0 0 .633-1.001z"})})),Q=e=>(0,g.jsxs)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none"},e),{children:[(0,g.jsx)("path",{fill:"#4285F4",fillRule:"evenodd",d:"M12.504 5.884c0-.404-.039-.792-.111-1.165H6.61v2.203h3.304c-.143.712-.575 1.315-1.225 1.72v1.428h1.984c1.16-.991 1.83-2.452 1.83-4.186Z",clipRule:"evenodd"}),(0,g.jsx)("path",{fill:"#34A853",fillRule:"evenodd",d:"M6.61 11.45c1.658 0 3.048-.51 4.064-1.38L8.69 8.641c-.55.342-1.253.544-2.08.544-1.598 0-2.952-1.002-3.434-2.348H1.125v1.475c1.01 1.862 3.086 3.138 5.486 3.138Z",clipRule:"evenodd"}),(0,g.jsx)("path",{fill:"#FBBC05",fillRule:"evenodd",d:"M3.176 6.837a3.2 3.2 0 0 1-.193-1.083c0-.375.07-.74.193-1.082V3.197H1.125a5.36 5.36 0 0 0-.653 2.557c0 .92.237 1.79.653 2.558l2.05-1.475Z",clipRule:"evenodd"}),(0,g.jsx)("path",{fill:"#EA4335",fillRule:"evenodd",d:"M6.61 2.324c.902 0 1.711.288 2.347.852l1.761-1.634C9.655.623 8.265.06 6.611.06c-2.4 0-4.476 1.276-5.486 3.138l2.05 1.475c.483-1.346 1.837-2.348 3.436-2.348Z",clipRule:"evenodd"})]})),J=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:19,height:17,fill:"none"},e),{children:(0,g.jsx)("path",{fill:"#000",d:"M17.304 0h-9.43c-.873 0-1.71.356-2.328.982C3.873 2.685 2.642 3.945.968 5.646A3.375 3.375 0 0 0 0 8.016v8.253c0 .403.323.731.723.731h8.962c.877 0 1.714-.356 2.332-.986l5.042-5.131c.614-.63.964-1.483.964-2.372V.737A.728.728 0 0 0 17.304 0Zm-1.2 5.576-3.556 8.197a2.415 2.415 0 0 1-3.21 1.268l-6.993-3.144a.852.852 0 0 1-.422-1.111l3.555-8.198a2.416 2.416 0 0 1 3.21-1.268l6.993 3.144c.418.19.604.686.423 1.112Z"})})),Y=e=>(0,g.jsx)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:47,height:12,fill:"none"},e),{children:(0,g.jsx)("path",{fill:"#000",d:"M5.36 8.817a.168.168 0 0 1-.316 0L2.048.938H.03v10.659h1.49V4.549c0-.191.26-.24.329-.062l2.734 7.11h1.239l2.73-7.107c.068-.179.328-.128.328.062l-.001 7.043h1.49V.94H8.338L5.36 8.817ZM13.89 6.783h8.904c.016-.161.03-.339.03-.515 0-3.108-2.519-5.604-5.599-5.488-2.779.106-5.079 2.449-5.18 5.28-.113 3.135 2.335 5.698 5.387 5.698 2.22 0 4.123-1.364 4.944-3.317L20.75 8.31c-.159.264-.361.514-.578.748a3.803 3.803 0 0 1-2.74 1.16 3.803 3.803 0 0 1-2.738-1.16 3.893 3.893 0 0 1-1.05-1.982.25.25 0 0 1 .247-.293Zm-.139-1.74.009-.03.031-.089.016-.042a4.225 4.225 0 0 1 .143-.332c.017-.041.038-.082.058-.121a.577.577 0 0 1 .039-.071c.025-.051.055-.105.087-.156a4.45 4.45 0 0 1 .27-.395l.11-.134.035-.039A3.803 3.803 0 0 1 17.43 2.32a3.803 3.803 0 0 1 2.881 1.314c.013.013.023.026.034.04.04.046.08.095.119.143l.008.013a5.123 5.123 0 0 1 .254.372 4.322 4.322 0 0 1 .29.58c.006.013.008.025.014.038l.07.187.001.007.009.031a.2.2 0 0 1-.195.227h-6.97a.202.202 0 0 1-.196-.224l.001-.004ZM41.623 11.717c-2.964 0-5.376-2.457-5.376-5.476 0-3.02 2.412-5.477 5.376-5.477C44.588.764 47 3.221 47 6.241c0 3.02-2.412 5.476-5.377 5.476Zm0-9.388c-2.117 0-3.84 1.755-3.84 3.912 0 2.156 1.723 3.911 3.84 3.911s3.84-1.755 3.84-3.911c0-2.157-1.723-3.912-3.84-3.912ZM34.822 6.183v.06a5.498 5.498 0 0 1-2.93 4.876l-.119.06c-.04.018-.078.037-.118.054a4.138 4.138 0 0 1-.417.17c-.08.03-.162.056-.244.082a5.415 5.415 0 0 1-.603.142l-.042.009a5.54 5.54 0 0 1-.314.044l-.005.001c-.193.02-.388.036-.588.036-2.964 0-5.377-2.457-5.377-5.476 0-3.02 2.413-5.477 5.377-5.477 2.301 0 4.267 1.478 5.033 3.551h-1.692c-.659-1.185-1.91-1.987-3.342-1.987-2.119 0-3.84 1.754-3.84 3.911 0 2.158 1.721 3.912 3.84 3.912.08 0 .16-.002.24-.009 1.587-.097 2.915-1.184 3.402-2.66.005-.012.008-.026.014-.038l.001-.009c.003-.009.008-.019.009-.029a.182.182 0 0 0-.006-.074.199.199 0 0 0-.19-.151h-3.23V5.67h5.108l.003.037.007.086a9.939 9.939 0 0 1 .023.39Z"})})),$=e=>{var t,l,o,a,n,s,i,r,c;let{setSection:d}=e,{redirectToAppleLogin:m,redirectToGoogleLogin:h}=Z(),{style:u,providerConfiguration:p}=I();return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{onClick:m,children:(null==(t=null==u?void 0:u.customButtonOverrideComponent)?void 0:t.appleButton)?null==(l=null==u?void 0:u.customButtonOverrideComponent)?void 0:l.appleButton:!p||(null==p?void 0:p.appleProvider)||(null==p?void 0:p.appleProvider)===void 0||(null==p?void 0:p.appleProvider)===null?(0,g.jsxs)("button",{className:"mego-modal-button mego-apple",style:L({},null==(o=null==u?void 0:u.modalStyle)?void 0:o.buttonStyle),children:[(0,g.jsx)("div",{style:{marginRight:"0.5rem"},children:(0,g.jsx)(K,{height:13,width:11})}),(0,g.jsx)("p",{className:"mego-font-medium",children:"APPLE ACCOUNT"})]}):(0,g.jsx)("div",{})}),(0,g.jsx)("div",{onClick:h,children:(null==(a=null==u?void 0:u.customButtonOverrideComponent)?void 0:a.googleButton)?null==(n=null==u?void 0:u.customButtonOverrideComponent)?void 0:n.googleButton:(null==p?void 0:p.googleProvider)||(null==p?void 0:p.googleProvider)===void 0||(null==p?void 0:p.googleProvider)===null?(0,g.jsxs)("button",{className:"mego-modal-button",style:L({},null==(s=null==u?void 0:u.modalStyle)?void 0:s.buttonStyle),children:[(0,g.jsx)(Q,{width:17,style:{marginRight:"0.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"GOOGLE ACCOUNT"})]}):(0,g.jsx)("div",{})}),(null==p?void 0:p.walletConnectProvider)||(null==p?void 0:p.walletConnectProvider)===void 0||(null==p?void 0:p.walletConnectProvider)===null?(0,g.jsx)(V,{}):(0,g.jsx)("div",{}),(0,g.jsx)("div",{onClick:()=>d("Email"),children:(null==(i=null==u?void 0:u.customButtonOverrideComponent)?void 0:i.emailButton)?null==(r=null==u?void 0:u.customButtonOverrideComponent)?void 0:r.emailButton:(null==p?void 0:p.emailProvider)||(null==p?void 0:p.emailProvider)===void 0||(null==p?void 0:p.emailProvider)===null?(0,g.jsxs)("button",{className:"mego-modal-button mego-email",style:L({},null==(c=null==u?void 0:u.modalStyle)?void 0:c.buttonStyle),children:[(0,g.jsx)(D,{width:30}),(0,g.jsx)("p",{className:"mego-font-medium",children:"E-MAIL"})]}):(0,g.jsx)("div",{})})]})},ee=e=>{let{setSection:t}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>t("Login"),children:(0,g.jsx)("p",{className:"mego-font-medium",children:"LOGIN"})}),(0,g.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>t("Register"),children:(0,g.jsx)("p",{className:"mego-font-medium",children:"SIGN UP"})})]})},et=e=>{let{logout:t}=e,{loggedAs:l,setSection:o,provider:a,requestExportPrivateKeyWithGoogle:n,requestExportPrivateKeyWithApple:s,openMegoModal:i}=Z(),r=new URLSearchParams(window.location.search).get("exported"),c=new URLSearchParams(window.location.search).get("privateKeyVisible");return r&&!c&&o("TokenForPrivateKey"),c&&o("PrivateKey"),(0,g.jsxs)("div",{children:[(0,g.jsxs)("button",{className:"mego-modal-button outlined",onClick:()=>{l&&(navigator.clipboard.writeText(l),alert("Address copied to clipboard"))},children:[(0,g.jsx)(U,{height:16,width:16,style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"Copy address"})]}),"walletConnect"!==a&&(0,g.jsxs)("button",{className:"mego-modal-button outlined",onClick:()=>{switch(console.log("provider -> ",a),a){case"email":o("LoginWithPasswordForPrivateKey");break;case"google":case"google?provider=google":n();break;case"apple":case"apple?provider=apple":s()}},children:[(0,g.jsx)(X,{style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"Export private key"})]}),(0,g.jsxs)("button",{className:"mego-modal-button outlined",onClick:t,children:[(0,g.jsx)(q,{style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"Disconnect"})]})]})},el=()=>(0,g.jsx)("div",{children:(0,g.jsx)("h5",{className:"mego-login-text mego-font-medium",children:"Export private key to implement"})}),eo=()=>{let[e,t]=(0,m.useState)("");return(0,g.jsxs)("div",{children:[(0,g.jsx)("h5",{className:"mego-login-text mego-font-medium",children:"Insert password to obtain private key"}),(0,g.jsx)("input",{className:"mego-input",id:"password",placeholder:"Password...",value:e,onChange:e=>t(e.target.value)})]})},ea=()=>{let[e,t]=(0,m.useState)(""),{revealPrivateKey:l,provider:o,loggedAs:a}=Z();return(0,g.jsxs)("div",{className:"w-full flex flex-col items-center justify-center mt-10",children:[(0,g.jsx)("p",{className:"mego-login-text mego-font-medium",children:"Please insert token received by email"}),(0,g.jsx)("input",{className:"mego-input-token",id:"token",placeholder:"Insert token...",value:e,onChange:e=>t(e.target.value)}),(0,g.jsx)("button",{disabled:0==e.length,className:"mego-modal-button mt-3 "+(0==e.length?"opacity-50":""),onClick:()=>l(e),children:(0,g.jsx)("p",{className:"mego-font-medium",children:"Reveal private key"})}),(0,g.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>{let e=window.location.href.split("?")[0];window.location.href=e+"?provider="+o+"&loggedAs="+a},children:(0,g.jsx)("p",{className:"mego-font-medium",children:"Close"})})]})},en=()=>{let{privateKey:e,provider:t,loggedAs:l}=Z();return(0,g.jsxs)("div",{children:[(0,g.jsxs)("h5",{style:{marginTop:"2rem"},className:"mego-login-text mego-font-medium",children:["Private key: ",e]}),(0,g.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>{e&&(navigator.clipboard.writeText(e),alert("Private key copied to clipboard"))},children:(0,g.jsx)("p",{className:"mego-font-medium",children:"Copy private key"})}),(0,g.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>{let e=window.location.href.split("?")[0];window.location.href=e+"?provider="+t+"&loggedAs="+l},children:(0,g.jsx)("p",{className:"mego-font-medium",children:"Close"})})]})},es=()=>{let{createNewWallet:e,loginWithEmail:t}=Z(),[l,o]=(0,m.useState)(""),[a,n]=(0,m.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h5",{className:"mego-login-text mego-font-medium",style:{marginTop:"10px"},children:"Type your e-mail address and Password to login"}),(0,g.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(l,a)},className:"mego-form",children:[(0,g.jsx)("input",{className:"mego-input",id:"email",placeholder:"E-mail address...",value:l,onChange:e=>o(e.target.value),type:"email",name:"email",required:!0,title:"Insert a valid email"}),(0,g.jsx)("input",{className:"mego-input",id:"password",placeholder:"Password...",type:"password",name:"password",value:a,onChange:e=>n(e.target.value),required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, and one number"}),(0,g.jsx)("button",{className:"mego-modal-button mt-3",type:"submit",style:{maxWidth:200},children:(0,g.jsx)("p",{className:"mego-font-medium",children:"LOGIN"})})]})]})},ei=()=>{let{createNewWallet:e}=Z(),[t,l]=(0,m.useState)(""),[o,a]=(0,m.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h5",{className:"mego-login-text mego-font-medium",style:{marginTop:"10px"},children:"Type your e-mail address and Password to register"}),(0,g.jsxs)("form",{onSubmit:l=>{l.preventDefault(),e(t,o)},className:"mego-form",children:[(0,g.jsx)("input",{className:"mego-input",id:"email",placeholder:"E-mail address...",value:t,onChange:e=>l(e.target.value),type:"email",name:"email",required:!0,title:"Insert a valid email"}),(0,g.jsx)("input",{className:"mego-input",id:"password",placeholder:"Password...",type:"password",name:"password",value:o,onChange:e=>a(e.target.value),required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, and one number"}),(0,g.jsx)("p",{className:"mego-login-text ",style:{marginTop:-10,marginBottom:0,fontSize:11},children:"Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, and one number"}),(0,g.jsx)("button",{className:"mego-modal-button mt-3",type:"submit",style:{maxWidth:200},children:(0,g.jsx)("p",{className:"mego-font-medium",children:"REGISTER"})})]})]})},er=function(e){var t,l,o,a,n,s;let{isOpen:i,onClose:r}=e,[c,d]=(0,m.useState)(!1),{isLoading:h,loggedAs:u,logout:p,loadingText:v,section:w,setSection:x,prevSection:j,setPrevSection:f}=Z(),{style:y}=I();function C(e){x(e),"ChooseType"===e&&f(void 0),"Email"===e&&f("ChooseType"),"Login"===e&&f("Email"),"Register"===e&&f("Email"),"Logged"===e&&f(void 0),"ExportPrivateKey"===e&&f("Logged"),"TokenForPrivateKey"===e&&f("ExportPrivateKey"),"LoginWithPasswordForPrivateKey"===e&&f("Logged")}function S(){d(!0),setTimeout(()=>{r(),d(!1)},300)}return((0,m.useEffect)(()=>{i&&(u?x("Logged"):C("ChooseType"),d(!1))},[i,u]),(0,m.useEffect)(()=>{u&&i&&setTimeout(()=>{x("Logged")},100)},[u,i]),i||c)?(0,g.jsxs)("div",{className:"".concat(c?"closing":""," mego-modal-container"),children:[(0,g.jsx)("div",{className:"mego-modal-backdrop",onClick:S}),(0,g.jsxs)("div",{className:"mego-modal-wrapper",style:{backgroundColor:(null==(l=null==(t=null==y?void 0:y.modalStyle)?void 0:t.headerStyle)?void 0:l.backgroundColor)||"white"},children:[(0,g.jsxs)("div",{className:"mego-modal-header",style:L({},null==(o=null==y?void 0:y.modalStyle)?void 0:o.headerStyle),children:[(0,g.jsxs)("div",{className:"mego-modal-logo",style:{backgroundColor:(null==(n=null==(a=null==y?void 0:y.modalStyle)?void 0:a.headerStyle)?void 0:n.backgroundColor)||"white"},children:[(0,g.jsx)(J,{height:22,style:{marginRight:"0.5rem",marginTop:"0.5rem"}}),(0,g.jsx)(Y,{height:13,style:{marginRight:"0.5rem",marginTop:"0.5rem"}})]}),(0,g.jsxs)("div",{className:"mego-modal-buttons",children:[j&&!u&&(0,g.jsx)("div",{onClick:()=>C(j),style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,g.jsx)(H,{height:16,width:16})}),(0,g.jsx)("div",{onClick:S,style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,g.jsx)(G,{onClick:S,height:16,width:16})})]})]}),(0,g.jsx)("div",{className:"mego-modal-content",style:L({},null==(s=null==y?void 0:y.modalStyle)?void 0:s.bodyStyle),children:(0,g.jsxs)("span",{style:{transform:"scale(0.8)",height:300,transition:"height 0.3s"},children:[(0,g.jsx)("div",{className:"mego-modal-title mego-font-medium",style:{marginBottom:"0.5rem"},children:"Register"===w?"REGISTER":"LOGIN"}),h?(0,g.jsxs)("div",{className:"mego-loader-div",children:[(0,g.jsx)("div",{className:"mego-loader"}),(0,g.jsx)("p",{className:"mego-login-text mego-font-medium",style:{marginTop:"1rem"},children:v||"Loading data..."})]}):function(){switch(w){case"ChooseType":return(0,g.jsx)($,{setSection:C});case"Email":return(0,g.jsx)(ee,{setSection:C});case"Login":return(0,g.jsx)(es,{});case"Logged":return(0,g.jsx)(et,{logout:p});case"Register":return(0,g.jsx)(ei,{});case"ExportPrivateKey":return(0,g.jsx)(el,{});case"TokenForPrivateKey":return(0,g.jsx)(ea,{});case"LoginWithPasswordForPrivateKey":return(0,g.jsx)(eo,{});case"PrivateKey":return(0,g.jsx)(en,{})}}()]})})]})]}):null},ec=()=>{var e;let{loggedAs:t}=Z(),{style:l}=I();return(0,g.jsxs)("div",{className:"mego-wallet-icon-container",style:L({},null==l?void 0:l.megoWalletContainerStyle),children:[(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 26",style:R(L({},null==l?void 0:l.megoWalletIconStyle),{height:"1.5rem",width:"1.5rem",stroke:"none",fill:"".concat((null==(e=null==l?void 0:l.megoWalletIconStyle)?void 0:e.stroke)||"white")}),children:[(0,g.jsx)("path",{d:"M20.4 12.7c.4 0 .8.3.8.8s-.3.8-.8.8h-.2c-.4 0-.8-.3-.8-.8s.3-.8.8-.8h.2Z"}),(0,g.jsx)("path",{d:"M20.2 11h4.2v-.5c0-2.6-2.1-4.8-4.8-4.8h-10c-2.6 0-4.8 2.1-4.8 4.8v6c0 2.6 2.1 4.8 4.8 4.8h10c2.6 0 4.8-2.1 4.8-4.8V16h-4.2c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5Zm-5.5 6.5h-6c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h6c.3 0 .5.2.5.5s-.2.5-.5.5Z"}),(0,g.jsx)("path",{d:"M6.9 6.2c.8-.6 1.8-.9 2.9-.9h10c1.3 0 2.5.5 3.4 1.3l-.7-1.7c-1-2.6-4-3.8-6.5-2.7L8.4 5.3c-.6.2-1 .5-1.5.9Z",style:{fillRule:"evenodd"}})]}),t&&(0,g.jsxs)("div",{children:[t.slice(0,4),"...",t.slice(-4)]})]})};function ed(e){let{customStyle:t,providerConfiguration:l,forceChainId:o}=e,{openMegoModal:a,loggedAs:n,provider:s,setForceChainId:i}=Z(),{setStyle:r,setProviderConfiguration:c}=I();return(0,m.useEffect)(()=>{t&&r(t),l&&c(l),o&&i(o);let e=document.createElement("style");return e.innerHTML="\n  @import url('https://api.fontshare.com/v2/css?f[]=satoshi@300,500&display=swap');\n  \n  .mego-font-light {\n    font-family: 'Satoshi', sans-serif;\n    font-weight: 300;\n  }\n\n  .mego-font-medium {\n    font-family: 'Satoshi', sans-serif;\n    font-weight: 500;\n  }\n",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[t,l,o]),(0,g.jsx)("div",{role:"button",onClick:a,style:{display:"flex",alignItems:"center",justifyContent:"".concat((null==t?void 0:t.megoWalletPosition)||"right"),paddingRight:"1rem",gap:"0.5rem"},children:(0,g.jsx)(ec,{})})}var em=e=>(0,g.jsxs)("svg",R(L({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 1024 1024"},e),{children:[(0,g.jsx)("circle",{cx:512,cy:512,r:512,style:{fill:"#635bff"}}),(0,g.jsx)("path",{d:"M781.67 515.75c0-38.35-18.58-68.62-54.08-68.62s-57.23 30.26-57.23 68.32c0 45.09 25.47 67.87 62 67.87 17.83 0 31.31-4 41.5-9.74v-30c-10.19 5.09-21.87 8.24-36.7 8.24-14.53 0-27.42-5.09-29.06-22.77h73.26c.01-1.92.31-9.71.31-13.3zm-74-14.23c0-16.93 10.34-24 19.78-24 9.14 0 18.88 7 18.88 24zm-95.14-54.39a42.32 42.32 0 0 0-29.36 11.69l-1.95-9.29h-33v174.68l37.45-7.94.15-42.4c5.39 3.9 13.33 9.44 26.52 9.44 26.82 0 51.24-21.57 51.24-69.06-.12-43.45-24.84-67.12-51.05-67.12zm-9 103.22c-8.84 0-14.08-3.15-17.68-7l-.15-55.58c3.9-4.34 9.29-7.34 17.83-7.34 13.63 0 23.07 15.28 23.07 34.91.01 20.03-9.28 35.01-23.06 35.01zM496.72 438.29l37.6-8.09v-30.41l-37.6 7.94v30.56zm0 11.39h37.6v131.09h-37.6zm-40.3 11.08L454 449.68h-32.34v131.08h37.45v-88.84c8.84-11.54 23.82-9.44 28.46-7.79v-34.45c-4.78-1.8-22.31-5.1-31.15 11.08zm-74.91-43.59L345 425l-.15 120c0 22.17 16.63 38.5 38.8 38.5 12.28 0 21.27-2.25 26.22-4.94v-30.45c-4.79 1.95-28.46 8.84-28.46-13.33v-53.19h28.46v-31.91h-28.51zm-101.27 70.56c0-5.84 4.79-8.09 12.73-8.09a83.56 83.56 0 0 1 37.15 9.59V454a98.8 98.8 0 0 0-37.12-6.87c-30.41 0-50.64 15.88-50.64 42.4 0 41.35 56.93 34.76 56.93 52.58 0 6.89-6 9.14-14.38 9.14-12.43 0-28.32-5.09-40.9-12v35.66a103.85 103.85 0 0 0 40.9 8.54c31.16 0 52.58-15.43 52.58-42.25-.17-44.63-57.25-36.69-57.25-53.47z",style:{fill:"#fff"}})]})),eg=async e=>{let{stripePublicKey:t,priceId:l}=e;try{let e=(0,f.J)(t),o=await e;if(!o){alert("Errore durante la configurazione di Stripe");return}let a=new URLSearchParams(window.location.search).size,{error:n}=await o.redirectToCheckout({lineItems:[{price:l,quantity:1}],mode:"payment",successUrl:"".concat(window.location.href).concat(a>0?"&":"?","payment_success=true"),cancelUrl:"".concat(window.location.href).concat(a>0?"&":"?","payment_canceled=true")});n&&alert("Errore durante il reindirizzamento a Stripe:")}catch(e){console.error("Errore durante il reindirizzamento a Stripe:",e)}};function eh(e){let{isOpen:t,onClose:l,amount:o,image:a,currency:n="EUR",itemName:s,priceId:i,stripePublicKey:r,paymentModality:c={allowStripe:!0,allowMetamask:!0,allowErc20:!0}}=e,[d,h]=(0,m.useState)(!1),[u,p]=(0,m.useState)(!1);function v(){h(!0),setTimeout(()=>{l(),h(!1)},300)}function w(e){switch(p(!0),e.type){case"stripe":i?(p(!0),eg({priceId:i,stripePublicKey:r||""})):alert("Si prega di fornire il priceId del prodotto");break;case"metamask":case"erc20":alert("Funzionalit\xe0 non disponibile")}}return((0,m.useEffect)(()=>{t&&h(!1)},[t]),t||d)?(0,g.jsxs)("div",{className:"".concat(d?"closing":""," mego-modal-container payment-modal"),children:[(0,g.jsx)("div",{className:"mego-modal-backdrop",onClick:v}),(0,g.jsxs)("div",{className:"mego-modal-wrapper payment-wrapper",style:{height:"50vh",maxHeight:"50vh"},children:[(0,g.jsxs)("div",{className:"mego-modal-header",children:[(0,g.jsx)("div",{className:"mego-modal-logo",children:(0,g.jsx)("h3",{className:"payment-title",children:"Pagamento"})}),(0,g.jsx)("div",{className:"mego-modal-buttons",children:(0,g.jsx)("div",{onClick:v,style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,g.jsx)(G,{onClick:v,height:16,width:16})})})]}),(0,g.jsxs)("div",{className:"mego-modal-content payment-content",children:[(0,g.jsxs)("div",{className:"payment-details",children:[(0,g.jsx)("div",{className:"payment-image-container",children:a&&(0,g.jsx)("img",{src:a,alt:"Item",className:"payment-image"})}),(0,g.jsx)("h2",{className:"payment-item-name",children:s}),(0,g.jsxs)("p",{className:"payment-amount",children:[o.toFixed(2)," ",n]})]}),u?(0,g.jsxs)("div",{className:"mego-loader-div",children:[(0,g.jsx)("div",{className:"mego-loader"}),(0,g.jsx)("p",{className:"mego-login-text mego-font-medium",style:{marginTop:"1rem"},children:"Elaborazione del pagamento..."})]}):(0,g.jsxs)("div",{className:"payment-methods",children:[(null==c?void 0:c.allowStripe)&&(0,g.jsxs)("button",{className:"mego-modal-button payment-button",onClick:()=>w({type:"stripe"}),children:[(0,g.jsx)(em,{height:20,width:20,style:{marginRight:"0.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"Paga con Stripe"})]}),(null==c?void 0:c.allowMetamask)&&(0,g.jsxs)("button",{className:"mego-modal-button payment-button",onClick:()=>w({type:"metamask"}),children:[(0,g.jsx)(F,{height:20,width:20,style:{marginRight:"0.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"Paga con Metamask"})]}),(null==c?void 0:c.allowErc20)&&(0,g.jsxs)("button",{className:"mego-modal-button payment-button",onClick:()=>w({type:"erc20"}),children:[(0,g.jsx)(J,{height:20,width:20,style:{marginRight:"0.5rem"}}),(0,g.jsx)("p",{className:"mego-font-medium",children:"Paga con ERC20"})]})]})]})]})]}):null}var eu=e=>{let{height:t=24,width:l=24,color:o="currentColor",onClick:a}=e;return(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:a,style:{cursor:a?"pointer":"default"},children:[(0,g.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,g.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})},ep=e=>{let{height:t=24,width:l=24,color:o="currentColor",onClick:a}=e;return(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:a,style:{cursor:a?"pointer":"default"},children:[(0,g.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,g.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,g.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})};function ev(){let[e,t]=(0,m.useState)(!1),[l,o]=(0,m.useState)(!1),[a,n]=(0,m.useState)(null);function s(){t(!0),setTimeout(()=>{let e=new URL(window.location.href);e.searchParams.delete("payment_success"),e.searchParams.delete("payment_canceled"),window.history.replaceState({},document.title,e.pathname+e.search),o(!1),t(!1)},300)}return((0,m.useEffect)(()=>{console.log("PaymentStatusModal");let e=new URLSearchParams(window.location.search);console.log(e);let t=e.get("payment_success"),l=e.get("payment_canceled");if("true"===t?(n("success"),o(!0)):"true"===l&&(n("canceled"),o(!0)),"true"===t||"true"===l){let e=setTimeout(()=>{s()},2e3);return()=>clearTimeout(e)}},[]),l&&a)?(0,g.jsxs)("div",{className:"".concat(e?"closing":""," mego-modal-content payment-modal"),children:[(0,g.jsx)("div",{className:"mego-modal-backdrop",onClick:s}),(0,g.jsxs)("div",{className:"mego-modal-wrapper payment-wrapper",style:{minHeight:"auto",maxHeight:"90vh"},children:[(0,g.jsxs)("div",{className:"mego-modal-header",children:[(0,g.jsx)("div",{className:"mego-modal-logo",children:(0,g.jsx)("h3",{className:"payment-title",children:"success"===a?"Pagamento completato":"Pagamento annullato"})}),(0,g.jsx)("div",{className:"mego-modal-buttons",children:(0,g.jsx)("div",{onClick:s,style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,g.jsx)(G,{onClick:s,height:16,width:16})})})]}),(0,g.jsx)("div",{className:"mego-modal-content payment-content",children:(0,g.jsx)("div",{className:"payment-details",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem 1rem"},children:"success"===a?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{marginBottom:"1rem"},children:(0,g.jsx)(eu,{height:64,width:64,color:"#4CAF50"})}),(0,g.jsx)("h2",{style:{color:"#4CAF50",marginBottom:"0.5rem",textAlign:"center"},children:"Pagamento completato con successo!"}),(0,g.jsx)("p",{style:{textAlign:"center"},children:"Grazie per il tuo acquisto."})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{marginBottom:"1rem"},children:(0,g.jsx)(ep,{height:64,width:64,color:"#F44336"})}),(0,g.jsx)("h2",{style:{color:"#F44336",marginBottom:"0.5rem",textAlign:"center"},children:"Pagamento annullato"}),(0,g.jsx)("p",{style:{textAlign:"center"},children:"Il pagamento \xe8 stato annullato."})]})})})]})]}):null}}}]);