"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8064],{68064:function(e,t,l){l.d(t,{HOu:function(){return eK},Qgv:function(){return D},Sjq:function(){return e4},Z_N:function(){return eb},grn:function(){return eS},mAM:function(){return x.mA}});var r=l(82682),i=l(21847),o=l(15357),n=l(90795),s=l(69235),a=l(40271),c=l(77887),d=l(80309),m=l(40116);l(88465);var h=l(2308),g=l(43340),u=l(50511),p=l(89075),v=l(29478),x=l(13700),y=l(1723),f=l(84798),w=l(12558),j=l(65560),k=l(57284),C=l(78005),b=l(63990),S=l(3547),E=l(26471),M=l(51501),I=Object.defineProperty,L=Object.defineProperties,O=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,N=(e,t,l)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,_=(e,t)=>{for(var l in t||(t={}))A.call(t,l)&&N(e,l,t[l]);if(P)for(var l of P(t))z.call(t,l)&&N(e,l,t[l]);return e},T=(e,t)=>L(e,O(t)),B=(0,u.createContext)(void 0),R=()=>{let e=(0,u.useContext)(B);if(void 0===e)throw Error("useCustomization deve essere usato all'interno di un CustomizationProvider");return e},W=e=>{let{children:t}=e,[l,r]=u.useState({}),[i,o]=u.useState({}),[n,s]=u.useState(0);return(0,p.jsx)(B.Provider,{value:{style:l,setStyle:r,providerConfiguration:i,setProviderConfiguration:o,forceChainId:n,setForceChainId:s},children:t})},F=(0,v.vX)({appName:"Mego Wallet",projectId:"b04bcb017e647637f86b206334c538e6",chains:[o.R,n.y,s.F,a.v,c.y,d.u,m.L],transports:{[o.R.id]:(0,r.d)(),[n.y.id]:(0,r.d)(),[s.F.id]:(0,r.d)(),[a.v.id]:(0,r.d)(),[c.y.id]:(0,r.d)(),[d.u.id]:(0,r.d)(),[m.L.id]:(0,r.d)()}});function D(e){let{children:t}=e,[l]=(0,u.useState)(()=>new h.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0,staleTime:3e4}}}));return(0,p.jsx)(W,{children:(0,p.jsx)(g.aH,{client:l,children:(0,p.jsx)(i.F,{config:F,children:(0,p.jsx)(v.pj,{children:t})})})})}var V=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{children:[(0,p.jsx)("circle",{cx:7,cy:7,r:7,fill:"#000"}),(0,p.jsx)("path",{stroke:"#fff",strokeLinecap:"round",d:"m4.667 4.667 4.615 4.615M9.282 4.667 4.667 9.282"})]})),H=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fill:"currentColor",id:"Layer_1",x:0,y:0,viewBox:"0 0 2500 2500"},e),{children:[(0,p.jsx)("style",{children:".st1{fill:#213147}.st2{fill:#12aaff}.st4{fill:#fff}"}),(0,p.jsx)("g",{id:"Layer_x0020_1",children:(0,p.jsxs)("g",{id:"_2405588477232",children:[(0,p.jsx)("path",{d:"M0 0h2500v2500H0z",style:{fill:"none"}}),(0,p.jsx)("path",{d:"M226 760v980c0 63 33 120 88 152l849 490c54 31 121 31 175 0l849-490c54-31 88-89 88-152V760c0-63-33-120-88-152l-849-490c-54-31-121-31-175 0L314 608c-54 31-87 89-87 152h-1z",className:"st1"}),(0,p.jsx)("path",{d:"m1435 1440-121 332c-3 9-3 19 0 29l208 571 241-139-289-793c-7-18-32-18-39 0zM1678 882c-7-18-32-18-39 0l-121 332c-3 9-3 19 0 29l341 935 241-139-422-1156v-1z",className:"st2"}),(0,p.jsx)("path",{d:"M1250 155c6 0 12 2 17 5l918 530c11 6 17 18 17 30v1060c0 12-7 24-17 30l-918 530c-5 3-11 5-17 5s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12 7-24 17-30l918-530c5-3 11-5 17-5v1zm0-155c-33 0-65 8-95 25L237 555c-59 34-95 96-95 164v1060c0 68 36 130 95 164l918 530c29 17 62 25 95 25s65-8 95-25l918-530c59-34 95-96 95-164V719c0-68-36-130-95-164L1344 25c-29-17-62-25-95-25h1z",style:{fill:"#9dcced"}}),(0,p.jsx)("path",{d:"m642 2179 85-232 170 141-159 146z",className:"st1"}),(0,p.jsx)("path",{d:"M1172 644H939c-17 0-33 11-39 27L401 2039l241 139 550-1507c5-14-5-28-19-28l-1 1zM1580 644h-233c-17 0-33 11-39 27L738 2233l241 139 620-1701c5-14-5-28-19-28v1z",className:"st4"})]})})]})),Z=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg","data-name":"86977684-12db-4850-8f30-233a7c267d11",fill:"currentColor",viewBox:"0 0 2000 2000"},e),{children:[(0,p.jsx)("path",{fill:"#2775ca",d:"M1000 2000c554.17 0 1000-445.83 1000-1000S1554.17 0 1000 0 0 445.83 0 1000s445.83 1000 1000 1000z"}),(0,p.jsx)("path",{fill:"#fff",d:"M1275 1158.33c0-145.83-87.5-195.83-262.5-216.66-125-16.67-150-50-150-108.34s41.67-95.83 125-95.83c75 0 116.67 25 137.5 87.5 4.17 12.5 16.67 20.83 29.17 20.83h66.66c16.67 0 29.17-12.5 29.17-29.16v-4.17c-16.67-91.67-91.67-162.5-187.5-170.83v-100c0-16.67-12.5-29.17-33.33-33.34h-62.5c-16.67 0-29.17 12.5-33.34 33.34v95.83c-125 16.67-204.16 100-204.16 204.17 0 137.5 83.33 191.66 258.33 212.5 116.67 20.83 154.17 45.83 154.17 112.5s-58.34 112.5-137.5 112.5c-108.34 0-145.84-45.84-158.34-108.34-4.16-16.66-16.66-25-29.16-25h-70.84c-16.66 0-29.16 12.5-29.16 29.17v4.17c16.66 104.16 83.33 179.16 220.83 200v100c0 16.66 12.5 29.16 33.33 33.33h62.5c16.67 0 29.17-12.5 33.34-33.33v-100c125-20.84 208.33-108.34 208.33-220.84z"}),(0,p.jsx)("path",{fill:"#fff",d:"M787.5 1595.83c-325-116.66-491.67-479.16-370.83-800 62.5-175 200-308.33 370.83-370.83 16.67-8.33 25-20.83 25-41.67V325c0-16.67-8.33-29.17-25-33.33-4.17 0-12.5 0-16.67 4.16-395.83 125-612.5 545.84-487.5 941.67 75 233.33 254.17 412.5 487.5 487.5 16.67 8.33 33.34 0 37.5-16.67 4.17-4.16 4.17-8.33 4.17-16.66v-58.34c0-12.5-12.5-29.16-25-37.5zm441.67-1300c-16.67-8.33-33.34 0-37.5 16.67-4.17 4.17-4.17 8.33-4.17 16.67v58.33c0 16.67 12.5 33.33 25 41.67 325 116.66 491.67 479.16 370.83 800-62.5 175-200 308.33-370.83 370.83-16.67 8.33-25 20.83-25 41.67V1700c0 16.67 8.33 29.17 25 33.33 4.17 0 12.5 0 16.67-4.16 395.83-125 612.5-545.84 487.5-941.67-75-237.5-258.34-416.67-487.5-491.67z"})]})),q=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 507.91 446.91"},e),{children:[(0,p.jsx)("title",{children:"polygon-matic"}),(0,p.jsx)("path",{d:"M384.58 136.59c-9.28-5.3-21.22-5.3-31.83 0l-74.26 43.77-50.39 27.84-72.94 43.8c-9.28 5.3-21.22 5.3-31.83 0l-57-34.48a32.33 32.33 0 0 1-15.92-27.85v-66.34c0-10.61 5.31-21.22 15.92-27.85l57-33.15c9.28-5.31 21.22-5.31 31.83 0l57 34.48a32.31 32.31 0 0 1 15.92 27.85v43.76l50.39-29.18V94.16c0-10.61-5.3-21.22-15.91-27.85L156.48 4c-9.28-5.31-21.21-5.31-31.82 0L15.91 67.63C5.3 72.94 0 83.55 0 94.16v124.65c0 10.61 5.3 21.19 15.91 27.85L123.33 309c9.28 5.31 21.22 5.31 31.83 0l72.94-42.44 50.39-29.17 72.94-42.44c9.28-5.3 21.22-5.3 31.83 0l57 33.16A32.32 32.32 0 0 1 456.19 256v66.3c0 10.61-5.3 21.22-15.91 27.85l-55.7 33.16c-9.28 5.3-21.22 5.3-31.83 0l-57-33.16a32.32 32.32 0 0 1-15.91-27.85v-42.48L229.42 309v43.76c0 10.61 5.31 21.22 15.92 27.85l107.41 62.33c9.29 5.31 21.22 5.31 31.83 0L492 380.6a32.32 32.32 0 0 0 15.91-27.85v-126c0-10.61-5.3-21.22-15.91-27.85Z",style:{fill:"#8247e5"}})]})),J=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 576 512"},e),{children:(0,p.jsx)("path",{d:"M512 80c8.8 0 16 7.2 16 16v32H48V96c0-8.8 7.2-16 16-16h448zm16 144v192c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V224h480zM64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm56 304c-13.3 0-24 10.7-24 24s10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24h-48zm128 0c-13.3 0-24 10.7-24 24s10.7 24 24 24h112c13.3 0 24-10.7 24-24s-10.7-24-24-24H248z"})})),G=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:2500,height:2500,viewBox:"0 0 32 32"},e),{children:(0,p.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,p.jsx)("circle",{cx:16,cy:16,r:16,fill:"#627EEA"}),(0,p.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",children:[(0,p.jsx)("path",{fillOpacity:.602,d:"M16.498 4v8.87l7.497 3.35z"}),(0,p.jsx)("path",{d:"M16.498 4 9 16.22l7.498-3.35z"}),(0,p.jsx)("path",{fillOpacity:.602,d:"M16.498 21.968v6.027L24 17.616z"}),(0,p.jsx)("path",{d:"M16.498 27.995v-6.028L9 17.616z"}),(0,p.jsx)("path",{fillOpacity:.2,d:"m16.498 20.573 7.497-4.353-7.497-3.348z"}),(0,p.jsx)("path",{fillOpacity:.602,d:"m9 16.22 7.498 4.353v-7.701z"})]})]})})),U=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:500,height:500},e),{children:[(0,p.jsx)("circle",{cx:250,cy:250,r:250,fill:"#FF0420"}),(0,p.jsx)("path",{fill:"#fff",d:"M177.133 316.446c-14.886 0-27.082-3.503-36.589-10.508-9.382-7.13-14.073-17.262-14.073-30.397 0-2.752.313-6.13.938-10.133 1.627-9.006 3.941-19.827 6.943-32.461 8.506-34.4 30.46-51.6 65.861-51.6 9.632 0 18.263 1.626 25.894 4.878 7.631 3.127 13.635 7.881 18.013 14.261 4.378 6.254 6.568 13.76 6.568 22.516 0 2.627-.313 5.942-.939 9.945-1.876 11.133-4.128 21.954-6.755 32.461-4.378 17.138-11.946 29.96-22.704 38.466-10.758 8.381-25.143 12.572-43.157 12.572Zm2.627-27.02c7.006 0 12.947-2.064 17.826-6.192 5.004-4.128 8.569-10.445 10.695-18.951 2.877-11.759 5.067-22.017 6.568-30.773.5-2.627.75-5.316.75-8.069 0-11.383-5.942-17.075-17.825-17.075-7.006 0-13.01 2.064-18.014 6.192-4.878 4.129-8.381 10.446-10.507 18.952-2.252 8.381-4.504 18.639-6.755 30.773-.501 2.501-.751 5.128-.751 7.88 0 11.509 6.005 17.263 18.013 17.263ZM259.303 314.57c-1.376 0-2.44-.438-3.19-1.314-.626-1.001-.813-2.126-.563-3.377l25.894-121.965c.25-1.376.938-2.502 2.064-3.378 1.126-.875 2.314-1.313 3.565-1.313h49.912c13.885 0 25.018 2.877 33.399 8.631 8.507 5.755 12.76 14.073 12.76 24.956 0 3.127-.375 6.38-1.126 9.757-3.127 14.386-9.444 25.019-18.951 31.899-9.382 6.88-22.267 10.32-38.654 10.32h-25.331l-8.631 41.093c-.251 1.376-.939 2.501-2.064 3.377-1.126.876-2.315 1.314-3.565 1.314h-25.519Zm66.424-71.678c5.253 0 9.819-1.439 13.697-4.316 4.003-2.877 6.63-7.005 7.881-12.384.375-2.127.563-4.003.563-5.629 0-3.628-1.063-6.38-3.19-8.256-2.127-2.002-5.754-3.002-10.883-3.002h-22.517l-7.13 33.587h21.579Z"})]})),K=()=>{var e,t,l,r,i;let{eventDetails:o,processor:n,setProcessor:s}=ej(),[a,c]=(0,u.useState)("stripe");if(o&&(null==(t=null==(e=null==o?void 0:o.event)?void 0:e.collectors)?void 0:t.length)!==0&&(null==(l=null==o?void 0:o.event)?void 0:l.collectors)&&(null==(r=null==o?void 0:o.event)?void 0:r.price)!==0)return(0,u.useEffect)(()=>{s(a)},[]),(0,u.useEffect)(()=>{c(n||"stripe")},[n]),(0,p.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:"2rem",margin:"2rem",overflowX:"auto",width:"100%"},children:Object.entries((null==(i=null==o?void 0:o.event)?void 0:i.collectors)||{}).sort((e,t)=>{let[l]=e,[r]=t;return"stripe"===l?-1:"stripe"===r?1:0}).map(e=>{let[t,l]=e;return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:(0,p.jsxs)("div",{onClick:()=>s(t),style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"1rem",cursor:"pointer",border:a===t?"2px solid #007bff":"none",borderRadius:"8px",padding:"8px"},children:["stripe"===t&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[(0,p.jsx)(J,{width:40,height:40}),(0,p.jsx)("p",{children:"Card"})]}),"ethereum"===t&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[(0,p.jsx)(G,{width:40,height:40}),(0,p.jsx)("p",{children:"Ethereum"})]}),"arbitrum"===t&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[(0,p.jsx)(H,{width:40,height:40}),(0,p.jsx)("p",{children:"Arbitrum"})]}),"polygon"===t&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[(0,p.jsx)(q,{width:40,height:40}),(0,p.jsx)("p",{children:"Polygon"})]}),t.includes("erc20:ethereum")&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[(0,p.jsx)(Z,{width:40,height:40}),(0,p.jsx)("p",{children:"USDC"})]}),t.includes("erc20:polygon")&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[(0,p.jsx)(Z,{width:40,height:40}),(0,p.jsx)("p",{children:"USDC"})]}),"optimism"===t&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[(0,p.jsx)(U,{width:40,height:40}),(0,p.jsx)("p",{children:"Optimism"})]})]})},t)})})},Y="https://tickets-api.mego.tools",X=async(e,t,l,r,i,o,n,s)=>{try{return(await w.Z.post("".concat(Y,"/payments"),{processor:e,amount:t,identifier:l,address:r,discount_code:i,currency:o,email:n,donation_amount:s})).data}catch(e){throw console.error("Errore nel richiedere i dettagli del pagamento:",e),e}},Q=async e=>{try{return(await w.Z.get("".concat(Y,"/payments/").concat(e))).data}catch(e){throw console.error("Errore nel ottenere il pagamento:",e),e}},$=async e=>{try{return(await w.Z.post("".concat(Y,"/payments/check"),{payment_id:e})).data}catch(e){throw console.error("Errore nel controllare il pagamento:",e),e}},ee=async(e,t)=>{try{return(await w.Z.get("".concat(Y,"/nfts/last/").concat(e,"/").concat(t))).data}catch(e){throw console.error("Errore nel controllare l'NFT:",e),e}},et=async e=>{try{return(await w.Z.post("".concat(Y,"/nfts/mint"),{payment_id:e})).data}catch(e){throw console.error("Errore nel minta l'NFT:",e),e}},el=async(e,t,l,r,i,o,n,s)=>{try{return(await w.Z.post("".concat(Y,"/claims/create"),{signature:e,tokenId:t,email:l,tier:r,address:i,challenge:o,acceptNotification:n,claim_metadata:s})).data}catch(e){throw console.error("Errore nel creare la richiesta:",e),e}},er=async e=>{try{return(await w.Z.get("".concat(Y,"/events/get/").concat(e))).data}catch(e){throw console.error("Errore nel ottenere i dettagli dell'evento:",e),e}},ei=async(e,t,l,r,i,o)=>{try{localStorage.setItem("MP_func","claim_processing"),localStorage.setItem("MP_tokenId",e),localStorage.setItem("MP_emailOfBuyer",t),localStorage.setItem("MP_identifier",l),localStorage.setItem("MP_userAddress",r),localStorage.setItem("MP_message",i),localStorage.setItem("MP_claim_metadata",JSON.stringify(o))}catch(e){throw console.error("Errore nel salvare la richiesta:",e),e}},eo=async()=>{try{localStorage.removeItem("MP_func"),localStorage.removeItem("MP_tokenId"),localStorage.removeItem("MP_emailOfBuyer"),localStorage.removeItem("MP_identifier"),localStorage.removeItem("MP_userAddress"),localStorage.removeItem("MP_message"),localStorage.removeItem("MP_claim_metadata")}catch(e){throw console.error("Errore nel pulire la richiesta:",e),e}},en=async()=>{try{return{func:localStorage.getItem("MP_func"),tokenId:localStorage.getItem("MP_tokenId"),emailOfBuyer:localStorage.getItem("MP_emailOfBuyer"),identifier:localStorage.getItem("MP_identifier"),userAddress:localStorage.getItem("MP_userAddress"),message:localStorage.getItem("MP_message"),claim_metadata:JSON.parse(localStorage.getItem("MP_claim_metadata")||"[]")}}catch(e){throw console.error("Errore nel ottenere i dati della richiesta:",e),e}},es=e=>{let{message:t="Loading, please wait..."}=e;return(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,p.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",boxShadow:"0 -1px 0 rgba(255, 255, 255, 1)",animation:"spin 1s linear infinite"}}),(0,p.jsx)("p",{style:{marginTop:"16px"},children:t}),(0,p.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},ea=()=>{var e,t;let{eventDetails:l,setStepper:r,setClaimMetadata:i,setEmailOfBuyer:o,setProcessor:n,openPopup:s,resetPaymentProcessing:a}=ej(),[c,d]=(0,u.useState)("test@test.com"),[m,h]=(0,u.useState)(!0),[g,v]=(0,u.useState)(!0),[x,y]=(0,u.useState)({}),[f,w]=(0,u.useState)(!1),{address:k}=(0,j.m)(),{loggedAs:C,isConnectedWithMego:b}=eb(),[S,E]=(0,u.useState)(!1);console.log(l);let M=0,I=async()=>{var e,t,r,i;try{if((null==(e=null==l?void 0:l.event)?void 0:e.claim_metadata)&&l.event.claim_metadata.length>0){let e={};l.event.claim_metadata.forEach((t,l)=>{e[l]=""}),y(e)}E(!0);let o=(await ee(null==(t=null==l?void 0:l.event)?void 0:t.identifier,k||C||"")).tokenId;if(null!==o){await new Promise(e=>setTimeout(e,1e3)),s({title:"Ticket already minted",message:"You already have a ticket for this payment.",modality:"error",isOpen:!0}),a();return}if(b()&&(null==(r=null==l?void 0:l.event)?void 0:r.price)>0){await new Promise(e=>setTimeout(e,1e3)),s({title:"Mego wallet not supported",message:"Please connect your traditional wallet to continue",modality:"error",isOpen:!0}),a();return}(null==(i=null==l?void 0:l.event)?void 0:i.price)===0&&n("stripe")}catch(e){s({title:"Errore",message:"Errore generale",modality:"error",isOpen:!0}),a();return}finally{E(!1)}};(0,u.useEffect)(()=>{0===M&&(I(),M++)},[M]);let L=(e,t)=>{y(l=>T(_({},l),{[e]:t}))};(0,u.useEffect)(()=>{var e,t,r;let i=""!==c.trim()&&c.includes("@"),o=m&&g,n=!0;if((null==(e=null==l?void 0:l.event)?void 0:e.claim_metadata)&&l.event.claim_metadata.length>0){let e=l.event.claim_metadata.length;for(let t=0;t<e;t++){let e=x[t];if(void 0===e||""===e.trim()){n=!1;break}}}console.log({isEmailValid:i,areTermsAccepted:o,areMetadataFieldsValid:n,metadataValues:x,metadataLength:(null==(r=null==(t=null==l?void 0:l.event)?void 0:t.claim_metadata)?void 0:r.length)||0,filledMetadataCount:Object.keys(x).length}),w(i&&o&&n)},[c,m,g,x,l]);let O=(null==(e=null==l?void 0:l.event)?void 0:e.price)===0?"Claim your free ticket":"Buy your ticket";return(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[!S&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:[(0,p.jsx)("h1",{style:{textAlign:"center",fontSize:"1.5rem",fontWeight:"bold"},children:O}),(0,p.jsx)("p",{style:{textAlign:"center",fontSize:"0.875rem",color:"#6B7280"},children:"Enter required information to continue"})]}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:[(null==(t=null==l?void 0:l.event)?void 0:t.claim_metadata)&&l.event.claim_metadata.map((e,t)=>{let l=e.length>100,r=!x[t]||""===x[t].trim();return(0,p.jsx)("div",{style:{width:"100%",marginBottom:"0.75rem"},children:l?(0,p.jsx)("textarea",{placeholder:e,value:x[t]||"",onChange:e=>L(t,e.target.value),style:{marginBottom:"10px",width:"100%",borderRadius:"20px",border:"1px solid ".concat(r?"#FCA5A5":"white"),backgroundColor:"black",color:"white",padding:"8px 16px",resize:"vertical"},rows:4}):(0,p.jsx)("input",{type:"text",placeholder:e,value:x[t]||"",onChange:e=>L(t,e.target.value),style:{marginBottom:"10px",width:"100%",borderRadius:"20px",border:"1px solid ".concat(r?"#FCA5A5":"white"),backgroundColor:"black",color:"white",padding:"8px 16px"}})},t)}),(0,p.jsx)("input",{type:"email",id:"email",placeholder:"Email",value:c,onChange:e=>d(e.target.value),style:{marginBottom:"10px",width:"100%",borderRadius:"20px",border:"1px solid ".concat(c&&c.includes("@")?"white":"#FCA5A5"),backgroundColor:"black",color:"white",padding:"8px 16px"}})]}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"0.5rem",width:"100%"},children:[(0,p.jsx)("input",{type:"checkbox",id:"terms",checked:m,onChange:e=>h(e.target.checked),style:{marginRight:"0.5rem",marginTop:"0.25rem"}}),(0,p.jsxs)("label",{htmlFor:"terms",style:{fontSize:"0.875rem",color:"white"},children:["I agree to the ",(0,p.jsx)("a",{href:"#",style:{color:"#60A5FA",textDecoration:"underline"},children:"Terms and Conditions"}),"."]})]}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"1rem",width:"100%"},children:[(0,p.jsx)("input",{type:"checkbox",id:"shareEmail",checked:g,onChange:e=>v(e.target.checked),style:{marginRight:"0.5rem",marginTop:"0.25rem"}}),(0,p.jsx)("label",{htmlFor:"shareEmail",style:{fontSize:"0.875rem",color:"white"},children:"I accept to share my e-mail with event organizers."})]}),(0,p.jsx)(K,{}),(0,p.jsx)("button",{disabled:!f,onClick:()=>{o(c),i(x),r(1)},style:{width:"100%",background:"black",color:"white",fontWeight:"bold",padding:"0.5rem 1rem",borderRadius:"9999px",border:"1px solid white",opacity:f?1:.5,cursor:f?"pointer":"not-allowed",transition:"opacity 0.3s"},children:"Checkout"})]}),S&&(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,p.jsx)(es,{message:"Checking NFT..."})})]})},ec=()=>{let{eventDetails:e,emailOfBuyer:t,openPopup:l,resetPaymentProcessing:r,setStepper:i,setPaymentsDetails:o,processor:n}=ej(),{address:s}=(0,j.m)(),{loggedAs:a}=eb(),[c,d]=(0,u.useState)("Processing..."),m=0,h=async()=>{var c,m,h,g,u;try{if(!n){l({title:"Alert",message:"No processor selected",modality:"error",isOpen:!0}),r();return}d("Asking for payment details...");let p=s||a||"";if(p){let s=await X(n,1,null==(c=null==e?void 0:e.event)?void 0:c.identifier,p,(null==(m=null==e?void 0:e.event)?void 0:m.discount_code)||"",null==(h=null==e?void 0:e.event)?void 0:h.currency,t||"",(null==(g=null==e?void 0:e.event)?void 0:g.donation_amount)||0),{error:a,message:v,payment:x}=s;if(a&&"Payment exists"!==v){d("Error asking for payment details..."),l({title:"Alert",message:"Error asking for payment details...",modality:"error",isOpen:!0}),r();return}if(o(s),"You can't buy more tickets."===v&&(d("You can't buy more tickets."),l({title:"Alert",message:"You can't buy more tickets.",modality:"error",isOpen:!0}),r()),(null==(u=null==e?void 0:e.event)?void 0:u.price)<=0){d("Claiming free ticket..."),await new Promise(e=>setTimeout(e,1e3)),i(7);return}d("Processing payment..."),await new Promise(e=>setTimeout(e,1e3)),"stripe"===n?(console.log("Stripe processor"),i(4)):(console.log("Other processor"),i(3));return}l({title:"Alert",message:"Please connect your wallet",modality:"error",isOpen:!0}),r()}catch(e){console.error("Error processing payment:",e),d("Error processing payment..."),l({title:"Alert",message:"Error processing payment...",modality:"error",isOpen:!0}),eo(),r();return}};return(0,u.useEffect)(()=>{0===m&&(h(),m++)},[]),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,p.jsx)(es,{message:c})})},ed=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:750,height:563.152,viewBox:"0 0 198.437 149.001"},e),{children:[(0,p.jsxs)("defs",{children:[(0,p.jsxs)("linearGradient",{id:"a",children:[(0,p.jsx)("stop",{offset:0,style:{stopColor:"#cbc9be",stopOpacity:1}}),(0,p.jsx)("stop",{offset:1,style:{stopColor:"#c8c5bb",stopOpacity:0}})]}),(0,p.jsx)("linearGradient",{xlinkHref:"#a",id:"f",x1:-53.583,x2:-53.583,y1:120.722,y2:114.418,gradientUnits:"userSpaceOnUse"}),(0,p.jsx)("linearGradient",{xlinkHref:"#a",id:"g",x1:-53.583,x2:-53.583,y1:120.722,y2:114.418,gradientTransform:"translate(190.175)",gradientUnits:"userSpaceOnUse"}),(0,p.jsx)("clipPath",{id:"b",clipPathUnits:"userSpaceOnUse",children:(0,p.jsx)("path",{d:"M-31.595 54.697c-10.576 0-13.726 6.339-13.726 14.212v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.212-13.726-14.212z",style:{opacity:1,fill:"#4095ca",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477}})}),(0,p.jsx)("clipPath",{id:"d",clipPathUnits:"userSpaceOnUse",children:(0,p.jsx)("path",{d:"M83.818 394.032c-39.972 0-51.877 23.956-51.877 53.713v7.607l176.409.326c47.129.087 66.427 19.048 86.066 45.578 5.002 6.757 11.086 15.914 17.027 21.861 17.742 17.758 41.006 26.63 64.272 26.63 23.266 0 46.53-8.872 64.271-26.63 5.942-5.947 12.026-15.104 17.028-21.861 19.639-26.53 38.937-45.491 86.066-45.578l176.408-.326v-7.607c0-29.757-11.904-53.713-51.877-53.713z",style:{opacity:1,fill:"#f16d5e",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477}})}),(0,p.jsx)("filter",{id:"c",width:1.094,height:1.555,x:-.047,y:-.278,children:(0,p.jsx)("feGaussianBlur",{stdDeviation:3.563})}),(0,p.jsx)("filter",{id:"e",width:1.107,height:1.143,x:-.054,y:-.071,children:(0,p.jsx)("feGaussianBlur",{stdDeviation:16.743})})]}),(0,p.jsx)("g",{style:{fill:"red",fillOpacity:0,strokeWidth:.997187},children:(0,p.jsx)("path",{fill:"none",d:"M10.108.243c-36.91 0-63.88 22.395-63.88 64.796v133.506c0 42.401 26.97 64.795 63.88 64.795h136.823c36.911 0 63.88-22.394 63.88-64.795V65.039c0-42.401-26.969-64.796-63.88-64.796z",style:{opacity:1,fill:"red",fillOpacity:0,stroke:"none",strokeWidth:2.09409,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.383178},transform:"matrix(1 0 0 1.00565 78.151 -41.405)"})}),(0,p.jsx)("path",{d:"M77.738 174.234c-50.5 0-77.023 30.817-77.023 77.024v409.105c0 46.207 26.523 77.024 77.023 77.024h595.953c50.5 0 77.024-30.817 77.024-77.024V251.258c0-46.207-26.524-77.024-77.024-77.024z",style:{opacity:1,fill:"#d9d6cc",fillOpacity:1,stroke:"none",strokeWidth:155.717,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},transform:"matrix(.26458 0 0 .26458 -.19 -46.1)"}),(0,p.jsx)("path",{d:"M-31.595 54.697c-10.576 0-13.726 6.339-13.726 14.212v51.813l46.675.086c12.47.023 17.576 5.04 22.772 12.06 1.323 1.787 2.933 4.21 4.505 5.783a23.96 23.96 0 0 0 17.005 7.046 23.96 23.96 0 0 0 17.005-7.046c1.572-1.573 3.182-3.996 4.505-5.784 5.196-7.02 10.302-12.036 22.772-12.059l46.675-.086V68.909c0-7.873-3.15-14.212-13.726-14.212z",style:{opacity:1,fill:"#f16d5e",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,p.jsx)("path",{d:"M83.818 205.81c-39.972 0-51.877 23.956-51.877 53.713v62.741c0-29.757 11.905-53.713 51.877-53.713h583.793c39.973 0 51.877 23.956 51.877 53.713v-62.74c0-29.758-11.904-53.713-51.877-53.713z",style:{opacity:1,fill:"#3295c9",fillOpacity:1,stroke:"none",strokeWidth:68.0315,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"matrix(.26458 0 0 .26458 -.19 -46.1)"}),(0,p.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",clipPath:"url(#b)",style:{opacity:1,fill:"#000",fillOpacity:.317757,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477,filter:"url(#c)"},transform:"translate(53.583 -46.343)"}),(0,p.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",style:{opacity:1,fill:"#fcad00",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,p.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",clipPath:"url(#b)",style:{opacity:1,fill:"#000",fillOpacity:.313725,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477,filter:"url(#c)"},transform:"translate(53.583 -29.743)"}),(0,p.jsx)("path",{d:"M-31.595 87.898c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",style:{opacity:1,fill:"#50be3d",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,p.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",clipPath:"url(#b)",style:{opacity:1,fill:"#000",fillOpacity:.313725,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477,filter:"url(#c)"},transform:"translate(53.583 -13.143)"}),(0,p.jsx)("path",{d:"M77.738 174.234c-50.5 0-77.023 30.817-77.023 77.024v409.105c0 46.207 26.523 77.024 77.023 77.024h595.953c50.5 0 77.024-30.817 77.024-77.024V251.258c0-46.207-26.524-77.024-77.024-77.024zm6.08 31.577h583.793c39.973 0 51.877 23.955 51.877 53.712v195.829l-176.408.326c-47.13.087-66.427 19.048-86.066 45.578-5.002 6.756-11.086 15.914-17.028 21.861-17.741 17.758-41.005 26.63-64.271 26.63-23.266-.001-46.53-8.872-64.272-26.63-5.941-5.947-12.025-15.105-17.027-21.861-19.639-26.53-38.937-45.491-86.066-45.578l-176.409-.326V259.523c0-29.757 11.905-53.712 51.877-53.712z",clipPath:"url(#d)",style:{opacity:1,fill:"#f26d5f",fillOpacity:.29803923,stroke:"none",strokeWidth:155.717,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1,filter:"url(#e)"},transform:"matrix(.26458 0 0 .26458 -.19 -46.1)"}),(0,p.jsx)("path",{d:"M-53.583 108.559h8.262v12.163h-8.262z",style:{opacity:1,fill:"url(#f)",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,p.jsx)("path",{d:"M136.593 108.559h8.262v12.163h-8.262z",style:{opacity:1,fill:"url(#g)",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"})]})),em=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2,clipRule:"evenodd",viewBox:"0 0 512 512"},e),{children:[(0,p.jsx)("path",{fill:"#34a853",d:"M510.992 192.735V107.73c0-49.084-36.4-89.087-81.06-89.087H82.082C37.398 19.09 1 59.093 1 107.73v85.004c0 8.634 6.212 15.462 14.069 15.462h481.876c7.856 0 14.047-6.828 14.047-15.462z"}),(0,p.jsx)("path",{fill:"#fbbc04",d:"M510.992 267.298V182.74c0-49.107-36.4-89.11-81.06-89.11H82.082C37.398 93.63 1 133.633 1 182.74v85.004c0 8.634 6.212 15.462 14.069 15.462h481.876c7.856-.47 14.047-7.274 14.047-15.908z"}),(0,p.jsx)("path",{fill:"#ea4335",d:"M510.992 342.308v-85.005c0-49.106-36.4-89.11-81.06-89.11H82.082C37.398 168.193 1 208.197 1 257.303v85.005c0 8.634 6.212 15.438 14.069 15.438h481.876c7.856-.446 14.047-7.273 14.047-15.438z"}),(0,p.jsx)("path",{fill:"#4285f4",d:"M325.282 301.39 1 218.66v187.278c0 49.106 36.399 89.11 81.081 89.11h347.851c44.66 0 81.06-40.004 81.06-89.11V215.024l-77.345 61.823c-31.425 24.988-70.728 34.091-108.365 24.542z"})]})),eh=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{enableBackground:"new 0 0 122.88 122.7"},viewBox:"0 0 122.88 122.7"},e),{children:(0,p.jsx)("path",{d:"M.18 0h44.63v44.45H.18V0zM111.5 111.5h11.38v11.2H111.5v-11.2zm-21.87-.02h11.38v10.67H78.25v-21.82h11.02V89.27h11.21V67.22h11.38v10.84h10.84v11.2h-10.84v11.2H89.63v11.02zM55.84 89.09h11.02v-11.2H56.2v-11.2h10.66v-11.2H56.02v11.2H44.63v-11.2h11.2V22.23h11.38v33.25h11.02v11.2h10.84v-11.2h11.38v11.2H89.63v11.2H78.25v22.05H67.22v22.23H55.84V89.09zm55.47-33.61h11.38v11.2h-11.38v-11.2zm-88.9 0h11.38v11.2H22.41v-11.2zm-22.23 0h11.38v11.2H.18v-11.2zM55.84 0h11.38v11.2H55.84V0zM0 78.06h44.63v44.45H0V78.06zm10.84 10.8h22.95v22.86H10.84V88.86zM78.06 0h44.63v44.45H78.06V0zm10.85 10.8h22.95v22.86H88.91V10.8zm-77.89 0h22.95v22.86H11.02V10.8z",style:{fillRule:"evenodd",clipRule:"evenodd"}})})),eg=()=>{let{claimData:e}=ej(),{address:t}=(0,j.m)(),l=e=>{let t=document.createElement("a");t.href=e,t.download="qr-code.png",t.click()};return(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",height:"100%"},children:[(0,p.jsx)("h1",{children:"Buy Ticket Claim"}),(0,p.jsx)("p",{children:"Congratulations!"}),(0,p.jsx)("p",{children:"Your ticket is ready!"}),(0,p.jsxs)("p",{children:["sent to: ",null==t?void 0:t.slice(0,6),"...",null==t?void 0:t.slice(-4)]}),(0,p.jsxs)("button",{className:"mego-modal-button mego-apple",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-start"},onClick:()=>{l(e.qr.qr)},children:[(0,p.jsx)(eh,{height:50,width:50,style:{marginRight:"0.5rem"}}),"Download QR Code"]}),(0,p.jsxs)("button",{className:"mego-modal-button mego-apple",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-start"},onClick:()=>{window.open("https://tickets-api.mego.tools"+e.appleWalletUrl,"_blank")},children:[(0,p.jsx)(ed,{height:50,width:50,style:{marginRight:"0.5rem"}}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},children:[(0,p.jsx)("p",{children:"Add to"}),(0,p.jsx)("p",{children:"APPLE WALLET"})]})]}),(0,p.jsxs)("button",{className:"mego-modal-button mego-apple",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-start"},onClick:()=>{window.open(e.googleWalletUrl,"_blank")},children:[(0,p.jsx)(em,{height:50,width:50,style:{marginRight:"0.5rem"}}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},children:[(0,p.jsx)("p",{children:"Add to"}),(0,p.jsx)("p",{children:"GOOGLE WALLET"})]})]})]})},eu=()=>{let{eventDetails:e,paymentsDetails:t,openPopup:l,resetPaymentProcessing:r,setStepper:i,setTokenId:o}=ej(),[n,s]=(0,u.useState)("Processing..."),{address:a}=(0,j.m)(),{loggedAs:c}=eb(),d=0,m=async()=>{var n,d,m;try{let h=a||c||"",g=(await ee(null==(n=null==e?void 0:e.event)?void 0:n.identifier,h)).tokenId;if(null!==g){await new Promise(e=>setTimeout(e,1e3)),l({title:"Ticket already minted",message:"You already have a ticket for this payment.",modality:"error",isOpen:!0}),r();return}{s("Minting NFT...");let{error:i}=await et(null==(d=null==t?void 0:t.payment)?void 0:d.paymentId);if(i){s("Error minting NFT..."),l({title:"Alert",message:"Error minting NFT...",modality:"error",isOpen:!0}),r();return}s("Waiting for minting confirmation..");let n=!1,a=0;for(;!n&&a<15;){let t=await ee(null==(m=null==e?void 0:e.event)?void 0:m.identifier,h);null!==t.tokenId&&(n=!0,g=t.tokenId,o(g)),a++,await new Promise(e=>setTimeout(e,3e3))}if(a>=15){s("Error minting NFT..."),l({title:"Alert",message:"Error minting NFT...",modality:"error",isOpen:!0}),r();return}}console.log("Stepper.Claim_Generation"),i(6)}catch(e){console.error(e),l({title:"Alert",message:"Error minting NFT...",modality:"error",isOpen:!0}),eo(),r();return}};return(0,u.useEffect)(()=>{0===d&&(m(),d++)},[]),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,p.jsx)(es,{message:n})})},ep=()=>{let{eventDetails:e,openPopup:t,resetPaymentProcessing:l,setStepper:r,emailOfBuyer:i,setClaimData:o,claimMetadata:n,tokenId:s}=ej(),[a,c]=(0,u.useState)("Processing..."),{address:d}=(0,j.m)(),{loggedAs:m,isConnectedWithMego:h,provider:g,signMessageWithGoogle:v,signMessageWithApple:x}=eb(),y=0,f=async()=>{var a,u;try{let p=d||m||"",y="";if(h()&&g){await ei(s||"",i||"",null==(a=null==e?void 0:e.event)?void 0:a.identifier,p,"Claiming token ".concat(s),n);let t=window.location.origin;g.includes("google")?v(t,"Claiming token ".concat(s)):g.includes("apple")&&x(t,"Claiming token ".concat(s));return}if(c("Please confirm subscription to attend the event."),y=await (0,b.l)(F,{message:"Claiming token ".concat(s)}),await new Promise(e=>setTimeout(e,1e3)),!y){c("Error creating claim..."),t({title:"Alert",message:"Error creating claim...",modality:"error",isOpen:!0}),l();return}c("Creating claim...");let f=await el(y,s||"",i||"",null==(u=null==e?void 0:e.event)?void 0:u.identifier,p,"Claiming token ".concat(s),!0,n);if(f.error){c("Error creating claim..."),t({title:"Alert",message:"Error creating claim...",modality:"error",isOpen:!0}),l();return}o(f),r(5);return}catch(e){t({title:"Alert",message:"Error creating claim...",modality:"error",isOpen:!0})}},w=async()=>{c("Creating claim...");let e=await en(),i=new URLSearchParams(window.location.search).get("signature")||"";if(!i){c("Signature error"),t({title:"Signature error",message:"Signature not found",modality:"error",isOpen:!0}),eo(),l();return}let n=await el(i,(null==e?void 0:e.tokenId)||"",(null==e?void 0:e.emailOfBuyer)||"",(null==e?void 0:e.identifier)||"",(null==e?void 0:e.userAddress)||"",(null==e?void 0:e.message)||"",!0,(null==e?void 0:e.claim_metadata)||[]);if(n.error){c("Error creating claim..."),t({title:"Alert",message:"Error creating claim...",modality:"error",isOpen:!0}),eo(),l();return}o(n),r(5),eo()};return(0,u.useEffect)(()=>{0===y&&("claim_processing"===localStorage.getItem("MP_func")?w():f(),y++)},[]),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,p.jsx)(es,{message:a})})},ev=()=>{let{eventDetails:e,paymentsDetails:t,openPopup:l,setStepper:r,savePendingProcess:i}=ej(),[o,n]=(0,u.useState)(null),[s,a]=(0,u.useState)(null),[c,d]=(0,u.useState)(!1),{address:m}=(0,j.m)(),{loggedAs:h}=eb(),[g,v]=(0,u.useState)(""),[x,y]=(0,u.useState)(!1);console.log("paymentsDetails",t),console.log("eventDetails",e);let f=async()=>{try{y(!0),v("Attendere la conferma del pagamento...");let e=new URLSearchParams(window.location.search),t=e.get("uuid"),i=e.get("account"),o=e.get("payment_intent"),n=e.get("payment_intent_client_secret");if(console.log("uuid",t),console.log("payment_intent",o),console.log("payment_intent_client_secret",n),console.log("account",i),console.log("urlParams",e),t&&o&&n){v("Ottenimento dei dettagli del pagamento...");let e=await Q(t);if(console.log("payment",e),!1==e.error){console.log("Dati del pagamento ritrovati! .. check dello stato del pagamento");let e=setInterval(async()=>{console.log("checkPayment with uuid:",t);let l=await $(t);console.log("checkPayment:",l),!1==l.error?(clearInterval(e),localStorage.removeItem("_func"),r(7)):console.log("Ancore error = false")},5e3)}else l({title:"Errore",message:"Errore nell'attesa della conferma del pagamento: ".concat(e.message||"Errore sconosciuto"),modality:"error",isOpen:!0}),d(!1)}else console.log("C'era _func ma non c'erano i parametri di pagamento quindi si cancella il processo e si riparte dall'inizio"),d(!1),localStorage.removeItem("_func"),w()}catch(e){console.error("Errore nell'attesa della conferma del pagamento:",e),l({title:"Errore",message:"Errore nell'attesa della conferma del pagamento: ".concat(e.message||"Errore sconosciuto"),modality:"error",isOpen:!0}),d(!1)}finally{localStorage.removeItem("_func")}},w=async()=>{var r,i,o,s,c;try{let l=null==(i=null==(r=null==t?void 0:t.payment)?void 0:r.stripePayment)?void 0:i.client_secret,d=null==(c=null==(s=null==(o=null==e?void 0:e.event)?void 0:o.collectors)?void 0:s.stripe)?void 0:c.pub;if(!l){console.error("No stripe client secret");return}let m=(0,S.J)(d||""),h=await m;if(!h){console.error("Impossibile caricare Stripe");return}let g=h.elements({clientSecret:l}),u=g.create("payment");if(document.getElementById("payment-element"))u.mount("#payment-element"),n(g),a(h);else throw Error("Elemento di pagamento non trovato nel DOM")}catch(e){console.error("Errore nell'inizializzazione di Stripe:",e),l({title:"Errore",message:"Errore nell'inizializzazione di Stripe: ".concat(e.message||"Errore sconosciuto"),modality:"error",isOpen:!0})}};(0,u.useEffect)(()=>{let e=localStorage.getItem("_func");e||w(),"stripe_payment"===e&&(console.log("Abbiamo trovato un processo di pagamento in sospeso .."),f())},[t,l,e]);let k=async()=>{var e;if(!s||!o){l({title:"Errore",message:"Stripe non \xe8 stato inizializzato correttamente",modality:"error",isOpen:!0});return}try{d(!0),i("stripe_payment");let l=h||m,{error:r}=await s.confirmPayment({elements:o,confirmParams:{return_url:window.location.origin+window.location.pathname+"?uuid="+(null==(e=null==t?void 0:t.payment)?void 0:e.paymentId)+"&account="+l}});if(r)throw r}catch(e){console.error("Errore durante il pagamento:",e),l({title:"Errore di pagamento",message:e.message||"Si \xe8 verificato un errore durante il pagamento",modality:"error",isOpen:!0})}finally{d(!1)}};return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{id:"payment-element"}),!x&&(0,p.jsx)("button",{onClick:k,disabled:c,style:{marginTop:"20px",padding:"10px 20px",backgroundColor:c?"#a0a0a0":"#6772e5",color:"white",border:"none",borderRadius:"4px",cursor:c?"not-allowed":"pointer"},children:c?"Elaborazione in corso...":"Paga ora"}),x&&(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,p.jsx)(es,{message:g})})]})},ex=e=>{let{onClose:t}=e,[l,r]=(0,u.useState)(!1),{isOpen:i,setIsOpen:o,stepper:n,setStepper:s}=ej();function a(){r(!0),setTimeout(()=>{t&&t(),o(!1),r(!1)},300)}return((0,u.useEffect)(()=>{i&&r(!1)},[i]),i||l)?(0,p.jsxs)("div",{className:"".concat(l?"closing":""," mego-modal-container payment-modal"),children:[(0,p.jsx)("div",{className:"mego-modal-backdrop",onClick:a}),(0,p.jsxs)("div",{className:"mego-modal-wrapper payment-wrapper",style:{height:"50vh",maxHeight:"50vh"},children:[(0,p.jsxs)("div",{className:"mego-modal-header",children:[(0,p.jsx)("div",{className:"mego-modal-logo",children:(0,p.jsx)("h3",{className:"payment-title",children:"Acquista Biglietto"})}),(0,p.jsx)("div",{className:"mego-modal-buttons",children:(0,p.jsx)("div",{onClick:a,style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,p.jsx)(V,{onClick:a,height:16,width:16})})})]}),(0,p.jsxs)("div",{className:"mego-modal-content payment-content",children:[0===n&&(0,p.jsx)(ea,{}),1===n&&(0,p.jsx)(ec,{}),3===n&&(0,p.jsx)(ev,{}),4===n&&(0,p.jsx)(ev,{}),7===n&&(0,p.jsx)(eu,{}),6===n&&(0,p.jsx)(ep,{}),5===n&&(0,p.jsx)(eg,{})]})]})]}):null},ey=e=>{let{popupData:t,onClose:l}=e,[r,i]=(0,u.useState)(!1),[o,n]=(0,u.useState)("hidden");(0,u.useEffect)(()=>{if(t.isOpen){i(!1),n("entering");let e=setTimeout(()=>{n("visible")},10),l=setTimeout(()=>{s()},t.autoCloseTime||3e3);return()=>{clearTimeout(e),clearTimeout(l)}}},[t.isOpen,t.autoCloseTime]);let s=()=>{i(!0),n("exiting"),setTimeout(()=>{l(),i(!1),n("hidden")},300)};if(!t.isOpen&&!r)return null;let a=()=>{switch(t.modality){case"success":return"#10B981";case"error":return"#EF4444";default:return"#FFFFFF"}};return(0,p.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,pointerEvents:"none"},children:[(0,p.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:"visible"===o?1:0,transition:"opacity 0.3s ease",pointerEvents:"auto"},onClick:s}),(0,p.jsxs)("div",{style:{backgroundColor:"black",border:"1px solid #333",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",display:"flex",flexDirection:"column",alignItems:"center",transform:"visible"===o?"translateY(0)":"entering"===o||"exiting"===o?"translateY(30%)":"translateY(100%)",opacity:"visible"===o?1:"entering"===o||"exiting"===o?1:0,transition:"transform 0.3s ease, opacity 0.3s ease",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.5)",zIndex:1001,pointerEvents:"auto"},children:[(()=>{switch(t.modality){case"success":return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:a(),strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,p.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"error":return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:a(),strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,p.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,p.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]});default:return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:a(),strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,p.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,p.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}})(),(0,p.jsx)("h3",{style:{color:"white",fontSize:"18px",fontWeight:"bold",margin:"16px 0 8px",textAlign:"center"},children:t.title}),(0,p.jsx)("p",{style:{color:"white",fontSize:"14px",margin:"0 0 24px",textAlign:"center"},children:t.message}),(0,p.jsx)("button",{onClick:s,style:{padding:"10px 40px",borderRadius:"50px",border:"none",background:"linear-gradient(to right, #4ADE80, #3B82F6)",color:"white",fontWeight:"bold",cursor:"pointer",transition:"opacity 0.2s ease"},onMouseOver:e=>e.currentTarget.style.opacity="0.9",onMouseOut:e=>e.currentTarget.style.opacity="1",children:"Ok"})]})]})},ef=(0,u.createContext)(void 0),ew=e=>{let{children:t}=e,[l,r]=(0,u.useState)(!1),[i,o]=(0,u.useState)(null),[n,s]=(0,u.useState)(null),[a,c]=(0,u.useState)(0),[d,m]=(0,u.useState)(null),[h,g]=(0,u.useState)(null),[v,x]=(0,u.useState)(null),[y,f]=(0,u.useState)(null),[w,j]=(0,u.useState)(null),[k,C]=(0,u.useState)({isOpen:!1,message:"",title:"",modality:"info",autoCloseTime:5e3}),b=async()=>{r(!0),c(6)},S=async()=>{r(!0),c(3)},E=()=>{let e=localStorage.getItem("pendingProcess");if(e){let t=JSON.parse(e);(null==t?void 0:t.eventDetails)&&o(JSON.parse(t.eventDetails)),(null==t?void 0:t.paymentsDetails)&&s(JSON.parse(t.paymentsDetails)),(null==t?void 0:t.stepper)&&c(JSON.parse(t.stepper)),(null==t?void 0:t.claimMetadata)&&m(JSON.parse(t.claimMetadata)),(null==t?void 0:t.emailOfBuyer)&&g(JSON.parse(t.emailOfBuyer)),(null==t?void 0:t.tokenId)&&x(JSON.parse(t.tokenId)),(null==t?void 0:t.claimData)&&f(JSON.parse(t.claimData)),(null==t?void 0:t.processor)&&j(JSON.parse(t.processor)),localStorage.removeItem("pendingProcess"),r(!0)}};return(0,u.useEffect)(()=>{let e=localStorage.getItem("MP_func");"claim_processing"===e?b():"payment_processing"===e?S():eo(),E()},[]),(0,p.jsxs)(ef.Provider,{value:{isOpen:l,setIsOpen:r,eventDetails:i,setEventDetails:o,stepper:a,setStepper:c,claimMetadata:d,setClaimMetadata:m,emailOfBuyer:h,setEmailOfBuyer:g,openPopup:e=>{C(e)},resetPaymentProcessing:()=>{c(0),o(null),m(null),g(null),r(!1),f(null),s(null),x(null),j(null)},claimData:y,setClaimData:f,paymentsDetails:n,setPaymentsDetails:s,tokenId:v,setTokenId:x,processor:w,setProcessor:j,savePendingProcess:e=>{let t={eventDetails:JSON.stringify(i),paymentsDetails:JSON.stringify(n),stepper:JSON.stringify(a),claimMetadata:JSON.stringify(d),emailOfBuyer:JSON.stringify(h),tokenId:JSON.stringify(v),claimData:JSON.stringify(y),processor:JSON.stringify(w)};localStorage.setItem("pendingProcess",JSON.stringify(t)),e&&localStorage.setItem("_func",e)},restorePendingProcess:E},children:[(0,p.jsx)(ex,{}),(0,p.jsx)(ey,{popupData:k,onClose:()=>C({isOpen:!1,message:"",title:"",modality:"info",autoCloseTime:5e3})}),t]})},ej=()=>{let e=(0,u.useContext)(ef);if(void 0===e)throw Error("useBuyTicketContext deve essere utilizzato all'interno di un BuyTicketProvider");return e},ek=(0,u.createContext)(void 0),eC="https://wallet.mego.tools",eb=()=>{let e=(0,u.useContext)(ek);if(void 0===e)throw Error("useWeb3Context deve essere usato all'interno di un Web3Provider");return e},eS=e=>{let{children:t}=e,{openConnectModal:l}=(0,v.We)(),[r,i]=(0,u.useState)("ChooseType"),[o,n]=(0,u.useState)(),[s,a]=(0,u.useState)(!1),[c,d]=(0,u.useState)(null),[m,h]=(0,u.useState)(null),[g,x]=(0,u.useState)(null),[b,S]=(0,u.useState)(null),[E,I]=(0,u.useState)(!1),[L,O]=(0,u.useState)(""),[P,A]=(0,u.useState)(null),[z,N]=(0,u.useState)(0),{address:_,isConnected:T}=(0,j.m)(),[B,R]=(0,u.useState)(!0),{switchChain:W}=(0,k.o)(),D=()=>{a(!0),I(!1)};(0,u.useEffect)(()=>{_&&(S(_),i("Logged"),localStorage.setItem("loggedAs",_),d("walletConnect"))},[_]),(0,u.useEffect)(()=>{T||(S(null),d(null),i("ChooseType"),localStorage.removeItem("loggedAs"),localStorage.removeItem("provider"))},[T,_]);let V=()=>{localStorage.setItem("isQuestionary","false"),a(!1),I(!1)};(0,u.useEffect)(()=>{"true"===localStorage.getItem("isQuestionary")&&D()},[]);let H=async()=>{try{(0,C.z)(F),h(null),d(null),S(null),localStorage.removeItem("provider"),localStorage.removeItem("loggedAs")}catch(e){console.error("Errore durante il logout da walletconnect:",e)}};function Z(){d(null),S(null),H(),localStorage.removeItem("provider"),localStorage.removeItem("loggedAs"),window.history.replaceState(null,"",window.location.pathname)}(0,u.useEffect)(()=>{},[b,c]);let q=()=>"walletConnect"===c?m:g,J=async()=>"walletConnect"===c&&m?await m.getSigner():{getAddress:async()=>b,signMessage:async e=>{throw Error("Signing not supported for this provider")},sendTransaction:async e=>q().sendTransaction(e),connect:e=>e},G=async()=>{if(O("Checking walletconnect ..."),!window.ethereum){alert("walletConnect is not installed");return}try{let e=new y.Q(window.ethereum);await e.send("eth_requestAccounts",[]);let t=await e.getSigner(),l=await t.getAddress();d("walletConnect"),h(e),S(l),localStorage.setItem("loggedAs",l),localStorage.setItem("provider","walletConnect"),i("Logged"),z&&0!==z&&await e.send("wallet_switchEthereumChain",[{chainId:"0x".concat(z.toString(16))}])}catch(e){console.error("Error initializing provider:",e),console.log(e)}finally{I(!1),O("")}},U=async(e,t)=>{let l=e.toLowerCase();O("Checking email and password");let r=await w.Z.post("".concat(eC,"/wallets/check"),{email:l,password:t});!1===r.data.error?(I(!1),O(""),S(r.data.addresses.eth),localStorage.setItem("loggedAs",r.data.addresses.eth),localStorage.setItem("provider","email"),localStorage.setItem("email",e),d("email")):(O(""),alert(r.data.message),I(!1))};async function K(e,t){if(!E){I(!0),O("Creating new mego wallet");let l=e.toLowerCase(),r=await w.Z.post("".concat(eC,"/wallets/email/new"),{email:l,password:t});r.data.error?(alert(r.data.message),I(!1),O("")):await U(e,t)}}(0,u.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("provider"),l=e.get("loggedAs")||e.get("signedAs"),r=e.get("exported");if(t&&(d(t),localStorage.setItem("provider",t),"google"===t&&x(new f.r6(M.env.REACT_APP_JSON_RPC_PROVIDER)),r&&D()),l&&(S(l),localStorage.setItem("loggedAs",l)),!t&&!l){let e=localStorage.getItem("provider"),t=localStorage.getItem("loggedAs");e&&(d(e),"google"===e?x(new f.r6(M.env.REACT_APP_JSON_RPC_PROVIDER)):"walletConnect"===e&&G()),t&&S(t)}if("google"===t&&l)try{let e=new f.r6("https://base-sepolia.g.alchemy.com/v2/KxxtZXKplWuSt71LXxy-9Mr4BhucrqEP");x(e),d("google"),S(l),localStorage.setItem("provider","google"),localStorage.setItem("loggedAs",l)}catch(e){console.error("[Google Auth] Error initializing provider:",e)}},[]),(0,u.useEffect)(()=>{var e;let t=async e=>{if(console.log("Detected chain change: ",e),!B){console.log("Service auto chain change is disabled");return}if(0!=z&&e!=="0x".concat(Number(z).toString(16)))try{await W({chainId:z})}catch(e){alert("Errore nel cambio rete:"+e)}};return null==(e=window.ethereum)||e.on("chainChanged",t),()=>{var e;null==(e=window.ethereum)||e.removeListener("chainChanged",t)}},[z,B]),(0,u.useEffect)(()=>{var e;let t=async e=>{if(e.length>0){let e=new y.Q(window.ethereum),t=await e.getSigner(),l=await t.getAddress();S(l),localStorage.setItem("loggedAs",l),i("Logged")}else Z()};return null==(e=window.ethereum)||e.on("accountsChanged",t),()=>{var e;null==(e=window.ethereum)||e.removeListener("accountsChanged",t)}},[]);let Y=async()=>{I(!0),i("TokenForPrivateKey")},X=async()=>{I(!0),setTimeout(()=>{window.location.href=eC+"/auth/google?origin="+window.location.href.split("?")[0].replace("https://","").replace("http://","")+"&message=EXPORT_WALLET"},2500)},Q=async()=>{I(!0),setTimeout(()=>{window.location.href=eC+"/auth/apple?origin="+window.location.href.split("?")[0].replace("https://","").replace("http://","")+"&message=EXPORT_WALLET"},2500)},$=async e=>{I(!0),O("Revealing private key...");let t=await w.Z.post("".concat(eC,"/wallets/export"),{token:e});if(t.data.error)O(t.data.message),alert(t.data.message),I(!1),O(""),setTimeout(()=>{window.history.back()},1e3);else{I(!1),A(t.data.private_keys.eth);let e=new URL(window.location.href);e.searchParams.set("privateKeyVisible","true"),window.history.pushState({},"",e.toString()),i("PrivateKey")}};return(0,p.jsx)(ek.Provider,{value:{getProvider:q,getSigner:J,isMegoModalOpen:s,openMegoModal:D,redirectToAppleLogin:function(){I(!0),localStorage.setItem("justLogged","true"),setTimeout(()=>{window.location.href=eC+"/auth/apple?origin="+window.location.href.replace("https://","").replace("http://","")},2500)},redirectToGoogleLogin:function(){I(!0),localStorage.setItem("justLogged","true"),setTimeout(()=>{window.location.href=eC+"/auth/google?origin="+window.location.href.replace("https://","").replace("http://","")},2500)},closeMegoModal:V,provider:c,walletConnectProvider:m,loginWithWalletConnect:G,section:r,setSection:i,prevSection:o,setPrevSection:n,loggedAs:b,isLoading:E,logout:Z,setIsLoading:I,loadingText:L,setLoadingText:O,loginWithEmail:U,createNewWallet:K,requestExportPrivateKeyWithEmail:Y,requestExportPrivateKeyWithGoogle:X,requestExportPrivateKeyWithApple:Q,revealPrivateKey:$,privateKey:P,forceChainId:z,setForceChainId:N,signMessageWithApple:function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];localStorage.setItem("reddeemWithMego","1"),window&&(window.location="https://wallet.mego.tools/auth/apple?origin=".concat(e.replace("http://","").replace("https://",""),"&message=").concat(t).concat(l?"&encoded=true":""))},signMessageWithGoogle:function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];localStorage.setItem("redeemWithMego","1"),window&&(window.location="https://wallet.mego.tools/auth/google?origin=".concat(e.replace("http://","").replace("https://",""),"&message=").concat(t).concat(l?"&encoded=true":""))},serviceAutoChainChange:B,setServiceAutoChainChange:R,isConnectedWithMego:()=>"walletConnect"!==c&&!!c},children:(0,p.jsxs)(ew,{children:[t,s&&(0,p.jsx)(eG,{isOpen:s,onClose:V})]})})},eE=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 24 24"},e),{children:(0,p.jsx)("path",{fill:"currentColor",d:"M4.913 7.519c3.915-3.831 10.26-3.831 14.174 0l.471.461a.483.483 0 0 1 0 .694l-1.611 1.577a.252.252 0 0 1-.354 0l-.649-.634c-2.73-2.673-7.157-2.673-9.887 0l-.694.68a.255.255 0 0 1-.355 0L4.397 8.719a.482.482 0 0 1 0-.693l.516-.507Zm17.506 3.263 1.434 1.404a.483.483 0 0 1 0 .694l-6.466 6.331a.508.508 0 0 1-.709 0l-4.588-4.493a.126.126 0 0 0-.178 0l-4.589 4.493a.508.508 0 0 1-.709 0L.147 12.88a.483.483 0 0 1 0-.694l1.434-1.404a.508.508 0 0 1 .709 0l4.589 4.493c.05.048.129.048.178 0l4.589-4.493a.508.508 0 0 1 .709 0l4.589 4.493c.05.048.128.048.178 0l4.589-4.493a.507.507 0 0 1 .708 0Z"})})),eM=e=>{var t,l,r;let{account:i,chain:o,authenticationStatus:n,mounted:s,openConnectModal:a,openAccountModal:c,loginWithWalletConnect:d,loggedAs:m}=e,{style:h}=R();return s&&"loading"!==n?(console.log(i),console.log(o),(0,p.jsx)("div",{onClick:a,children:(null==(t=null==h?void 0:h.customButtonOverrideComponent)?void 0:t.walletConnectButton)?null==(l=null==h?void 0:h.customButtonOverrideComponent)?void 0:l.walletConnectButton:(0,p.jsxs)("button",{className:"mego-modal-button",onClick:a,style:_({},null==(r=null==h?void 0:h.modalStyle)?void 0:r.buttonStyle),children:[(0,p.jsx)(eE,{width:17,style:{marginRight:"0.5rem"}}),(0,p.jsx)("p",{className:"mego-font-medium",children:"WALLET CONNECT"})]})})):(0,p.jsx)("button",{className:"mego-modal-button",children:"Caricamento..."})},eI=function(){let{loginWithWalletConnect:e,loggedAs:t}=eb();return(0,p.jsx)(v.NL.Custom,{children:l=>{let{account:r,chain:i,openConnectModal:o,openAccountModal:n,authenticationStatus:s,mounted:a}=l;return(0,p.jsx)(eM,{account:r,chain:i,authenticationStatus:null!=s?s:"",mounted:a,openConnectModal:o,openAccountModal:n,loginWithWalletConnect:e,loggedAs:null!=t?t:void 0})}})},eL=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:11,height:13,fill:"none"},e),{children:(0,p.jsx)("path",{fill:"#000",d:"M10.21 9.778a6.4 6.4 0 0 1-.614 1.13c-.323.472-.587.798-.791.98-.316.297-.655.45-1.017.458-.26 0-.574-.076-.94-.23-.366-.153-.703-.229-1.011-.229-.323 0-.67.076-1.04.23-.372.153-.67.233-.9.241-.347.015-.693-.141-1.04-.47-.22-.198-.496-.535-.827-1.014a7.074 7.074 0 0 1-.875-1.78 6.653 6.653 0 0 1-.368-2.12c0-.784.166-1.46.497-2.026.26-.455.607-.814 1.04-1.078a2.752 2.752 0 0 1 1.408-.406c.276 0 .638.087 1.088.26.449.172.737.259.863.259.095 0 .415-.102.958-.306.513-.189.946-.267 1.3-.236.962.079 1.684.467 2.165 1.166-.86.533-1.286 1.28-1.277 2.238.008.746.272 1.367.792 1.86.236.229.499.405.791.531-.063.188-.13.369-.201.542ZM8.007.898c0 .585-.21 1.131-.625 1.637-.502.6-1.11.948-1.769.893a1.861 1.861 0 0 1-.013-.221c0-.562.239-1.163.663-1.654.212-.249.481-.456.808-.62.326-.163.634-.253.924-.268.008.078.012.156.012.234Z"})})),eO=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{children:[(0,p.jsx)("circle",{cx:7,cy:7,r:7,fill:"#000"}),(0,p.jsx)("path",{stroke:"#fff",strokeLinecap:"round",d:"m8.296 4.148-3.11 2.593 3.11 2.592"})]})),eP=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"none",stroke:"#fff",viewBox:"0 0 24 24"},e),{children:(0,p.jsxs)("g",{fill:"#fff",children:[(0,p.jsx)("path",{fillRule:"evenodd",d:"M21 8a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8Zm-2 0a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8Z",clipRule:"evenodd"}),(0,p.jsx)("path",{d:"M6 3h10a1 1 0 1 0 0-2H6a3 3 0 0 0-3 3v14a1 1 0 1 0 2 0V4a1 1 0 0 1 1-1Z"})]})})),eA=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:800,height:800,fill:"#fff",stroke:"#fff",viewBox:"0 0 256 164"},e),{children:(0,p.jsx)("path",{d:"m143.749 46.281 35.438-34.453-35.438-8.859v43.312zM127.954 35.33l-7.215-33.1-20.923 17.596 28.138 15.504zm-27.488 37.971a45.657 45.657 0 0 0-9.969-4.237c3.471-2.306 21.769-13.001 21.769-13.001l9.846 15.988s-12.523 7.346-13.057 7.658a45.65 45.65 0 0 0-8.589-6.408zM224.874 84.41l-36.484-9.821a39.155 39.155 0 0 0-16.517-.847c-5.154-4.263-11.177-7.766-17.125-11.22l-10.998-6.397-9.863 15.917 11.431 6.717c2.554 1.483 4.879 2.852 6.997 4.166-5.867 5.085-10.089 11.784-12.149 19.432a39.078 39.078 0 0 0-1.061 14.803h7.558c4.364 0 8.271-1.937 10.939-4.987.032-1.634.252-3.288.696-4.936a20.388 20.388 0 0 1 7.708-11.227c.806 1.962 1.23 4.11 1.23 6.577 0 6.512-3.27 12.83-8.534 16.647l-.011-.037a20.476 20.476 0 0 1-11.987 3.864l-30.972.098a39.106 39.106 0 0 0 .112-20.803c-2.689-9.99-9.407-18.697-18.369-23.857-7.401-4.262-16.295-6.032-24.829-4.911-4.619.607-41.511 10.82-41.511 10.82C21 87.137 12.528 93.662 7.277 102.78c-5.251 9.119-6.641 19.722-3.912 29.855 2.728 10.134 9.252 18.607 18.37 23.856 6.067 3.494 12.788 5.277 19.593 5.277 3.424 0 6.87-.452 10.262-1.365l36.484-9.821a39.093 39.093 0 0 0 16.312-8.967 39.46 39.46 0 0 0 4.951.323h37.328c10.074-.249 19.967-4.006 27.266-11.022a39.626 39.626 0 0 0 7.455-9.843l.044-.086c3.858-7.241 5.302-15.664 4.226-23.787a35.798 35.798 0 0 0-.776-4.108l35.11 9.451c5.297 1.425 9.726 4.836 12.471 9.604 2.745 4.768 3.472 10.31 2.045 15.608-2.948 10.954-14.259 17.467-25.211 14.517l-30.126-8.11c-5.674 5.84-12.896 10.166-21.004 12.293a39.056 39.056 0 0 0 9.766 4.128l36.484 9.821a39.453 39.453 0 0 0 10.262 1.365c6.804 0 13.526-1.785 19.593-5.277 9.118-5.25 15.643-13.722 18.371-23.856 5.642-20.952-6.816-42.586-27.767-48.226zm-127.57 34.829c-5.056-3.664-8.39-9.556-8.525-16.232a14.474 14.474 0 0 0-3.668-3.04c-2.225-1.282-4.734-2.063-7.25-1.959-3.326.137-7.757 1.572-7.757 1.572a42.508 42.508 0 0 0-.116 3.008c0 11.863 5.285 22.509 13.615 29.729-.139.04-.269.095-.409.133l-36.485 9.821c-5.296 1.426-10.839.699-15.607-2.046-4.767-2.745-8.178-7.174-9.604-12.471-2.949-10.954 3.563-22.265 14.517-25.213 5.677-1.528 25.619-6.803 29.892-8.043 4.404-1.278 8.924-2.601 13.56-2.396 3.019.134 6.032 1.163 8.64 2.664 4.678 2.694 8.201 7.257 9.604 12.47a20.47 20.47 0 0 1-.407 12.003z"})})),ez=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:25,height:6,fill:"none"},e),{children:(0,p.jsx)("path",{fill:"#000",d:"M24.887 2.192c-.102.335-.835.734-1.324.77-2.124.16-2.129.116-2.25 1.84-.068.937-.497 1.209-1.926 1.198-1.308-.01-1.81-.294-1.748-1.24.11-1.67-.646-1.814-2.322-1.77-1.629.043-3.261 0-5.011 0h-.72c-2.02 0-2.145.097-2.237 1.74-.055.99-.461 1.26-1.845 1.26-1.383 0-1.777-.277-1.83-1.273C3.59 3.11 3.495 3.03 1.53 2.987.413 2.97.035 2.672 0 1.768V.035h3.676c0 .623-.023 1.208 0 1.79.048.922.461 1.171 1.822 1.171 1.36 0 1.78-.25 1.844-1.152.019-.264 0-.53.023-.796C7.402.373 7.877.015 8.687.007c1.96-.016 3.92 0 5.954 0 .652 0 1.303.017 1.95.038.822.03 1.027.624 1.038 1.255.026 1.54.376 1.776 2.274 1.7.941-.035 1.384-.428 1.41-1.17V.037h3.638c0 .723.145 1.473-.064 2.155Z"})})),eN=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"#fff",stroke:"#fff",className:"cf-icon-svg",viewBox:"-3.5 0 19 19"},e),{children:(0,p.jsx)("path",{d:"M11.182 8.927v6.912a.794.794 0 0 1-.792.792H1.61a.794.794 0 0 1-.792-.792V8.927a.794.794 0 0 1 .792-.792h.856V6.367a3.534 3.534 0 1 1 7.068 0v1.768h.856a.794.794 0 0 1 .792.792zm-2.756-2.56a2.426 2.426 0 1 0-4.852 0v1.768h4.852zM7.108 11.47a1.108 1.108 0 1 0-1.583 1.001v1.849a.475.475 0 0 0 .95 0v-1.849a1.108 1.108 0 0 0 .633-1.001z"})})),e_=e=>(0,p.jsxs)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none"},e),{children:[(0,p.jsx)("path",{fill:"#4285F4",fillRule:"evenodd",d:"M12.504 5.884c0-.404-.039-.792-.111-1.165H6.61v2.203h3.304c-.143.712-.575 1.315-1.225 1.72v1.428h1.984c1.16-.991 1.83-2.452 1.83-4.186Z",clipRule:"evenodd"}),(0,p.jsx)("path",{fill:"#34A853",fillRule:"evenodd",d:"M6.61 11.45c1.658 0 3.048-.51 4.064-1.38L8.69 8.641c-.55.342-1.253.544-2.08.544-1.598 0-2.952-1.002-3.434-2.348H1.125v1.475c1.01 1.862 3.086 3.138 5.486 3.138Z",clipRule:"evenodd"}),(0,p.jsx)("path",{fill:"#FBBC05",fillRule:"evenodd",d:"M3.176 6.837a3.2 3.2 0 0 1-.193-1.083c0-.375.07-.74.193-1.082V3.197H1.125a5.36 5.36 0 0 0-.653 2.557c0 .92.237 1.79.653 2.558l2.05-1.475Z",clipRule:"evenodd"}),(0,p.jsx)("path",{fill:"#EA4335",fillRule:"evenodd",d:"M6.61 2.324c.902 0 1.711.288 2.347.852l1.761-1.634C9.655.623 8.265.06 6.611.06c-2.4 0-4.476 1.276-5.486 3.138l2.05 1.475c.483-1.346 1.837-2.348 3.436-2.348Z",clipRule:"evenodd"})]})),eT=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:19,height:17,fill:"none"},e),{children:(0,p.jsx)("path",{fill:"#000",d:"M17.304 0h-9.43c-.873 0-1.71.356-2.328.982C3.873 2.685 2.642 3.945.968 5.646A3.375 3.375 0 0 0 0 8.016v8.253c0 .403.323.731.723.731h8.962c.877 0 1.714-.356 2.332-.986l5.042-5.131c.614-.63.964-1.483.964-2.372V.737A.728.728 0 0 0 17.304 0Zm-1.2 5.576-3.556 8.197a2.415 2.415 0 0 1-3.21 1.268l-6.993-3.144a.852.852 0 0 1-.422-1.111l3.555-8.198a2.416 2.416 0 0 1 3.21-1.268l6.993 3.144c.418.19.604.686.423 1.112Z"})})),eB=e=>(0,p.jsx)("svg",T(_({xmlns:"http://www.w3.org/2000/svg",width:47,height:12,fill:"none"},e),{children:(0,p.jsx)("path",{fill:"#000",d:"M5.36 8.817a.168.168 0 0 1-.316 0L2.048.938H.03v10.659h1.49V4.549c0-.191.26-.24.329-.062l2.734 7.11h1.239l2.73-7.107c.068-.179.328-.128.328.062l-.001 7.043h1.49V.94H8.338L5.36 8.817ZM13.89 6.783h8.904c.016-.161.03-.339.03-.515 0-3.108-2.519-5.604-5.599-5.488-2.779.106-5.079 2.449-5.18 5.28-.113 3.135 2.335 5.698 5.387 5.698 2.22 0 4.123-1.364 4.944-3.317L20.75 8.31c-.159.264-.361.514-.578.748a3.803 3.803 0 0 1-2.74 1.16 3.803 3.803 0 0 1-2.738-1.16 3.893 3.893 0 0 1-1.05-1.982.25.25 0 0 1 .247-.293Zm-.139-1.74.009-.03.031-.089.016-.042a4.225 4.225 0 0 1 .143-.332c.017-.041.038-.082.058-.121a.577.577 0 0 1 .039-.071c.025-.051.055-.105.087-.156a4.45 4.45 0 0 1 .27-.395l.11-.134.035-.039A3.803 3.803 0 0 1 17.43 2.32a3.803 3.803 0 0 1 2.881 1.314c.013.013.023.026.034.04.04.046.08.095.119.143l.008.013a5.123 5.123 0 0 1 .254.372 4.322 4.322 0 0 1 .29.58c.006.013.008.025.014.038l.07.187.001.007.009.031a.2.2 0 0 1-.195.227h-6.97a.202.202 0 0 1-.196-.224l.001-.004ZM41.623 11.717c-2.964 0-5.376-2.457-5.376-5.476 0-3.02 2.412-5.477 5.376-5.477C44.588.764 47 3.221 47 6.241c0 3.02-2.412 5.476-5.377 5.476Zm0-9.388c-2.117 0-3.84 1.755-3.84 3.912 0 2.156 1.723 3.911 3.84 3.911s3.84-1.755 3.84-3.911c0-2.157-1.723-3.912-3.84-3.912ZM34.822 6.183v.06a5.498 5.498 0 0 1-2.93 4.876l-.119.06c-.04.018-.078.037-.118.054a4.138 4.138 0 0 1-.417.17c-.08.03-.162.056-.244.082a5.415 5.415 0 0 1-.603.142l-.042.009a5.54 5.54 0 0 1-.314.044l-.005.001c-.193.02-.388.036-.588.036-2.964 0-5.377-2.457-5.377-5.476 0-3.02 2.413-5.477 5.377-5.477 2.301 0 4.267 1.478 5.033 3.551h-1.692c-.659-1.185-1.91-1.987-3.342-1.987-2.119 0-3.84 1.754-3.84 3.911 0 2.158 1.721 3.912 3.84 3.912.08 0 .16-.002.24-.009 1.587-.097 2.915-1.184 3.402-2.66.005-.012.008-.026.014-.038l.001-.009c.003-.009.008-.019.009-.029a.182.182 0 0 0-.006-.074.199.199 0 0 0-.19-.151h-3.23V5.67h5.108l.003.037.007.086a9.939 9.939 0 0 1 .023.39Z"})})),eR=e=>{var t,l,r,i,o,n,s,a,c;let{setSection:d}=e,{redirectToAppleLogin:m,redirectToGoogleLogin:h}=eb(),{style:g,providerConfiguration:u}=R();return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{onClick:m,children:(null==(t=null==g?void 0:g.customButtonOverrideComponent)?void 0:t.appleButton)?null==(l=null==g?void 0:g.customButtonOverrideComponent)?void 0:l.appleButton:!u||(null==u?void 0:u.appleProvider)||(null==u?void 0:u.appleProvider)===void 0||(null==u?void 0:u.appleProvider)===null?(0,p.jsxs)("button",{className:"mego-modal-button mego-apple",style:_({},null==(r=null==g?void 0:g.modalStyle)?void 0:r.buttonStyle),children:[(0,p.jsx)("div",{style:{marginRight:"0.5rem"},children:(0,p.jsx)(eL,{height:13,width:11})}),(0,p.jsx)("p",{className:"mego-font-medium",children:"APPLE ACCOUNT"})]}):(0,p.jsx)("div",{})}),(0,p.jsx)("div",{onClick:h,children:(null==(i=null==g?void 0:g.customButtonOverrideComponent)?void 0:i.googleButton)?null==(o=null==g?void 0:g.customButtonOverrideComponent)?void 0:o.googleButton:(null==u?void 0:u.googleProvider)||(null==u?void 0:u.googleProvider)===void 0||(null==u?void 0:u.googleProvider)===null?(0,p.jsxs)("button",{className:"mego-modal-button",style:_({},null==(n=null==g?void 0:g.modalStyle)?void 0:n.buttonStyle),children:[(0,p.jsx)(e_,{width:17,style:{marginRight:"0.5rem"}}),(0,p.jsx)("p",{className:"mego-font-medium",children:"GOOGLE ACCOUNT"})]}):(0,p.jsx)("div",{})}),(null==u?void 0:u.walletConnectProvider)||(null==u?void 0:u.walletConnectProvider)===void 0||(null==u?void 0:u.walletConnectProvider)===null?(0,p.jsx)(eI,{}):(0,p.jsx)("div",{}),(0,p.jsx)("div",{onClick:()=>d("Email"),children:(null==(s=null==g?void 0:g.customButtonOverrideComponent)?void 0:s.emailButton)?null==(a=null==g?void 0:g.customButtonOverrideComponent)?void 0:a.emailButton:(null==u?void 0:u.emailProvider)||(null==u?void 0:u.emailProvider)===void 0||(null==u?void 0:u.emailProvider)===null?(0,p.jsxs)("button",{className:"mego-modal-button mego-email",style:_({},null==(c=null==g?void 0:g.modalStyle)?void 0:c.buttonStyle),children:[(0,p.jsx)(ez,{width:30}),(0,p.jsx)("p",{className:"mego-font-medium",children:"E-MAIL"})]}):(0,p.jsx)("div",{})})]})},eW=e=>{let{setSection:t}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>t("Login"),children:(0,p.jsx)("p",{className:"mego-font-medium",children:"LOGIN"})}),(0,p.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>t("Register"),children:(0,p.jsx)("p",{className:"mego-font-medium",children:"SIGN UP"})})]})},eF=e=>{let{logout:t}=e,{loggedAs:l,setSection:r,provider:i,requestExportPrivateKeyWithGoogle:o,requestExportPrivateKeyWithApple:n,openMegoModal:s}=eb(),a=new URLSearchParams(window.location.search).get("exported"),c=new URLSearchParams(window.location.search).get("privateKeyVisible");return a&&!c&&r("TokenForPrivateKey"),c&&r("PrivateKey"),(0,p.jsxs)("div",{children:[(0,p.jsxs)("button",{className:"mego-modal-button outlined",onClick:()=>{l&&(navigator.clipboard.writeText(l),alert("Address copied to clipboard"))},children:[(0,p.jsx)(eP,{height:16,width:16,style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,p.jsx)("p",{className:"mego-font-medium",children:"Copy address"})]}),"walletConnect"!==i&&(0,p.jsxs)("button",{className:"mego-modal-button outlined",onClick:()=>{switch(console.log("provider -> ",i),i){case"email":r("LoginWithPasswordForPrivateKey");break;case"google":case"google?provider=google":o();break;case"apple":case"apple?provider=apple":n()}},children:[(0,p.jsx)(eN,{style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,p.jsx)("p",{className:"mego-font-medium",children:"Export private key"})]}),(0,p.jsxs)("button",{className:"mego-modal-button outlined",onClick:t,children:[(0,p.jsx)(eA,{style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,p.jsx)("p",{className:"mego-font-medium",children:"Disconnect"})]})]})},eD=()=>(0,p.jsx)("div",{children:(0,p.jsx)("h5",{className:"mego-login-text mego-font-medium",children:"Export private key to implement"})}),eV=()=>{let[e,t]=(0,u.useState)("");return(0,p.jsxs)("div",{children:[(0,p.jsx)("h5",{className:"mego-login-text mego-font-medium",children:"Insert password to obtain private key"}),(0,p.jsx)("input",{className:"mego-input",id:"password",placeholder:"Password...",value:e,onChange:e=>t(e.target.value)})]})},eH=()=>{let[e,t]=(0,u.useState)(""),{revealPrivateKey:l,provider:r,loggedAs:i}=eb();return(0,p.jsxs)("div",{className:"w-full flex flex-col items-center justify-center mt-10",children:[(0,p.jsx)("p",{className:"mego-login-text mego-font-medium",children:"Please insert token received by email"}),(0,p.jsx)("input",{className:"mego-input-token",id:"token",placeholder:"Insert token...",value:e,onChange:e=>t(e.target.value)}),(0,p.jsx)("button",{disabled:0==e.length,className:"mego-modal-button mt-3 "+(0==e.length?"opacity-50":""),onClick:()=>l(e),children:(0,p.jsx)("p",{className:"mego-font-medium",children:"Reveal private key"})}),(0,p.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>{let e=window.location.href.split("?")[0];window.location.href=e+"?provider="+r+"&loggedAs="+i},children:(0,p.jsx)("p",{className:"mego-font-medium",children:"Close"})})]})},eZ=()=>{let{privateKey:e,provider:t,loggedAs:l}=eb();return(0,p.jsxs)("div",{children:[(0,p.jsxs)("h5",{style:{marginTop:"2rem"},className:"mego-login-text mego-font-medium",children:["Private key: ",e]}),(0,p.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>{e&&(navigator.clipboard.writeText(e),alert("Private key copied to clipboard"))},children:(0,p.jsx)("p",{className:"mego-font-medium",children:"Copy private key"})}),(0,p.jsx)("button",{className:"mego-modal-button outlined",onClick:()=>{let e=window.location.href.split("?")[0];window.location.href=e+"?provider="+t+"&loggedAs="+l},children:(0,p.jsx)("p",{className:"mego-font-medium",children:"Close"})})]})},eq=()=>{let{createNewWallet:e,loginWithEmail:t}=eb(),[l,r]=(0,u.useState)(""),[i,o]=(0,u.useState)("");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h5",{className:"mego-login-text mego-font-medium",style:{marginTop:"10px"},children:"Type your e-mail address and Password to login"}),(0,p.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(l,i)},className:"mego-form",children:[(0,p.jsx)("input",{className:"mego-input",id:"email",placeholder:"E-mail address...",value:l,onChange:e=>r(e.target.value),type:"email",name:"email",required:!0,title:"Insert a valid email"}),(0,p.jsx)("input",{className:"mego-input",id:"password",placeholder:"Password...",type:"password",name:"password",value:i,onChange:e=>o(e.target.value),required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, and one number"}),(0,p.jsx)("button",{className:"mego-modal-button mt-3",type:"submit",style:{maxWidth:200},children:(0,p.jsx)("p",{className:"mego-font-medium",children:"LOGIN"})})]})]})},eJ=()=>{let{createNewWallet:e}=eb(),[t,l]=(0,u.useState)(""),[r,i]=(0,u.useState)("");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h5",{className:"mego-login-text mego-font-medium",style:{marginTop:"10px"},children:"Type your e-mail address and Password to register"}),(0,p.jsxs)("form",{onSubmit:l=>{l.preventDefault(),e(t,r)},className:"mego-form",children:[(0,p.jsx)("input",{className:"mego-input",id:"email",placeholder:"E-mail address...",value:t,onChange:e=>l(e.target.value),type:"email",name:"email",required:!0,title:"Insert a valid email"}),(0,p.jsx)("input",{className:"mego-input",id:"password",placeholder:"Password...",type:"password",name:"password",value:r,onChange:e=>i(e.target.value),required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, and one number"}),(0,p.jsx)("p",{className:"mego-login-text ",style:{marginTop:-10,marginBottom:0,fontSize:11},children:"Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, and one number"}),(0,p.jsx)("button",{className:"mego-modal-button mt-3",type:"submit",style:{maxWidth:200},children:(0,p.jsx)("p",{className:"mego-font-medium",children:"REGISTER"})})]})]})},eG=function(e){var t,l,r,i,o,n;let{isOpen:s,onClose:a}=e,[c,d]=(0,u.useState)(!1),{isLoading:m,loggedAs:h,logout:g,loadingText:v,section:x,setSection:y,prevSection:f,setPrevSection:w}=eb(),{style:j}=R();function k(e){y(e),"ChooseType"===e&&w(void 0),"Email"===e&&w("ChooseType"),"Login"===e&&w("Email"),"Register"===e&&w("Email"),"Logged"===e&&w(void 0),"ExportPrivateKey"===e&&w("Logged"),"TokenForPrivateKey"===e&&w("ExportPrivateKey"),"LoginWithPasswordForPrivateKey"===e&&w("Logged")}function C(){d(!0),setTimeout(()=>{a(),d(!1)},300)}return((0,u.useEffect)(()=>{s&&(h?y("Logged"):k("ChooseType"),d(!1))},[s,h]),(0,u.useEffect)(()=>{h&&s&&setTimeout(()=>{y("Logged")},100)},[h,s]),s||c)?(0,p.jsxs)("div",{className:"".concat(c?"closing":""," mego-modal-container"),children:[(0,p.jsx)("div",{className:"mego-modal-backdrop",onClick:C}),(0,p.jsxs)("div",{className:"mego-modal-wrapper",style:{backgroundColor:(null==(l=null==(t=null==j?void 0:j.modalStyle)?void 0:t.headerStyle)?void 0:l.backgroundColor)||"white"},children:[(0,p.jsxs)("div",{className:"mego-modal-header",style:_({},null==(r=null==j?void 0:j.modalStyle)?void 0:r.headerStyle),children:[(0,p.jsxs)("div",{className:"mego-modal-logo",style:{backgroundColor:(null==(o=null==(i=null==j?void 0:j.modalStyle)?void 0:i.headerStyle)?void 0:o.backgroundColor)||"white"},children:[(0,p.jsx)(eT,{height:22,style:{marginRight:"0.5rem",marginTop:"0.5rem"}}),(0,p.jsx)(eB,{height:13,style:{marginRight:"0.5rem",marginTop:"0.5rem"}})]}),(0,p.jsxs)("div",{className:"mego-modal-buttons",children:[f&&!h&&(0,p.jsx)("div",{onClick:()=>k(f),style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,p.jsx)(eO,{height:16,width:16})}),(0,p.jsx)("div",{onClick:C,style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,p.jsx)(V,{onClick:C,height:16,width:16})})]})]}),(0,p.jsx)("div",{className:"mego-modal-content",style:_({},null==(n=null==j?void 0:j.modalStyle)?void 0:n.bodyStyle),children:(0,p.jsxs)("span",{style:{transform:"scale(0.8)",height:300,transition:"height 0.3s"},children:[(0,p.jsx)("div",{className:"mego-modal-title mego-font-medium",style:{marginBottom:"0.5rem"},children:"Register"===x?"REGISTER":"LOGIN"}),m?(0,p.jsxs)("div",{className:"mego-loader-div",children:[(0,p.jsx)("div",{className:"mego-loader"}),(0,p.jsx)("p",{className:"mego-login-text mego-font-medium",style:{marginTop:"1rem"},children:v||"Loading data..."})]}):function(){switch(x){case"ChooseType":return(0,p.jsx)(eR,{setSection:k});case"Email":return(0,p.jsx)(eW,{setSection:k});case"Login":return(0,p.jsx)(eq,{});case"Logged":return(0,p.jsx)(eF,{logout:g});case"Register":return(0,p.jsx)(eJ,{});case"ExportPrivateKey":return(0,p.jsx)(eD,{});case"TokenForPrivateKey":return(0,p.jsx)(eH,{});case"LoginWithPasswordForPrivateKey":return(0,p.jsx)(eV,{});case"PrivateKey":return(0,p.jsx)(eZ,{})}}()]})})]})]}):null},eU=()=>{var e;let{loggedAs:t}=eb(),{style:l}=R();return(0,p.jsxs)("div",{className:"mego-wallet-icon-container",style:_({},null==l?void 0:l.megoWalletContainerStyle),children:[(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 26",style:T(_({},null==l?void 0:l.megoWalletIconStyle),{height:"1.5rem",width:"1.5rem",stroke:"none",fill:"".concat((null==(e=null==l?void 0:l.megoWalletIconStyle)?void 0:e.stroke)||"white")}),children:[(0,p.jsx)("path",{d:"M20.4 12.7c.4 0 .8.3.8.8s-.3.8-.8.8h-.2c-.4 0-.8-.3-.8-.8s.3-.8.8-.8h.2Z"}),(0,p.jsx)("path",{d:"M20.2 11h4.2v-.5c0-2.6-2.1-4.8-4.8-4.8h-10c-2.6 0-4.8 2.1-4.8 4.8v6c0 2.6 2.1 4.8 4.8 4.8h10c2.6 0 4.8-2.1 4.8-4.8V16h-4.2c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5Zm-5.5 6.5h-6c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h6c.3 0 .5.2.5.5s-.2.5-.5.5Z"}),(0,p.jsx)("path",{d:"M6.9 6.2c.8-.6 1.8-.9 2.9-.9h10c1.3 0 2.5.5 3.4 1.3l-.7-1.7c-1-2.6-4-3.8-6.5-2.7L8.4 5.3c-.6.2-1 .5-1.5.9Z",style:{fillRule:"evenodd"}})]}),t&&(0,p.jsxs)("div",{children:[t.slice(0,4),"...",t.slice(-4)]})]})};function eK(e){let{customStyle:t,providerConfiguration:l,forceChainId:r}=e,{openMegoModal:i,loggedAs:o,provider:n,setForceChainId:s}=eb(),{setStyle:a,setProviderConfiguration:c}=R();return(0,u.useEffect)(()=>{t&&a(t),l&&c(l),r&&s(r);let e=document.createElement("style");return e.innerHTML="\n  @import url('https://api.fontshare.com/v2/css?f[]=satoshi@300,500&display=swap');\n  \n  .mego-font-light {\n    font-family: 'Satoshi', sans-serif;\n    font-weight: 300;\n  }\n\n  .mego-font-medium {\n    font-family: 'Satoshi', sans-serif;\n    font-weight: 500;\n  }\n",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[t,l,r]),(0,p.jsx)("div",{role:"button",onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"".concat((null==t?void 0:t.megoWalletPosition)||"right"),paddingRight:"1rem",gap:"0.5rem"},children:(0,p.jsx)(eU,{})})}var eY=e=>{let{buttonText:t="Acquista Biglietto",eventDetails:l}=e,{setIsOpen:r,setEventDetails:i,resetPaymentProcessing:o,stepper:n}=ej();return(0,p.jsxs)("button",{style:{backgroundColor:"#3B82F6",color:"white",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",border:"none",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:()=>{5===n&&o(),i(l),r(!0)},onMouseOver:e=>e.currentTarget.style.backgroundColor="#2563EB",onMouseOut:e=>e.currentTarget.style.backgroundColor="#3B82F6",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),t]})},eX=e=>{let t=new Date(e),l=t.getDate().toString().padStart(2,"0"),r=["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"][t.getMonth()],i=t.getFullYear(),o=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0");return"".concat(l," ").concat(r," ").concat(i,", ").concat(o,":").concat(n)},eQ=e=>{let{event:t,startDate:l,endDate:r}=e;return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{style:{width:"100%",height:"300px",overflow:"hidden"},children:(0,p.jsx)("img",{src:t.banner||t.image,alt:t.event_name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,p.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"#1A1A1A"},children:[(0,p.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1.5rem",color:"#fff"},children:t.event_name}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,p.jsxs)("span",{style:{color:"#E5E7EB",fontSize:"0.9rem"},children:[l," - ",r]})]}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,p.jsx)("span",{style:{color:"#E5E7EB",fontSize:"0.9rem"},children:t.event_location})]}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,p.jsxs)("span",{style:{color:"#E5E7EB",fontSize:"0.9rem"},children:["Network: ",t.blockchain||"Polygon"]})]}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,p.jsxs)("span",{style:{color:"#E5E7EB",fontSize:"0.9rem"},children:["Hosted by: ",(null==t?void 0:t.event_owner)?"".concat(t.event_owner.slice(0,4),"...").concat(t.event_owner.slice(-4)):"Event organizer"]})]}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"0.5rem"},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,p.jsxs)("div",{style:{color:"#9CA3AF",fontSize:"0.9rem"},children:[(0,p.jsx)("span",{style:{fontWeight:"500"},children:"Minted: "}),(0,p.jsxs)("span",{children:[t.minted||0," / ",t.supply||0]})]})]})]})]})]})},e$=e=>{let{eventDetails:t,isPriceZero:l,priceText:r,supplyText:i}=e;return(0,p.jsx)("div",{style:{padding:"1.5rem",backgroundColor:"#1E1E1E",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{style:{color:"#9CA3AF",fontSize:"0.875rem",fontWeight:"500",marginBottom:"0.5rem"},children:"Ticket Price"}),(0,p.jsx)("div",{style:{color:"#fff",fontSize:"1.5rem",fontWeight:"700"},children:r})]}),(0,p.jsx)(eY,{eventDetails:t,buttonText:l?"Claim Free Ticket":"Buy Ticket"})]})})},e0={width:"100%",height:"200px",borderRadius:"8px",marginTop:"0.5rem"},e1={lat:41.9028,lng:12.4964},e2=e=>{let{location:t}=e,[l,r]=(0,u.useState)(e1),[i,o]=(0,u.useState)(!1),[n,s]=(0,u.useState)(!0),a=(0,u.useCallback)(e=>{console.log("Map loaded:",t),s(!1)},[t]),c=(0,u.useCallback)(()=>{console.error("Error loading Google Maps"),o(!0),s(!1)},[]),d=M.env.REACT_APP_GOOGLE_MAPS_API_KEY||"";return!d||i?(0,p.jsxs)("div",{style:{width:"100%",height:"200px",borderRadius:"8px",marginTop:"0.5rem",backgroundColor:"#1E1E1E",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,p.jsx)("p",{style:{color:"#9CA3AF",marginBottom:"0.5rem"},children:"Impossibile caricare la mappa"}),(0,p.jsx)("p",{style:{color:"#E5E7EB",fontSize:"0.875rem"},children:t})]}):(0,p.jsxs)("div",{children:[n&&(0,p.jsx)("div",{style:{width:"100%",height:"200px",borderRadius:"8px",marginTop:"0.5rem",backgroundColor:"#1E1E1E",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,p.jsx)("p",{style:{color:"#9CA3AF"},children:"Caricamento mappa..."})}),(0,p.jsx)(E.KJ,{googleMapsApiKey:d,onError:c,children:(0,p.jsx)(E.b6,{mapContainerStyle:e0,center:l,zoom:14,onLoad:a,options:{styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]}],disableDefaultUI:!0},children:(0,p.jsx)(E.Jx,{position:l})})})]})},e3=e=>{let{event:t}=e;return(0,p.jsxs)("div",{style:{padding:"2rem"},children:[(0,p.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,p.jsx)("div",{style:{color:"#9CA3AF",fontSize:"0.875rem",fontWeight:"500"},children:"Event Location"})]}),(0,p.jsxs)("div",{style:{marginLeft:"2rem"},children:[(0,p.jsx)("div",{style:{color:"#fff",fontSize:"1.125rem",fontWeight:"600",marginBottom:"0.75rem"},children:t.event_location}),"physical"===t.event_type&&(0,p.jsx)(e2,{location:t.event_location})]})]}),(0,p.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,p.jsx)("div",{style:{color:"#9CA3AF",fontSize:"0.875rem",fontWeight:"500"},children:"Description"})]}),(0,p.jsx)("div",{style:{marginLeft:"2rem"},children:(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:t.event_description},style:{color:"#E5E7EB",fontSize:"0.9375rem",lineHeight:"1.5"}})})]}),(0,p.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,p.jsx)("span",{style:{display:"inline-block",backgroundColor:"rgba(37, 99, 235, 0.2)",color:"#60a5fa",padding:"0.5rem 1rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"600",border:"1px solid rgba(37, 99, 235, 0.3)"},children:"physical"===t.event_type?"Evento Fisico":"Evento Virtuale"}),(0,p.jsx)("span",{style:{display:"inline-block",padding:"0.5rem 1rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"600",backgroundColor:"active"===t.event_status?"rgba(5, 150, 105, 0.2)":"rgba(220, 38, 38, 0.2)",color:"active"===t.event_status?"#34d399":"#f87171",border:"active"===t.event_status?"1px solid rgba(5, 150, 105, 0.3)":"1px solid rgba(220, 38, 38, 0.3)"},children:"active"===t.event_status?"Attivo":"Non attivo"})]})]})},e5=e=>{let{userId:t}=e;return(0,p.jsxs)("div",{style:{padding:"2rem",backgroundColor:"#1A1A1A",borderRadius:"0.5rem",margin:"1rem 0"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),(0,p.jsx)("div",{style:{color:"#9CA3AF",fontSize:"1rem",fontWeight:"600"},children:"My Tickets"})]}),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"3rem",backgroundColor:"#121212",borderRadius:"0.375rem",border:"1px dashed #333"},children:(0,p.jsx)("p",{style:{color:"#9CA3AF",fontSize:"0.875rem"},children:"No tickets available yet"})})]})},e4=e=>{let{ticketId:t}=e,[l,r]=(0,u.useState)(null),[i,o]=(0,u.useState)(!0),[n,s]=(0,u.useState)(null);if((0,u.useEffect)(()=>{(async()=>{try{o(!0);let e=await er(t);r(e),o(!1)}catch(e){console.error("Errore nel recupero dei dettagli dell'evento:",e),s("Impossibile caricare i dettagli dell'evento"),o(!1)}})()},[t]),i)return(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem",height:"100vh"},children:(0,p.jsx)("p",{style:{color:"#fff"},children:"Caricamento in corso..."})});if(n)return(0,p.jsx)("div",{style:{backgroundColor:"#FEE2E2",border:"1px solid #F87171",color:"#B91C1C",padding:"0.75rem 1rem",borderRadius:"0.25rem",margin:"1rem"},children:(0,p.jsx)("p",{children:n})});if(!l||!l.event)return(0,p.jsx)("div",{style:{backgroundColor:"#FEF3C7",border:"1px solid #F59E0B",color:"#92400E",padding:"0.75rem 1rem",borderRadius:"0.25rem",margin:"1rem"},children:(0,p.jsx)("p",{children:"Nessun dettaglio disponibile per questo evento"})});let a=l.event;console.log("Event Details:",a);let c=eX(a.timestamp_start),d=eX(a.timestamp_end),m=0===a.price,h=m?"Gratuito":"".concat(a.price," ").concat(a.currency.toUpperCase()),g=a.supply-a.minted,v=a.show_supply?"".concat(g," / ").concat(a.supply," ticket disponibili"):"";return(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"800px",margin:"0 auto",backgroundColor:"#121212",color:"#fff",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)"},children:[(0,p.jsx)(eQ,{event:a,startDate:c,endDate:d}),(0,p.jsx)(e$,{eventDetails:l,isPriceZero:m,priceText:h,supplyText:v}),(0,p.jsx)(e3,{event:a}),(0,p.jsx)(e5,{userId:t})]})}}}]);