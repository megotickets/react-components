(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{22809:function(e,t,n){Promise.resolve().then(n.bind(n,74364))},74364:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ta}});var o,i,a=n(89075),l=n(50511);n(59517);var r=n(20815),s=n(20392),c=n(25326),d=n(76733),m=Object.defineProperty,p=Object.defineProperties,h=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(u)for(var n of u(t))y.call(t,n)&&f(e,n,t[n]);return e},x=(e,t)=>p(e,h(t));!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}('.mego-modal-container {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  font-family: "Lato";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  z-index: 1000;\n}\n.graci .mego-modal-container,\n.cottanera .mego-modal-container,\n.custodi .mego-modal-container,\n.benanti .mego-modal-container,\n.russo .mego-modal-container {\n  background-color: #c1c7b8;\n  color: purple;\n  filter: none;\n}\n.etna-survey__nav-button {\n  color: black;\n}\n.mego-apple img,\n.mego-email img,\n.mego-modal-header img {\n  filter: none;\n}\n.mego-modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(5px);\n  animation: fadeIn 0.3s ease-out;\n}\n.mego-modal-wrapper {\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  max-width: 700px;\n  margin: 0 auto;\n  background-color: white;\n  border-radius: 1.5rem 1.5rem 0 0;\n  animation: slideUp 0.3s ease-out;\n  bottom: 0;\n}\n.mego-modal-container.closing .mego-modal-backdrop {\n  animation: fadeOut 0.3s ease-in forwards;\n}\n.mego-modal-container.closing .mego-modal-wrapper {\n  animation: slideDown 0.3s ease-in forwards;\n}\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@keyframes slideUp {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n@keyframes slideDown {\n  from {\n    transform: translateY(0);\n  }\n  to {\n    transform: translateY(100%);\n  }\n}\n.mego-modal-content {\n  background-color: black;\n  min-height: 313px;\n  padding: 1.5rem;\n  border-radius: 1.5rem 1.5rem 0 0;\n  overflow-y: overlay;\n}\n.mego-modal-container {\n  height: auto;\n  display: flex;\n  flex-direction: column-reverse;\n  background-color: unset;\n}\n.mego-modal-button {\n  width: 100%;\n  padding: 0.9rem;\n  max-width: 315px;\n  color: black;\n  margin: auto;\n  margin-bottom: 0.85rem;\n  background-color: white;\n  border-radius: 0.6rem;\n  border: none;\n  outline: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.mego-modal-button.outlined {\n  background-color: #000;\n  border: 0.1rem solid white;\n  color: white;\n}\n.mego-modal-button img {\n  min-height: 20px;\n  margin-right: 0.75rem;\n}\n.mego-loader {\n  width: 50px;\n  padding: 8px;\n  aspect-ratio: 1;\n  border-radius: 50%;\n  background: white;\n  --_m: conic-gradient(#0000 10%, #000), linear-gradient(#000 0 0) content-box;\n  -webkit-mask: var(--_m);\n  mask: var(--_m);\n  -webkit-mask-composite: source-out;\n  mask-composite: subtract;\n  animation: mego-spin 1s infinite linear;\n  margin: auto;\n}\n@keyframes mego-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n.mego-loader-div {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.font-bold {\n  font-weight: bold;\n}\n.mego-modal-header {\n  display: flex;\n  justify-content: space-between;\n  padding: 12px 16px;\n}\n.mego-input {\n  background-color: #000;\n  border: 0.1rem solid white;\n  padding: 0.9rem;\n  border-radius: 0.6rem;\n  margin-bottom: 1rem;\n  outline: none;\n  color: white;\n  width: 100%;\n}\n.mego-input-token {\n  background-color: #000;\n  border: 0.1rem solid white;\n  padding: 0.9rem;\n  border-radius: 0.6rem;\n  margin-bottom: 1rem;\n  outline: none;\n  width: 100%;\n  color: white;\n  width: 100%;\n}\n.mego-input::placeholder {\n  opacity: 1;\n  color: white;\n}\n.mego-input:user-invalid {\n  border-color: red;\n}\n.mego-login-text {\n  color: white;\n  text-align: center;\n  font-size: 1rem;\n  margin-top: -2rem;\n  margin-bottom: 2rem;\n}\n.mego-modal-logo {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n.mego-modal-buttons {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n.mego-wallet-icon-container {\n  cursor: pointer;\n  border: 3px solid white;\n  border-radius: 50px;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n}\n.mego-wallet-icon-container:hover {\n  background-color: lightgray;\n}\n.mego-modal-title {\n  font-size: 1.5rem;\n  color: white;\n  margin-left: auto;\n  margin-right: auto;\n  font-weight: bold;\n  margin-top: 0;\n  margin-bottom: 1.5rem;\n  text-align: center;\n}\n.mego-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n}\n.payment-modal .mego-modal-wrapper {\n  border-radius: 1.5rem 1.5rem 0 0;\n  display: flex;\n  flex-direction: column;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-wrapper {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: white;\n  transition: transform 0.3s ease-out;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 1.5rem;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-title {\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: black;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-details {\n  text-align: center;\n  margin-bottom: 2rem;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-item-name {\n  font-size: 1.5rem;\n  color: white;\n  margin-bottom: 0.5rem;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-amount {\n  font-size: 2rem;\n  font-weight: bold;\n  color: white;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-methods {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  background-color: white;\n  color: black;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-family: "Satoshi", sans-serif;\n}\n.payment-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n.payment-button p {\n  font-family: "Satoshi", sans-serif;\n}\n.payment-image {\n  height: 100px;\n  width: auto;\n  object-fit: cover;\n}\n.payment-image-container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 1rem;\n}\n.font-satoshi {\n  font-family: "Satoshi", sans-serif;\n}\n.mego-password-container {\n  border: 1px solid white;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n.chooseType-btn {\n  width: 40%;\n}\n.chooseType-btn-content {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n@media (max-width: 768px) {\n  .chooseType-btn {\n    width: 50%;\n  }\n}\n@media (max-width: 480px) {\n  .chooseType-btn {\n    width: 100%;\n  }\n}\n.chooseType-btn-container {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n.email-section-container,\n.logged-section-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n}\n');var w=(0,l.createContext)(void 0),j="https://wallet.mego.tools",b=()=>{let e=(0,l.useContext)(w);if(void 0===e)throw Error("useWeb3Context must be used within a Web3Provider");return e},k=e=>{let{children:t}=e,{openConnectModal:n}=(0,c.We)(),[o,i]=(0,l.useState)("ChooseType"),[m,p]=(0,l.useState)(),[h,u]=(0,l.useState)(!1),[g,y]=(0,l.useState)(null),[f,v]=(0,l.useState)(null),[x,b]=(0,l.useState)(null),[k,C]=(0,l.useState)(null),[N,S]=(0,l.useState)(!1),[T,M]=(0,l.useState)(""),[E,L]=(0,l.useState)(null),[P,O]=(0,l.useState)(0),{address:A,isConnected:z}=(0,d.mAM)(),[I,B]=(0,l.useState)(!0),{switchChain:_}=(0,d.o$C)(),F=()=>{u(!0),S(!1)};(0,l.useEffect)(()=>{A&&(C(A),i("Logged"),localStorage.setItem("loggedAs",A),y("walletConnect"),(0,d.Xdw)({loggedAs:A,isConnectWithMego:!1,provider:"walletConnect",email:"-"}),Z())},[A]),(0,l.useEffect)(()=>{z||(C(null),localStorage.removeItem("mego_session"),localStorage.removeItem("mego_email"),y(null),i("ChooseType"),localStorage.removeItem("loggedAs"),localStorage.removeItem("provider"))},[z,A]);let Z=()=>{localStorage.setItem("isQuestionary","false"),u(!1),S(!1)};async function D(){let e=await (0,d.Zws)();S(!0),localStorage.setItem("justLogged","true"),setTimeout(()=>{window.location.href=j+"/auth/apple?origin="+window.location.href.replace("https://","").replace("http://","")+"&device="+e},2500)}async function R(){let e=await (0,d.Zws)();S(!0),localStorage.setItem("justLogged","true"),setTimeout(()=>{window.location.href=j+"/auth/google?origin="+window.location.href.replace("https://","").replace("http://","")+"&device="+e},2500)}(0,l.useEffect)(()=>{"true"===localStorage.getItem("isQuestionary")&&F()},[]);let W=async()=>{try{(0,d.zPj)(d.vc),v(null),y(null),C(null),localStorage.removeItem("mego_session"),localStorage.removeItem("mego_email"),localStorage.removeItem("provider"),localStorage.removeItem("loggedAs"),(0,d.AnT)()}catch(e){console.error("Error during logout from walletconnect:",e)}};function H(){y(null),C(null),localStorage.removeItem("mego_session"),localStorage.removeItem("mego_email"),W(),localStorage.removeItem("provider"),localStorage.removeItem("loggedAs"),window.history.replaceState(null,"",window.location.pathname),(0,d.AnT)()}let K=()=>"walletConnect"===g?f:x,V=async()=>"walletConnect"===g&&f?await f.getSigner():{getAddress:async()=>k,signMessage:async e=>{throw Error("Signing not supported for this provider")},sendTransaction:async e=>K().sendTransaction(e),connect:e=>e},U=async()=>{if(M("Checking walletconnect ..."),!window.ethereum){alert("walletConnect is not installed");return}try{let e=new r.Q(window.ethereum);await e.send("eth_requestAccounts",[]);let t=await e.getSigner(),n=await t.getAddress();y("walletConnect"),v(e),C(n),localStorage.setItem("loggedAs",n),localStorage.setItem("provider","walletConnect"),(0,d.Xdw)({loggedAs:n,isConnectWithMego:!1,provider:"walletConnect",email:"-"}),i("Logged"),P&&0!==P&&await e.send("wallet_switchEthereumChain",[{chainId:"0x".concat(P.toString(16))}])}catch(e){console.error("Error initializing provider:",e),console.log(e),(0,d.AnT)()}finally{S(!1),M("")}},q=async(e,t)=>{let n=e.toLowerCase();M("Checking email and password");let o=await s.Z.post("".concat(j,"/wallets/check"),{email:n,password:t});!1===o.data.error?(S(!1),M(""),C(o.data.addresses.eth),localStorage.setItem("loggedAs",o.data.addresses.eth),localStorage.setItem("provider","email"),localStorage.setItem("email",e),y("email"),(0,d.Xdw)({loggedAs:o.data.addresses.eth,isConnectWithMego:!0,provider:"email",email:e})):(M(""),alert(o.data.message),S(!1))};async function J(e,t){if(!N){S(!0),M("Creating new mego wallet");let n=e.toLowerCase(),o=await s.Z.post("".concat(j,"/wallets/email/new"),{email:n,password:t});o.data.error?(alert(o.data.message),S(!1),M("")):await q(e,t)}}let Y=async()=>{let e=(0,d.MGg)(),t=null,n=null,o=null,i=null,a=new URLSearchParams(window.location.search);if(e)t=e.provider,n=e.loggedAs,o=e.session,i=e.email;else{if(t=a.get("provider"),n=a.get("loggedAs")||a.get("signedAs"),o=a.get("session"),i=a.get("email"),!n||!t||!i)return;(0,d.Xdw)({loggedAs:n,isConnectWithMego:"walletConnect"!=t,provider:t,email:i,session:o})}let l=a.get("exported");if(t&&(y(t),localStorage.setItem("provider",t),("google"===t||"apple"===t)&&b(null),l&&F()),n&&(C(n),localStorage.setItem("loggedAs",n)),!t&&!n){let e=localStorage.getItem("provider"),t=localStorage.getItem("loggedAs");e&&(y(e),"google"===e||"apple"===e?b(null):"walletConnect"===e&&U()),t&&C(t)}if(("google"===t||"apple"===t)&&n)try{let e=await (0,d.eL$)(null!=o?o:"");if(e.error){console.error("[Google Auth] Error checking session:",e.message),H(),window.location.reload();return}b(null),"google"===t?y("google"):"apple"===t&&y("apple"),C(n),localStorage.setItem("provider",t),localStorage.setItem("loggedAs",n),l||Z()}catch(e){console.error("[Google Auth] Error initializing provider:",e)}};(0,l.useEffect)(()=>{Y()},[]),(0,l.useEffect)(()=>{var e;let t=async e=>{if(console.log("Detected chain change: ",e),!I){console.log("Service auto chain change is disabled");return}if(0!=P&&e!=="0x".concat(Number(P).toString(16)))try{await _({chainId:P})}catch(e){alert("Errore nel cambio rete:"+e)}};return null==(e=window.ethereum)||e.on("chainChanged",t),()=>{var e;null==(e=window.ethereum)||e.removeListener("chainChanged",t)}},[P,I]),(0,l.useEffect)(()=>{var e;let t=async e=>{if(e.length>0){let e=new r.Q(window.ethereum),t=await e.getSigner(),n=await t.getAddress();C(n),localStorage.setItem("loggedAs",n),i("Logged")}else H()};return null==(e=window.ethereum)||e.on("accountsChanged",t),()=>{var e;null==(e=window.ethereum)||e.removeListener("accountsChanged",t)}},[]);let X=async()=>{S(!0),i("TokenForPrivateKey")},Q=async()=>{S(!0),setTimeout(()=>{window.location.href=j+"/auth/google?origin="+window.location.href.split("?")[0].replace("https://","").replace("http://","")+"&message=EXPORT_WALLET"},2500)},$=async()=>{S(!0),setTimeout(()=>{window.location.href=j+"/auth/apple?origin="+window.location.href.split("?")[0].replace("https://","").replace("http://","")+"&message=EXPORT_WALLET"},2500)},ee=async e=>{S(!0),M("Revealing private key...");let t=await s.Z.post("".concat(j,"/wallets/export"),{token:e});if(t.data.error)M(t.data.message),alert(t.data.message),S(!1),M(""),setTimeout(()=>{window.history.back()},1e3);else{S(!1),L(t.data.private_keys.eth);let e=new URL(window.location.href);e.searchParams.set("privateKeyVisible","true"),window.history.pushState({},"",e.toString()),i("PrivateKey")}};return(0,a.jsxs)(w.Provider,{value:{getProvider:K,getSigner:V,isMegoModalOpen:h,openMegoModal:F,redirectToAppleLogin:D,redirectToGoogleLogin:R,closeMegoModal:Z,provider:g,walletConnectProvider:f,loginWithWalletConnect:U,section:o,setSection:i,prevSection:m,setPrevSection:p,loggedAs:k,isLoading:N,logout:H,setIsLoading:S,loadingText:T,setLoadingText:M,loginWithEmail:q,createNewWallet:J,requestExportPrivateKeyWithEmail:X,requestExportPrivateKeyWithGoogle:Q,requestExportPrivateKeyWithApple:$,revealPrivateKey:ee,privateKey:E,forceChainId:P,setForceChainId:O,serviceAutoChainChange:I,setServiceAutoChainChange:B,isConnectedWithMego:()=>{let e=(0,d.MGg)();return(null==e?void 0:e.isConnectWithMego)||!1}},children:[t,h&&(0,a.jsx)(G,{isOpen:h,onClose:Z})]})},C=e=>(0,a.jsxs)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{children:[(0,a.jsx)("circle",{cx:7,cy:7,r:7,fill:"#000"}),(0,a.jsx)("path",{stroke:"#fff",strokeLinecap:"round",d:"m8.296 4.148-3.11 2.593 3.11 2.592"})]})),N=e=>(0,a.jsxs)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{children:[(0,a.jsx)("circle",{cx:7,cy:7,r:7,fill:"#000"}),(0,a.jsx)("path",{stroke:"#fff",strokeLinecap:"round",d:"m4.667 4.667 4.615 4.615M9.282 4.667 4.667 9.282"})]})),S=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:19,height:17,fill:"none"},e),{children:(0,a.jsx)("path",{fill:"#000",d:"M17.304 0h-9.43c-.873 0-1.71.356-2.328.982C3.873 2.685 2.642 3.945.968 5.646A3.375 3.375 0 0 0 0 8.016v8.253c0 .403.323.731.723.731h8.962c.877 0 1.714-.356 2.332-.986l5.042-5.131c.614-.63.964-1.483.964-2.372V.737A.728.728 0 0 0 17.304 0Zm-1.2 5.576-3.556 8.197a2.415 2.415 0 0 1-3.21 1.268l-6.993-3.144a.852.852 0 0 1-.422-1.111l3.555-8.198a2.416 2.416 0 0 1 3.21-1.268l6.993 3.144c.418.19.604.686.423 1.112Z"})})),T=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:47,height:12,fill:"none"},e),{children:(0,a.jsx)("path",{fill:"#000",d:"M5.36 8.817a.168.168 0 0 1-.316 0L2.048.938H.03v10.659h1.49V4.549c0-.191.26-.24.329-.062l2.734 7.11h1.239l2.73-7.107c.068-.179.328-.128.328.062l-.001 7.043h1.49V.94H8.338L5.36 8.817ZM13.89 6.783h8.904c.016-.161.03-.339.03-.515 0-3.108-2.519-5.604-5.599-5.488-2.779.106-5.079 2.449-5.18 5.28-.113 3.135 2.335 5.698 5.387 5.698 2.22 0 4.123-1.364 4.944-3.317L20.75 8.31c-.159.264-.361.514-.578.748a3.803 3.803 0 0 1-2.74 1.16 3.803 3.803 0 0 1-2.738-1.16 3.893 3.893 0 0 1-1.05-1.982.25.25 0 0 1 .247-.293Zm-.139-1.74.009-.03.031-.089.016-.042a4.225 4.225 0 0 1 .143-.332c.017-.041.038-.082.058-.121a.577.577 0 0 1 .039-.071c.025-.051.055-.105.087-.156a4.45 4.45 0 0 1 .27-.395l.11-.134.035-.039A3.803 3.803 0 0 1 17.43 2.32a3.803 3.803 0 0 1 2.881 1.314c.013.013.023.026.034.04.04.046.08.095.119.143l.008.013a5.123 5.123 0 0 1 .254.372 4.322 4.322 0 0 1 .29.58c.006.013.008.025.014.038l.07.187.001.007.009.031a.2.2 0 0 1-.195.227h-6.97a.202.202 0 0 1-.196-.224l.001-.004ZM41.623 11.717c-2.964 0-5.376-2.457-5.376-5.476 0-3.02 2.412-5.477 5.376-5.477C44.588.764 47 3.221 47 6.241c0 3.02-2.412 5.476-5.377 5.476Zm0-9.388c-2.117 0-3.84 1.755-3.84 3.912 0 2.156 1.723 3.911 3.84 3.911s3.84-1.755 3.84-3.911c0-2.157-1.723-3.912-3.84-3.912ZM34.822 6.183v.06a5.498 5.498 0 0 1-2.93 4.876l-.119.06c-.04.018-.078.037-.118.054a4.138 4.138 0 0 1-.417.17c-.08.03-.162.056-.244.082a5.415 5.415 0 0 1-.603.142l-.042.009a5.54 5.54 0 0 1-.314.044l-.005.001c-.193.02-.388.036-.588.036-2.964 0-5.377-2.457-5.377-5.476 0-3.02 2.413-5.477 5.377-5.477 2.301 0 4.267 1.478 5.033 3.551h-1.692c-.659-1.185-1.91-1.987-3.342-1.987-2.119 0-3.84 1.754-3.84 3.911 0 2.158 1.721 3.912 3.84 3.912.08 0 .16-.002.24-.009 1.587-.097 2.915-1.184 3.402-2.66.005-.012.008-.026.014-.038l.001-.009c.003-.009.008-.019.009-.029a.182.182 0 0 0-.006-.074.199.199 0 0 0-.19-.151h-3.23V5.67h5.108l.003.037.007.086a9.939 9.939 0 0 1 .023.39Z"})})),M=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"none",stroke:"#fff",viewBox:"0 0 24 24"},e),{children:(0,a.jsxs)("g",{fill:"#fff",children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M21 8a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8Zm-2 0a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8Z",clipRule:"evenodd"}),(0,a.jsx)("path",{d:"M6 3h10a1 1 0 1 0 0-2H6a3 3 0 0 0-3 3v14a1 1 0 1 0 2 0V4a1 1 0 0 1 1-1Z"})]})})),E=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:800,height:800,fill:"#fff",stroke:"#fff",viewBox:"0 0 256 164"},e),{children:(0,a.jsx)("path",{d:"m143.749 46.281 35.438-34.453-35.438-8.859v43.312zM127.954 35.33l-7.215-33.1-20.923 17.596 28.138 15.504zm-27.488 37.971a45.657 45.657 0 0 0-9.969-4.237c3.471-2.306 21.769-13.001 21.769-13.001l9.846 15.988s-12.523 7.346-13.057 7.658a45.65 45.65 0 0 0-8.589-6.408zM224.874 84.41l-36.484-9.821a39.155 39.155 0 0 0-16.517-.847c-5.154-4.263-11.177-7.766-17.125-11.22l-10.998-6.397-9.863 15.917 11.431 6.717c2.554 1.483 4.879 2.852 6.997 4.166-5.867 5.085-10.089 11.784-12.149 19.432a39.078 39.078 0 0 0-1.061 14.803h7.558c4.364 0 8.271-1.937 10.939-4.987.032-1.634.252-3.288.696-4.936a20.388 20.388 0 0 1 7.708-11.227c.806 1.962 1.23 4.11 1.23 6.577 0 6.512-3.27 12.83-8.534 16.647l-.011-.037a20.476 20.476 0 0 1-11.987 3.864l-30.972.098a39.106 39.106 0 0 0 .112-20.803c-2.689-9.99-9.407-18.697-18.369-23.857-7.401-4.262-16.295-6.032-24.829-4.911-4.619.607-41.511 10.82-41.511 10.82C21 87.137 12.528 93.662 7.277 102.78c-5.251 9.119-6.641 19.722-3.912 29.855 2.728 10.134 9.252 18.607 18.37 23.856 6.067 3.494 12.788 5.277 19.593 5.277 3.424 0 6.87-.452 10.262-1.365l36.484-9.821a39.093 39.093 0 0 0 16.312-8.967 39.46 39.46 0 0 0 4.951.323h37.328c10.074-.249 19.967-4.006 27.266-11.022a39.626 39.626 0 0 0 7.455-9.843l.044-.086c3.858-7.241 5.302-15.664 4.226-23.787a35.798 35.798 0 0 0-.776-4.108l35.11 9.451c5.297 1.425 9.726 4.836 12.471 9.604 2.745 4.768 3.472 10.31 2.045 15.608-2.948 10.954-14.259 17.467-25.211 14.517l-30.126-8.11c-5.674 5.84-12.896 10.166-21.004 12.293a39.056 39.056 0 0 0 9.766 4.128l36.484 9.821a39.453 39.453 0 0 0 10.262 1.365c6.804 0 13.526-1.785 19.593-5.277 9.118-5.25 15.643-13.722 18.371-23.856 5.642-20.952-6.816-42.586-27.767-48.226zm-127.57 34.829c-5.056-3.664-8.39-9.556-8.525-16.232a14.474 14.474 0 0 0-3.668-3.04c-2.225-1.282-4.734-2.063-7.25-1.959-3.326.137-7.757 1.572-7.757 1.572a42.508 42.508 0 0 0-.116 3.008c0 11.863 5.285 22.509 13.615 29.729-.139.04-.269.095-.409.133l-36.485 9.821c-5.296 1.426-10.839.699-15.607-2.046-4.767-2.745-8.178-7.174-9.604-12.471-2.949-10.954 3.563-22.265 14.517-25.213 5.677-1.528 25.619-6.803 29.892-8.043 4.404-1.278 8.924-2.601 13.56-2.396 3.019.134 6.032 1.163 8.64 2.664 4.678 2.694 8.201 7.257 9.604 12.47a20.47 20.47 0 0 1-.407 12.003z"})})),L=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"#fff",stroke:"#fff",className:"cf-icon-svg",viewBox:"-3.5 0 19 19"},e),{children:(0,a.jsx)("path",{d:"M11.182 8.927v6.912a.794.794 0 0 1-.792.792H1.61a.794.794 0 0 1-.792-.792V8.927a.794.794 0 0 1 .792-.792h.856V6.367a3.534 3.534 0 1 1 7.068 0v1.768h.856a.794.794 0 0 1 .792.792zm-2.756-2.56a2.426 2.426 0 1 0-4.852 0v1.768h4.852zM7.108 11.47a1.108 1.108 0 1 0-1.583 1.001v1.849a.475.475 0 0 0 .95 0v-1.849a1.108 1.108 0 0 0 .633-1.001z"})})),P=e=>{let{logout:t}=e,{loggedAs:n,setSection:o,provider:i,requestExportPrivateKeyWithGoogle:l,requestExportPrivateKeyWithApple:r,openMegoModal:s}=b(),{t:c}=(0,d.ZKp)(),m=new URLSearchParams(window.location.search).get("exported"),p=new URLSearchParams(window.location.search).get("privateKeyVisible");return m&&!p&&o("TokenForPrivateKey"),p&&o("PrivateKey"),(0,a.jsxs)("div",{className:"logged-section-container",children:[(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:()=>{n&&(navigator.clipboard.writeText(n),alert(c("addressCopied","wallet")))},children:(0,a.jsxs)("div",{className:"chooseType-btn-content",children:[(0,a.jsx)(M,{height:16,width:16,style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:c("copyAddress","wallet")})]})}),"walletConnect"!==i&&(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:()=>{switch(console.log("provider -> ",i),i){case"email":o("LoginWithPasswordForPrivateKey");break;case"google":case"google?provider=google":l();break;case"apple":case"apple?provider=apple":r()}},children:(0,a.jsxs)("div",{className:"chooseType-btn-content",children:[(0,a.jsx)(L,{style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:c("exportPrivateKey","wallet")})]})}),(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:t,children:(0,a.jsxs)("div",{className:"chooseType-btn-content",children:[(0,a.jsx)(E,{style:{marginRight:"0.5rem",height:"1.5rem",width:"1.5rem"}}),(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:c("disconnect","wallet")})]})})]})},O=()=>(0,a.jsx)("div",{children:(0,a.jsx)("h5",{className:"mego-login-text mego-font-medium",children:"Export private key to implement"})}),A=()=>{let[e,t]=(0,l.useState)(""),{t:n}=(0,d.ZKp)();return(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"mego-login-text mego-font-medium",children:n("insertPasswordToObtainPrivateKey","wallet")}),(0,a.jsx)("input",{className:"mego-input",id:"password",placeholder:"Password...",value:e,onChange:e=>t(e.target.value)})]})},z=()=>{let[e,t]=(0,l.useState)(""),{revealPrivateKey:n,provider:o,loggedAs:i}=b(),{t:r}=(0,d.ZKp)();return(0,a.jsxs)("div",{className:"w-full flex flex-col gap-3 items-center justify-center mt-10",children:[(0,a.jsx)("p",{className:"mego-login-text mego-font-medium",children:r("insertTokenFromEmail","wallet")}),(0,a.jsx)("input",{className:"mego-input-token font-satoshi",id:"token",placeholder:r("insertToken","wallet"),value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)(d.mMu,{disabled:0==e.length,className:"chooseType-btn mt-3 "+(0==e.length?"disabled":""),onClick:()=>n(e),children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:r("revealPrivateKey","wallet")})}),(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:()=>{let e=window.location.href.split("?")[0];window.location.href=e+"?provider="+o+"&loggedAs="+i},children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:r("closeButton","wallet")})})]})},I=()=>{let{privateKey:e,provider:t,loggedAs:n}=b(),[o,i]=(0,l.useState)(5),{t:r}=(0,d.ZKp)(),s=()=>{let e=window.location.href.split("?")[0];window.location.href=e+"?provider="+t+"&loggedAs="+n};return(0,l.useEffect)(()=>{let e=setInterval(()=>{i(e=>e-1)},1e3);return 0===o&&s(),()=>clearInterval(e)},[o]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{style:{marginTop:"2rem"},className:"mego-login-text mego-font-medium",children:["Private key: ",e]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem"},children:[(0,a.jsx)("div",{className:"chooseType-btn-container",children:(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:()=>{e&&(navigator.clipboard.writeText(e),alert(r("privateKeyCopied","wallet"))),s()},children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:r("copyPrivateKey","wallet")})})}),(0,a.jsx)("div",{className:"chooseType-btn-container",children:(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:s,children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:"".concat(r("close","wallet")," (").concat(Math.max(o,0),"s)")})})})]})]})},B=e=>{let{size:t=20}=e;return(0,a.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M12 5C7 5 2.73 8.11 1 12.5C2.73 16.89 7 20 12 20C17 20 21.27 16.89 23 12.5C21.27 8.11 17 5 12 5ZM12 17.5C9.24 17.5 7 15.26 7 12.5C7 9.74 9.24 7.5 12 7.5C14.76 7.5 17 9.74 17 12.5C17 15.26 14.76 17.5 12 17.5ZM12 9.5C10.34 9.5 9 10.84 9 12.5C9 14.16 10.34 15.5 12 15.5C13.66 15.5 15 14.16 15 12.5C15 10.84 13.66 9.5 12 9.5Z",fill:"#666666"})})},_=e=>{let{size:t=20}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M12 7C14.76 7 17 9.24 17 12C17 12.65 16.87 13.26 16.64 13.83L19.56 16.75C21.07 15.49 22.26 13.86 23 12C21.27 7.61 17 4.5 12 4.5C10.6 4.5 9.26 4.75 8 5.2L10.17 7.37C10.74 7.14 11.35 7 12 7Z",fill:"#666666"}),(0,a.jsx)("path",{d:"M2 4.27L4.28 6.55L4.74 7.01C3.08 8.3 1.78 10.02 1 12C2.73 16.39 7 19.5 12 19.5C13.55 19.5 15.03 19.2 16.38 18.66L16.8 19.08L19.73 22L21 20.73L3.27 3L2 4.27ZM7.53 9.8L9.08 11.35C9.03 11.56 9 11.78 9 12C9 13.66 10.34 15 12 15C12.22 15 12.44 14.97 12.65 14.92L14.2 16.47C13.53 16.8 12.79 17 12 17C9.24 17 7 14.76 7 12C7 11.21 7.2 10.47 7.53 9.8ZM11.84 9.02L14.99 12.17L15.01 12.01C15.01 10.35 13.67 9.01 12.01 9.01L11.84 9.02Z",fill:"#666666"})]})},F=()=>{let{loginWithEmail:e}=b(),[t,n]=(0,l.useState)(""),[o,i]=(0,l.useState)(""),[r,s]=(0,l.useState)(!1),{t:c}=(0,d.ZKp)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{className:"mego-login-text mego-font-medium",style:{marginTop:"10px"},children:c("loginTitle","wallet")}),(0,a.jsxs)("form",{onSubmit:n=>{n.preventDefault(),e(t,o)},className:"mego-form",children:[(0,a.jsx)("input",{className:"mego-input",id:"email",placeholder:c("emailPlaceholder","wallet"),value:t,onChange:e=>n(e.target.value),type:"email",name:"email",required:!0,title:"Insert a valid email"}),(0,a.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,a.jsx)("input",{className:"mego-input",id:"password",placeholder:c("passwordPlaceholder","wallet"),type:r?"text":"password",name:"password",value:o,onChange:e=>i(e.target.value),required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:c("passwordError","wallet")}),(0,a.jsx)("span",{onClick:()=>s(!r),style:{position:"absolute",right:"10px",top:"40%",transform:"translateY(-50%)",cursor:"pointer"},children:r?(0,a.jsx)(B,{}):(0,a.jsx)(_,{})})]}),(0,a.jsx)(d.mMu,{className:"chooseType-btn",type:"submit",style:{maxWidth:200},children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:c("login","wallet")})})]})]})},Z=e=>{let{size:t=20}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M12 7C14.76 7 17 9.24 17 12C17 12.65 16.87 13.26 16.64 13.83L19.56 16.75C21.07 15.49 22.26 13.86 23 12C21.27 7.61 17 4.5 12 4.5C10.6 4.5 9.26 4.75 8 5.2L10.17 7.37C10.74 7.14 11.35 7 12 7Z",fill:"#666666"}),(0,a.jsx)("path",{d:"M2 4.27L4.28 6.55L4.74 7.01C3.08 8.3 1.78 10.02 1 12C2.73 16.39 7 19.5 12 19.5C13.55 19.5 15.03 19.2 16.38 18.66L16.8 19.08L19.73 22L21 20.73L3.27 3L2 4.27ZM7.53 9.8L9.08 11.35C9.03 11.56 9 11.78 9 12C9 13.66 10.34 15 12 15C12.22 15 12.44 14.97 12.65 14.92L14.2 16.47C13.53 16.8 12.79 17 12 17C9.24 17 7 14.76 7 12C7 11.21 7.2 10.47 7.53 9.8ZM11.84 9.02L14.99 12.17L15.01 12.01C15.01 10.35 13.67 9.01 12.01 9.01L11.84 9.02Z",fill:"#666666"})]})},D=()=>{let{createNewWallet:e}=b(),[t,n]=(0,l.useState)(""),[o,i]=(0,l.useState)(""),[r,s]=(0,l.useState)(!1),{t:c}=(0,d.ZKp)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{className:"mego-login-text mego-font-medium",style:{marginTop:"10px"},children:c("registerPlaceholder","wallet")}),(0,a.jsxs)("form",{onSubmit:n=>{n.preventDefault(),e(t,o)},className:"mego-form",children:[(0,a.jsx)("input",{className:"mego-input",id:"email",placeholder:c("emailPlaceholder","wallet"),value:t,onChange:e=>n(e.target.value),type:"email",name:"email",required:!0,title:c("emailError","wallet")}),(0,a.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,a.jsx)("input",{className:"mego-input",id:"password",placeholder:c("passwordPlaceholder","wallet"),type:r?"text":"password",name:"password",value:o,onChange:e=>i(e.target.value),required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"}),(0,a.jsx)("span",{onClick:()=>s(!r),style:{position:"absolute",right:"10px",top:"40%",transform:"translateY(-50%)",cursor:"pointer"},children:r?(0,a.jsx)(B,{}):(0,a.jsx)(Z,{})})]}),(0,a.jsx)("p",{className:"mego-login-text font-satoshi",style:{marginTop:10,marginBottom:10,fontSize:11},children:c("passwordError","wallet")}),(0,a.jsx)(d.mMu,{className:"chooseType-btn",type:"submit",style:{maxWidth:200},children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:c("register","wallet")})})]})]})},R=e=>{let{setSection:t}=e,{t:n}=(0,d.ZKp)();return(0,a.jsxs)("div",{className:"email-section-container",children:[(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:()=>t("Login"),children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:n("login","wallet")})}),(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:()=>t("Register"),children:(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:n("signUp","wallet")})})]})},W=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:11,height:13,fill:"none"},e),{children:(0,a.jsx)("path",{fill:"#fff",d:"M10.21 9.778a6.4 6.4 0 0 1-.614 1.13c-.323.472-.587.798-.791.98-.316.297-.655.45-1.017.458-.26 0-.574-.076-.94-.23-.366-.153-.703-.229-1.011-.229-.323 0-.67.076-1.04.23-.372.153-.67.233-.9.241-.347.015-.693-.141-1.04-.47-.22-.198-.496-.535-.827-1.014a7.074 7.074 0 0 1-.875-1.78 6.653 6.653 0 0 1-.368-2.12c0-.784.166-1.46.497-2.026.26-.455.607-.814 1.04-1.078a2.752 2.752 0 0 1 1.408-.406c.276 0 .638.087 1.088.26.449.172.737.259.863.259.095 0 .415-.102.958-.306.513-.189.946-.267 1.3-.236.962.079 1.684.467 2.165 1.166-.86.533-1.286 1.28-1.277 2.238.008.746.272 1.367.792 1.86.236.229.499.405.791.531-.063.188-.13.369-.201.542ZM8.007.898c0 .585-.21 1.131-.625 1.637-.502.6-1.11.948-1.769.893a1.861 1.861 0 0 1-.013-.221c0-.562.239-1.163.663-1.654.212-.249.481-.456.808-.62.326-.163.634-.253.924-.268.008.078.012.156.012.234Z"})})),H=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:25,height:6,fill:"none"},e),{children:(0,a.jsx)("path",{fill:"#fff",d:"M24.887 2.192c-.102.335-.835.734-1.324.77-2.124.16-2.129.116-2.25 1.84-.068.937-.497 1.209-1.926 1.198-1.308-.01-1.81-.294-1.748-1.24.11-1.67-.646-1.814-2.322-1.77-1.629.043-3.261 0-5.011 0h-.72c-2.02 0-2.145.097-2.237 1.74-.055.99-.461 1.26-1.845 1.26-1.383 0-1.777-.277-1.83-1.273C3.59 3.11 3.495 3.03 1.53 2.987.413 2.97.035 2.672 0 1.768V.035h3.676c0 .623-.023 1.208 0 1.79.048.922.461 1.171 1.822 1.171 1.36 0 1.78-.25 1.844-1.152.019-.264 0-.53.023-.796C7.402.373 7.877.015 8.687.007c1.96-.016 3.92 0 5.954 0 .652 0 1.303.017 1.95.038.822.03 1.027.624 1.038 1.255.026 1.54.376 1.776 2.274 1.7.941-.035 1.384-.428 1.41-1.17V.037h3.638c0 .723.145 1.473-.064 2.155Z"})})),K=e=>(0,a.jsxs)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none"},e),{children:[(0,a.jsx)("path",{fill:"#4285F4",fillRule:"evenodd",d:"M12.504 5.884c0-.404-.039-.792-.111-1.165H6.61v2.203h3.304c-.143.712-.575 1.315-1.225 1.72v1.428h1.984c1.16-.991 1.83-2.452 1.83-4.186Z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"#34A853",fillRule:"evenodd",d:"M6.61 11.45c1.658 0 3.048-.51 4.064-1.38L8.69 8.641c-.55.342-1.253.544-2.08.544-1.598 0-2.952-1.002-3.434-2.348H1.125v1.475c1.01 1.862 3.086 3.138 5.486 3.138Z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"#FBBC05",fillRule:"evenodd",d:"M3.176 6.837a3.2 3.2 0 0 1-.193-1.083c0-.375.07-.74.193-1.082V3.197H1.125a5.36 5.36 0 0 0-.653 2.557c0 .92.237 1.79.653 2.558l2.05-1.475Z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"#EA4335",fillRule:"evenodd",d:"M6.61 2.324c.902 0 1.711.288 2.347.852l1.761-1.634C9.655.623 8.265.06 6.611.06c-2.4 0-4.476 1.276-5.486 3.138l2.05 1.475c.483-1.346 1.837-2.348 3.436-2.348Z",clipRule:"evenodd"})]})),V=e=>(0,a.jsx)("svg",x(v({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 24 24"},e),{children:(0,a.jsx)("path",{fill:"currentColor",d:"M4.913 7.519c3.915-3.831 10.26-3.831 14.174 0l.471.461a.483.483 0 0 1 0 .694l-1.611 1.577a.252.252 0 0 1-.354 0l-.649-.634c-2.73-2.673-7.157-2.673-9.887 0l-.694.68a.255.255 0 0 1-.355 0L4.397 8.719a.482.482 0 0 1 0-.693l.516-.507Zm17.506 3.263 1.434 1.404a.483.483 0 0 1 0 .694l-6.466 6.331a.508.508 0 0 1-.709 0l-4.588-4.493a.126.126 0 0 0-.178 0l-4.589 4.493a.508.508 0 0 1-.709 0L.147 12.88a.483.483 0 0 1 0-.694l1.434-1.404a.508.508 0 0 1 .709 0l4.589 4.493c.05.048.129.048.178 0l4.589-4.493a.508.508 0 0 1 .709 0l4.589 4.493c.05.048.128.048.178 0l4.589-4.493a.507.507 0 0 1 .708 0Z"})})),U=e=>{var t,n,o;let{account:i,chain:l,authenticationStatus:r,mounted:s,openConnectModal:c,openAccountModal:m,loginWithWalletConnect:p,loggedAs:h}=e,{style:u}=(0,d.aeS)(),{t:g}=(0,d.ZKp)();return s&&"loading"!==r?(0,a.jsx)("div",{className:"chooseType-btn-container",children:(null==(t=null==u?void 0:u.customButtonOverrideComponent)?void 0:t.walletConnectButton)?null==(n=null==u?void 0:u.customButtonOverrideComponent)?void 0:n.walletConnectButton:(0,a.jsx)(d.mMu,{className:"chooseType-btn",onClick:c,style:v({},null==(o=null==u?void 0:u.modalStyle)?void 0:o.buttonStyle),children:(0,a.jsxs)("div",{className:"chooseType-btn-content",children:[(0,a.jsx)(V,{width:17,style:{marginRight:"0.5rem"}}),(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:g("walletConnect","wallet")})]})})}):(0,a.jsx)("button",{className:"mego-modal-button",children:"Loading..."})},q=function(){let{loginWithWalletConnect:e,loggedAs:t}=b();return(0,a.jsx)(d.RZ8.Custom,{children:n=>{let{account:o,chain:i,openConnectModal:l,openAccountModal:r,authenticationStatus:s,mounted:c}=n;return(0,a.jsx)(U,{account:o,chain:i,authenticationStatus:null!=s?s:"",mounted:c,openConnectModal:l,openAccountModal:r,loginWithWalletConnect:e,loggedAs:null!=t?t:void 0})}})},J=e=>{var t,n,o,i,l,r,s,c,m;let{setSection:p}=e,{redirectToAppleLogin:h,redirectToGoogleLogin:u}=b(),{style:g,providerConfiguration:y}=(0,d.aeS)(),{t:f}=(0,d.ZKp)();return(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,a.jsx)("div",{className:"chooseType-btn-container",children:(null==(t=null==g?void 0:g.customButtonOverrideComponent)?void 0:t.appleButton)?null==(n=null==g?void 0:g.customButtonOverrideComponent)?void 0:n.appleButton:!y||(null==y?void 0:y.appleProvider)||(null==y?void 0:y.appleProvider)===void 0||(null==y?void 0:y.appleProvider)===null?(0,a.jsx)(d.mMu,{onClick:h,className:"chooseType-btn",style:v({},null==(o=null==g?void 0:g.modalStyle)?void 0:o.buttonStyle),children:(0,a.jsxs)("div",{className:"chooseType-btn-content",children:[(0,a.jsx)("div",{style:{marginRight:"0.5rem"},children:(0,a.jsx)(W,{height:13,width:11})}),(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:f("appleAccount","wallet")})]})}):(0,a.jsx)("div",{})}),(0,a.jsx)("div",{className:"chooseType-btn-container",children:(null==(i=null==g?void 0:g.customButtonOverrideComponent)?void 0:i.googleButton)?null==(l=null==g?void 0:g.customButtonOverrideComponent)?void 0:l.googleButton:(null==y?void 0:y.googleProvider)||(null==y?void 0:y.googleProvider)===void 0||(null==y?void 0:y.googleProvider)===null?(0,a.jsx)(d.mMu,{onClick:u,className:"chooseType-btn",style:v({},null==(r=null==g?void 0:g.modalStyle)?void 0:r.buttonStyle),children:(0,a.jsxs)("div",{className:"chooseType-btn-content",children:[(0,a.jsx)(K,{width:17,style:{marginRight:"0.5rem"}}),(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:f("googleAccount","wallet")})]})}):(0,a.jsx)("div",{})}),(null==y?void 0:y.walletConnectProvider)||(null==y?void 0:y.walletConnectProvider)===void 0||(null==y?void 0:y.walletConnectProvider)===null?(0,a.jsx)(q,{}):(0,a.jsx)("div",{}),(0,a.jsx)("div",{className:"chooseType-btn-container",children:(null==(s=null==g?void 0:g.customButtonOverrideComponent)?void 0:s.emailButton)?null==(c=null==g?void 0:g.customButtonOverrideComponent)?void 0:c.emailButton:(null==y?void 0:y.emailProvider)||(null==y?void 0:y.emailProvider)===void 0||(null==y?void 0:y.emailProvider)===null?(0,a.jsx)(d.mMu,{onClick:()=>p("Email"),className:"chooseType-btn font-satoshi",style:v({},null==(m=null==g?void 0:g.modalStyle)?void 0:m.buttonStyle),children:(0,a.jsxs)("div",{className:"chooseType-btn-content",children:[(0,a.jsx)(H,{width:30}),(0,a.jsx)("p",{className:"mego-font-medium font-satoshi",children:f("email","wallet")})]})}):(0,a.jsx)("div",{})})]})},G=function(e){var t,n,o,i,r,s;let{isOpen:c,onClose:m}=e,[p,h]=(0,l.useState)(!1),{isLoading:u,loggedAs:g,logout:y,section:f,setSection:x,prevSection:w,setPrevSection:j}=b(),{style:k}=(0,d.aeS)(),{t:M}=(0,d.ZKp)();function E(e){x(e),"ChooseType"===e&&j(void 0),"Email"===e&&j("ChooseType"),"Login"===e&&j("Email"),"Register"===e&&j("Email"),"Logged"===e&&j(void 0),"ExportPrivateKey"===e&&j("Logged"),"TokenForPrivateKey"===e&&j("ExportPrivateKey"),"LoginWithPasswordForPrivateKey"===e&&j("Logged")}function L(){h(!0),setTimeout(()=>{m(),h(!1)},300)}return((0,l.useEffect)(()=>{c&&(g?x("Logged"):E("ChooseType"),h(!1))},[c,g]),(0,l.useEffect)(()=>{g&&c&&setTimeout(()=>{x("Logged")},100)},[g,c]),c||p)?(0,a.jsxs)("div",{className:"".concat(p?"closing":""," mego-modal-container"),children:[(0,a.jsx)("div",{className:"mego-modal-backdrop",onClick:L}),(0,a.jsxs)("div",{className:"mego-modal-wrapper",style:{backgroundColor:(null==(n=null==(t=null==k?void 0:k.modalStyle)?void 0:t.headerStyle)?void 0:n.backgroundColor)||"white"},children:[(0,a.jsxs)("div",{className:"mego-modal-header",style:v({},null==(o=null==k?void 0:k.modalStyle)?void 0:o.headerStyle),children:[(0,a.jsxs)("div",{className:"mego-modal-logo",style:{backgroundColor:(null==(r=null==(i=null==k?void 0:k.modalStyle)?void 0:i.headerStyle)?void 0:r.backgroundColor)||"white"},children:[(0,a.jsx)(S,{height:22,style:{marginRight:"0.5rem",marginTop:"0.5rem"}}),(0,a.jsx)(T,{height:13,style:{marginRight:"0.5rem",marginTop:"0.5rem"}})]}),(0,a.jsxs)("div",{className:"mego-modal-buttons",children:[(0,a.jsx)("div",{style:{marginRight:"0.5rem",marginTop:"0.2rem"},children:(0,a.jsx)(d.$zs,{})}),w&&!g&&(0,a.jsx)("div",{onClick:()=>E(w),style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,a.jsx)(C,{height:16,width:16})}),(0,a.jsx)("div",{onClick:L,style:{marginRight:"0.5rem",marginTop:"0.5rem",cursor:"pointer"},children:(0,a.jsx)(N,{onClick:L,height:16,width:16})})]})]}),(0,a.jsxs)("div",{className:"mego-modal-content",style:v(v({},null==(s=null==k?void 0:k.modalStyle)?void 0:s.bodyStyle),u?{display:"flex",flexDirection:"column"}:{}),children:[(0,a.jsx)("div",{className:"mego-modal-title mego-font-medium font-satoshi",style:{marginBottom:"0.5rem"},children:M("Register"===f?"registerTitle":"loginTitle","wallet")}),u?(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},children:(0,a.jsx)(d.aNw,{})}):function(){switch(f){case"ChooseType":return(0,a.jsx)(J,{setSection:E});case"Email":return(0,a.jsx)(R,{setSection:E});case"Login":return(0,a.jsx)(F,{});case"Logged":return(0,a.jsx)(P,{logout:y});case"Register":return(0,a.jsx)(D,{});case"ExportPrivateKey":return(0,a.jsx)(O,{});case"TokenForPrivateKey":return(0,a.jsx)(z,{});case"LoginWithPasswordForPrivateKey":return(0,a.jsx)(A,{});case"PrivateKey":return(0,a.jsx)(I,{})}}()]})]})]}):null},Y=e=>{var t;let{connectionString:n}=e,{loggedAs:o}=b(),{style:i}=(0,d.aeS)(),[r,s]=(0,l.useState)(!1),[c,m]=(0,l.useState)("");return(0,l.useEffect)(()=>{if(o){let e=(0,d.MGg)();e?(s(e.isConnectWithMego||!1),m(e.email||"")):(s(!1),m(""))}else s(!1),m("")},[o]),(0,a.jsxs)("div",{className:"mego-wallet-icon-container",style:v({},null==i?void 0:i.megoWalletContainerStyle),children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 26",style:x(v({},null==i?void 0:i.megoWalletIconStyle),{height:"1.5rem",width:"1.5rem",stroke:"none",fill:"".concat((null==(t=null==i?void 0:i.megoWalletIconStyle)?void 0:t.stroke)||"white")}),children:[(0,a.jsx)("path",{d:"M20.4 12.7c.4 0 .8.3.8.8s-.3.8-.8.8h-.2c-.4 0-.8-.3-.8-.8s.3-.8.8-.8h.2Z"}),(0,a.jsx)("path",{d:"M20.2 11h4.2v-.5c0-2.6-2.1-4.8-4.8-4.8h-10c-2.6 0-4.8 2.1-4.8 4.8v6c0 2.6 2.1 4.8 4.8 4.8h10c2.6 0 4.8-2.1 4.8-4.8V16h-4.2c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5Zm-5.5 6.5h-6c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h6c.3 0 .5.2.5.5s-.2.5-.5.5Z"}),(0,a.jsx)("path",{d:"M6.9 6.2c.8-.6 1.8-.9 2.9-.9h10c1.3 0 2.5.5 3.4 1.3l-.7-1.7c-1-2.6-4-3.8-6.5-2.7L8.4 5.3c-.6.2-1 .5-1.5.9Z",style:{fillRule:"evenodd"}})]}),o&&!r&&(0,a.jsxs)("div",{className:"font-satoshi",children:[o.slice(0,4),"...",o.slice(-4)]}),o&&r&&c&&(0,a.jsx)("div",{className:"font-satoshi",children:(e=>{let t=e.split("@");if(2===t.length){let e=t[0],n=t[1],o=e.substring(0,3),i=n.slice(-3);return"".concat(o,"..@...").concat(i)}return e})(c)}),!o&&n&&n.length>0&&(0,a.jsx)("div",{className:"font-satoshi",children:n})]})};function X(e){let{customStyle:t,providerConfiguration:n,forceChainId:o,connectionString:i}=e,{openMegoModal:r,loggedAs:s,provider:c,setForceChainId:m}=b(),{setStyle:p,setProviderConfiguration:h}=(0,d.aeS)();return(0,l.useEffect)(()=>{t&&p(t),n&&h(n),o&&m(o);let e=document.createElement("style");return e.innerHTML="\n  @import url('https://api.fontshare.com/v2/css?f[]=satoshi@300,500&display=swap');\n  \n  .mego-font-light {\n    font-family: 'Satoshi', sans-serif;\n    font-weight: 300;\n  }\n\n  .mego-font-medium {\n    font-family: 'Satoshi', sans-serif;\n    font-weight: 500;\n  }\n",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[t,n,o,p,h,m]),(0,a.jsx)("div",{role:"button",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"".concat((null==t?void 0:t.megoWalletPosition)||"right"),gap:"0.5rem"},children:(0,a.jsx)(Y,{connectionString:i})})}var Q=n(3547),$=n(26471),ee=n(51501),et=Object.defineProperty,en=Object.defineProperties,eo=Object.getOwnPropertyDescriptors,ei=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,el=Object.prototype.propertyIsEnumerable,er=(e,t,n)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,es=(e,t)=>{for(var n in t||(t={}))ea.call(t,n)&&er(e,n,t[n]);if(ei)for(var n of ei(t))el.call(t,n)&&er(e,n,t[n]);return e},ec=(e,t)=>en(e,eo(t)),ed=e=>(0,a.jsxs)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{children:[(0,a.jsx)("circle",{cx:7,cy:7,r:7,fill:"#000"}),(0,a.jsx)("path",{stroke:"#fff",strokeLinecap:"round",d:"m4.667 4.667 4.615 4.615M9.282 4.667 4.667 9.282"})]})),em=e=>(0,a.jsxs)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fill:"currentColor",id:"Layer_1",x:0,y:0,viewBox:"0 0 2500 2500"},e),{children:[(0,a.jsx)("style",{children:".st1{fill:#213147}.st2{fill:#12aaff}.st4{fill:#fff}"}),(0,a.jsx)("g",{id:"Layer_x0020_1",children:(0,a.jsxs)("g",{id:"_2405588477232",children:[(0,a.jsx)("path",{d:"M0 0h2500v2500H0z",style:{fill:"none"}}),(0,a.jsx)("path",{d:"M226 760v980c0 63 33 120 88 152l849 490c54 31 121 31 175 0l849-490c54-31 88-89 88-152V760c0-63-33-120-88-152l-849-490c-54-31-121-31-175 0L314 608c-54 31-87 89-87 152h-1z",className:"st1"}),(0,a.jsx)("path",{d:"m1435 1440-121 332c-3 9-3 19 0 29l208 571 241-139-289-793c-7-18-32-18-39 0zM1678 882c-7-18-32-18-39 0l-121 332c-3 9-3 19 0 29l341 935 241-139-422-1156v-1z",className:"st2"}),(0,a.jsx)("path",{d:"M1250 155c6 0 12 2 17 5l918 530c11 6 17 18 17 30v1060c0 12-7 24-17 30l-918 530c-5 3-11 5-17 5s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12 7-24 17-30l918-530c5-3 11-5 17-5v1zm0-155c-33 0-65 8-95 25L237 555c-59 34-95 96-95 164v1060c0 68 36 130 95 164l918 530c29 17 62 25 95 25s65-8 95-25l918-530c59-34 95-96 95-164V719c0-68-36-130-95-164L1344 25c-29-17-62-25-95-25h1z",style:{fill:"#9dcced"}}),(0,a.jsx)("path",{d:"m642 2179 85-232 170 141-159 146z",className:"st1"}),(0,a.jsx)("path",{d:"M1172 644H939c-17 0-33 11-39 27L401 2039l241 139 550-1507c5-14-5-28-19-28l-1 1zM1580 644h-233c-17 0-33 11-39 27L738 2233l241 139 620-1701c5-14-5-28-19-28v1z",className:"st4"})]})})]})),ep=e=>(0,a.jsxs)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg","data-name":"86977684-12db-4850-8f30-233a7c267d11",fill:"currentColor",viewBox:"0 0 2000 2000"},e),{children:[(0,a.jsx)("path",{fill:"#2775ca",d:"M1000 2000c554.17 0 1000-445.83 1000-1000S1554.17 0 1000 0 0 445.83 0 1000s445.83 1000 1000 1000z"}),(0,a.jsx)("path",{fill:"#fff",d:"M1275 1158.33c0-145.83-87.5-195.83-262.5-216.66-125-16.67-150-50-150-108.34s41.67-95.83 125-95.83c75 0 116.67 25 137.5 87.5 4.17 12.5 16.67 20.83 29.17 20.83h66.66c16.67 0 29.17-12.5 29.17-29.16v-4.17c-16.67-91.67-91.67-162.5-187.5-170.83v-100c0-16.67-12.5-29.17-33.33-33.34h-62.5c-16.67 0-29.17 12.5-33.34 33.34v95.83c-125 16.67-204.16 100-204.16 204.17 0 137.5 83.33 191.66 258.33 212.5 116.67 20.83 154.17 45.83 154.17 112.5s-58.34 112.5-137.5 112.5c-108.34 0-145.84-45.84-158.34-108.34-4.16-16.66-16.66-25-29.16-25h-70.84c-16.66 0-29.16 12.5-29.16 29.17v4.17c16.66 104.16 83.33 179.16 220.83 200v100c0 16.66 12.5 29.16 33.33 33.33h62.5c16.67 0 29.17-12.5 33.34-33.33v-100c125-20.84 208.33-108.34 208.33-220.84z"}),(0,a.jsx)("path",{fill:"#fff",d:"M787.5 1595.83c-325-116.66-491.67-479.16-370.83-800 62.5-175 200-308.33 370.83-370.83 16.67-8.33 25-20.83 25-41.67V325c0-16.67-8.33-29.17-25-33.33-4.17 0-12.5 0-16.67 4.16-395.83 125-612.5 545.84-487.5 941.67 75 233.33 254.17 412.5 487.5 487.5 16.67 8.33 33.34 0 37.5-16.67 4.17-4.16 4.17-8.33 4.17-16.66v-58.34c0-12.5-12.5-29.16-25-37.5zm441.67-1300c-16.67-8.33-33.34 0-37.5 16.67-4.17 4.17-4.17 8.33-4.17 16.67v58.33c0 16.67 12.5 33.33 25 41.67 325 116.66 491.67 479.16 370.83 800-62.5 175-200 308.33-370.83 370.83-16.67 8.33-25 20.83-25 41.67V1700c0 16.67 8.33 29.17 25 33.33 4.17 0 12.5 0 16.67-4.16 395.83-125 612.5-545.84 487.5-941.67-75-237.5-258.34-416.67-487.5-491.67z"})]})),eh=e=>(0,a.jsxs)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 507.91 446.91"},e),{children:[(0,a.jsx)("title",{children:"polygon-matic"}),(0,a.jsx)("path",{d:"M384.58 136.59c-9.28-5.3-21.22-5.3-31.83 0l-74.26 43.77-50.39 27.84-72.94 43.8c-9.28 5.3-21.22 5.3-31.83 0l-57-34.48a32.33 32.33 0 0 1-15.92-27.85v-66.34c0-10.61 5.31-21.22 15.92-27.85l57-33.15c9.28-5.31 21.22-5.31 31.83 0l57 34.48a32.31 32.31 0 0 1 15.92 27.85v43.76l50.39-29.18V94.16c0-10.61-5.3-21.22-15.91-27.85L156.48 4c-9.28-5.31-21.21-5.31-31.82 0L15.91 67.63C5.3 72.94 0 83.55 0 94.16v124.65c0 10.61 5.3 21.19 15.91 27.85L123.33 309c9.28 5.31 21.22 5.31 31.83 0l72.94-42.44 50.39-29.17 72.94-42.44c9.28-5.3 21.22-5.3 31.83 0l57 33.16A32.32 32.32 0 0 1 456.19 256v66.3c0 10.61-5.3 21.22-15.91 27.85l-55.7 33.16c-9.28 5.3-21.22 5.3-31.83 0l-57-33.16a32.32 32.32 0 0 1-15.91-27.85v-42.48L229.42 309v43.76c0 10.61 5.31 21.22 15.92 27.85l107.41 62.33c9.29 5.31 21.22 5.31 31.83 0L492 380.6a32.32 32.32 0 0 0 15.91-27.85v-126c0-10.61-5.3-21.22-15.91-27.85Z",style:{fill:"#8247e5"}})]})),eu=e=>(0,a.jsx)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 576 512"},e),{children:(0,a.jsx)("path",{d:"M512 80c8.8 0 16 7.2 16 16v32H48V96c0-8.8 7.2-16 16-16h448zm16 144v192c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V224h480zM64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm56 304c-13.3 0-24 10.7-24 24s10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24h-48zm128 0c-13.3 0-24 10.7-24 24s10.7 24 24 24h112c13.3 0 24-10.7 24-24s-10.7-24-24-24H248z"})})),eg=e=>(0,a.jsx)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",width:2500,height:2500,viewBox:"0 0 32 32"},e),{children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("circle",{cx:16,cy:16,r:16,fill:"#627EEA"}),(0,a.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",children:[(0,a.jsx)("path",{fillOpacity:.602,d:"M16.498 4v8.87l7.497 3.35z"}),(0,a.jsx)("path",{d:"M16.498 4 9 16.22l7.498-3.35z"}),(0,a.jsx)("path",{fillOpacity:.602,d:"M16.498 21.968v6.027L24 17.616z"}),(0,a.jsx)("path",{d:"M16.498 27.995v-6.028L9 17.616z"}),(0,a.jsx)("path",{fillOpacity:.2,d:"m16.498 20.573 7.497-4.353-7.497-3.348z"}),(0,a.jsx)("path",{fillOpacity:.602,d:"m9 16.22 7.498 4.353v-7.701z"})]})]})})),ey=e=>(0,a.jsxs)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",width:e.width||"24",height:e.height||"24",fill:"currentColor"},e),{children:[(0,a.jsx)("circle",{cx:250,cy:250,r:250,fill:"#FF0420"}),(0,a.jsx)("path",{fill:"#fff",d:"M177.133 316.446c-14.886 0-27.082-3.503-36.589-10.508-9.382-7.13-14.073-17.262-14.073-30.397 0-2.752.313-6.13.938-10.133 1.627-9.006 3.941-19.827 6.943-32.461 8.506-34.4 30.46-51.6 65.861-51.6 9.632 0 18.263 1.626 25.894 4.878 7.631 3.127 13.635 7.881 18.013 14.261 4.378 6.254 6.568 13.76 6.568 22.516 0 2.627-.313 5.942-.939 9.945-1.876 11.133-4.128 21.954-6.755 32.461-4.378 17.138-11.946 29.96-22.704 38.466-10.758 8.381-25.143 12.572-43.157 12.572Zm2.627-27.02c7.006 0 12.947-2.064 17.826-6.192 5.004-4.128 8.569-10.445 10.695-18.951 2.877-11.759 5.067-22.017 6.568-30.773.5-2.627.75-5.316.75-8.069 0-11.383-5.942-17.075-17.825-17.075-7.006 0-13.01 2.064-18.014 6.192-4.878 4.129-8.381 10.446-10.507 18.952-2.252 8.381-4.504 18.639-6.755 30.773-.501 2.501-.751 5.128-.751 7.88 0 11.509 6.005 17.263 18.013 17.263ZM259.303 314.57c-1.376 0-2.44-.438-3.19-1.314-.626-1.001-.813-2.126-.563-3.377l25.894-121.965c.25-1.376.938-2.502 2.064-3.378 1.126-.875 2.314-1.313 3.565-1.313h49.912c13.885 0 25.018 2.877 33.399 8.631 8.507 5.755 12.76 14.073 12.76 24.956 0 3.127-.375 6.38-1.126 9.757-3.127 14.386-9.444 25.019-18.951 31.899-9.382 6.88-22.267 10.32-38.654 10.32h-25.331l-8.631 41.093c-.251 1.376-.939 2.501-2.064 3.377-1.126.876-2.315 1.314-3.565 1.314h-25.519Zm66.424-71.678c5.253 0 9.819-1.439 13.697-4.316 4.003-2.877 6.63-7.005 7.881-12.384.375-2.127.563-4.003.563-5.629 0-3.628-1.063-6.38-3.19-8.256-2.127-2.002-5.754-3.002-10.883-3.002h-22.517l-7.13 33.587h21.579Z"})]})),ef=e=>(0,a.jsx)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 32 32"},e),{children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("circle",{cx:16,cy:16,r:16,fill:"#26A17B"}),(0,a.jsx)("path",{fill:"#FFF",d:"M17.922 17.383v-.002c-.11.008-.677.042-1.942.042-1.01 0-1.721-.03-1.971-.042v.003c-3.888-.171-6.79-.848-6.79-1.658 0-.809 2.902-1.486 6.79-1.66v2.644c.254.018.982.061 1.988.061 1.207 0 1.812-.05 1.925-.06v-2.643c3.88.173 6.775.85 6.775 1.658 0 .81-2.895 1.485-6.775 1.657m0-3.59v-2.366h5.414V7.819H8.595v3.608h5.414v2.365c-4.4.202-7.709 1.074-7.709 2.118 0 1.044 3.309 1.915 7.709 2.118v7.582h3.913v-7.584c4.393-.202 7.694-1.073 7.694-2.116 0-1.043-3.301-1.914-7.694-2.117"})]})})),ev=e=>(0,a.jsx)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fillRule:"evenodd",clipRule:"evenodd",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 444.44 444.44"},e),{children:(0,a.jsxs)("g",{fillRule:"nonzero",children:[(0,a.jsx)("path",{fill:"#F5AC37",d:"M222.22 0c122.74 0 222.22 99.5 222.22 222.22 0 122.74-99.48 222.22-222.22 222.22C99.5 444.44 0 344.95 0 222.22 0 99.5 99.5 0 222.22 0z"}),(0,a.jsx)("path",{fill:"#FEFEFD",d:"M230.41 237.91h84.44c1.8 0 2.65 0 2.78-2.36.69-8.59.69-17.23 0-25.83 0-1.67-.83-2.36-2.64-2.36H146.94c-2.08 0-2.64.69-2.64 2.64v24.72c0 3.19 0 3.19 3.33 3.19h82.78zm77.79-59.44c.24-.63.24-1.32 0-1.94-1.41-3.07-3.08-6-5.02-8.75-2.92-4.7-6.36-9.03-10.28-12.92a34.076 34.076 0 0 0-6.39-6.25 99.833 99.833 0 0 0-41.67-21.11c-7.75-1.74-15.67-2.57-23.61-2.5h-74.58c-2.08 0-2.36.83-2.36 2.64v49.3c0 2.08 0 2.64 2.64 2.64H307.2s1.39-.28 1.67-1.11h-.68zm0 88.33c-2.36-.26-4.74-.26-7.1 0H147.08c-2.08 0-2.78 0-2.78 2.78v48.2c0 2.22 0 2.78 2.78 2.78h71.11c3.4.26 6.8.02 10.13-.69 10.32-.74 20.47-2.98 30.15-6.67 3.52-1.22 6.92-2.81 10.13-4.72h.97a90.23 90.23 0 0 0 38.75-39.01s.97-2.1-.12-2.65zm-191.81 78.75v-76.8c0-1.81 0-2.08-2.22-2.08H84.03c-1.67 0-2.36 0-2.36-2.22v-26.39h32.22c1.8 0 2.5 0 2.5-2.36v-26.11c0-1.67 0-2.08-2.22-2.08H84.03c-1.67 0-2.36 0-2.36-2.22v-24.44c0-1.53 0-1.94 2.22-1.94h29.86c2.08 0 2.64 0 2.64-2.64v-74.86c0-2.22 0-2.78 2.78-2.78h104.16c7.56.3 15.07 1.13 22.5 2.5 15.31 2.83 30.02 8.3 43.47 16.11 8.92 5.25 17.13 11.59 24.44 18.89 5.5 5.71 10.46 11.89 14.86 18.47 4.37 6.67 8 13.8 10.85 21.25a3.617 3.617 0 0 0 4.15 2.92h24.86c3.19 0 3.19 0 3.33 3.06v22.78c0 2.22-.83 2.78-3.06 2.78h-19.17c-1.94 0-2.5 0-2.36 2.5.76 8.46.76 16.95 0 25.41 0 2.36 0 2.64 2.65 2.64h21.93c.97 1.25 0 2.5 0 3.76.14 1.61.14 3.24 0 4.85v16.81c0 2.36-.69 3.06-2.78 3.06h-26.25c-1.83-.35-3.61.82-4.03 2.64a111.06 111.06 0 0 1-29.17 42.5c-4.72 4.25-9.68 8.25-14.86 11.94-5.56 3.2-10.97 6.53-16.67 9.17-10.49 4.72-21.49 8.2-32.78 10.41a170.893 170.893 0 0 1-32.5 2.64h-96.39v-.14z"})]})})),ex=()=>(0,d.MGg)(),ew=()=>{var e;return(null==(e=ex())?void 0:e.isConnectWithMego)||!1};!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}(".ticketPaymentContainer {\n  padding: 1.5rem;\n  background-color: #000000;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n}\n.ticketPriceTitle {\n  color: #fff;\n  font-size: 1.5rem;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n}\n.ticketButton {\n  background:\n    linear-gradient(\n      to right,\n      #0ff,\n      #f0f);\n  padding: 2px;\n  border-radius: 50px;\n  display: inline-block;\n  box-shadow: 0 0 10px rgba(0, 255, 255, 0.5), 0 0 10px rgba(255, 0, 255, 0.5);\n  cursor: pointer;\n  opacity: 1;\n}\n.ticketButtonDisabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n.ticketBtn {\n  background-color: #000;\n  color: white;\n  padding: 0.75rem 1.5rem;\n  border-radius: 48px;\n  font-size: 1rem;\n  font-weight: 600;\n  transition: transform 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.ticketBtn:hover {\n  background-color: #111;\n  transform: scale(1.05);\n}\n.ticketBtn:active {\n  transform: scale(0.95);\n  transition: transform 0.1s ease;\n}\n.loader {\n  font-family: \"Satoshi\", sans-serif;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  flex-grow: 1;\n}\n.title {\n  text-align: center;\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: white;\n}\n.subtitle {\n  text-align: center;\n  font-size: 0.875rem;\n  color: #6B7280;\n}\n.title-subtitle-container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: 2rem;\n}\n.input-field {\n  margin-bottom: 10px;\n  width: 100%;\n  border-radius: 20px;\n  border: 1px solid white;\n  background-color: black;\n  color: white;\n  padding: 8px 16px;\n  padding-right: 2rem;\n}\n.payment-stepper-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding-bottom: 2rem;\n}\n.payment-form-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  flex-grow: 1;\n  padding-bottom: 2rem;\n}\n.payment-stepper-stripe {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.ticket-map-container {\n  width: 100%;\n  height: 200px;\n  border-radius: 8px;\n  margin-top: 0.5rem;\n  background-color: #1E1E1E;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n  text-align: center;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n.ticket-map-loader-container {\n  width: 100%;\n  height: 200px;\n  border-radius: 8px;\n  margin-top: 0.5rem;\n  background-color: #000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n.ticket-block-container {\n  border-radius: 12px;\n  padding: 1.5rem;\n  background-color: #000;\n}\n.ticket-block-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 1rem;\n}\n.ticket-user-nft-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3rem;\n  background-color: #121212;\n  border-radius: 0.375rem;\n  border: 1px dashed #333;\n}\n.ticket-form-textarea {\n  margin-bottom: 10px;\n  width: 100%;\n  border-radius: 20px;\n  border: 1px solid white;\n  background-color: black;\n  color: white;\n  padding: 8px 16px;\n  resize: vertical;\n}\n.ticket-form-checkbox-container {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n  width: 100%;\n  margin-top: 0.5rem;\n}\n.checkbox-label {\n  font-size: 0.875rem;\n  color: white;\n}\n.ticket-stripe-cancel-btn {\n  width: 100%;\n  background: rgb(255, 255, 255);\n  color: rgb(0, 0, 0);\n  font-weight: bold;\n  padding: 0.5rem 1rem;\n  border-radius: 9999px;\n  border: 1px solid white;\n  transition: opacity 0.3s;\n  margin-top: 1rem;\n}\n.ticket-stripe-form-container {\n  margin-bottom: 2rem;\n}\n.ticket-collectors-container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  gap: 1rem;\n  width: 100%;\n}\n.ticket-collector-icon {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  color: white;\n}\n.ticket-collector-item-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 0.5rem;\n}\n.ticket-collector-item {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  cursor: pointer;\n  border-radius: 8px;\n  padding: 8px;\n}\n.ticket-collector-top-icon {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  position: relative;\n}\n.ticket-collector-top-icon-container {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  background-color: #fff;\n  border-radius: 50%;\n  padding: 2px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n.ticket-container {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 100%;\n  margin: 0 auto;\n  color: #fff;\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n}\n.ticket-details-container {\n  background-color: #FEF3C7;\n  border: 1px solid #F59E0B;\n  color: #92400E;\n  padding: 0.75rem 1rem;\n  border-radius: 0.25rem;\n  margin: 1rem;\n}\n.ticket-loading-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2rem;\n}\n.ticket-error-container {\n  background-color: #FEE2E2;\n  border: 1px solid #F87171;\n  color: #B91C1C;\n  padding: 0.75rem 1rem;\n  border-radius: 0.25rem;\n  margin: 1rem;\n}\n.ticker-header-container {\n  display: flex;\n  flex-direction: row;\n  background-color: #000000;\n  border-radius: 12px;\n  gap: 2rem;\n  padding: 1.5rem;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n}\n.ticket-banner-container {\n  width: 50%;\n  height: 300px;\n  overflow: hidden;\n  border-radius: 12px;\n  position: relative;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  background-color: #000;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: center;\n    display: block;\n  }\n}\n.ticket-info-container {\n  padding: 1.5rem;\n  width: 50%;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n}\n.ticket-event-name {\n  font-size: 2rem;\n  font-weight: bold;\n  margin-bottom: 1.5rem;\n  color: #fff;\n}\n.ticket-event-date-container,\n.ticket-event-location-container,\n.ticket-event-blockchain-container,\n.ticket-event-hosted-by-container,\n.ticket-event-minted-info-container {\n  display: flex;\n  align-items: center;\n}\n.ticket-token-id-container {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  background-color: rgba(0, 0, 0, 0.5);\n  padding: 5px 10px;\n  border-radius: 4px;\n  color: white;\n  font-weight: bold;\n  z-index: 1;\n}\n.ticket-token-id-root {\n  position: relative;\n  margin: 0.5rem;\n  width: 250px;\n  height: 250px;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n}\n.ticket-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transform: scale(1);\n  transition: transform 0.3s ease-in-out;\n}\n.ticket-image:hover {\n  transform: scale(1.1);\n}\n.chooseType-btn-container {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n\\f9  .chooseType-btn {\n  width: 40%;\n}\n.chooseType-btn-content {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n@media (max-width: 768px) {\n  .chooseType-btn {\n    width: 50%;\n  }\n}\n@media (max-width: 480px) {\n  .chooseType-btn {\n    width: 100%;\n  }\n}\n.chooseType-btn-container {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n.font-satoshi {\n  font-family: \"Satoshi\", sans-serif;\n}\n.form-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n}\n.ticket-summary-container {\n  background-color: #000000;\n  border-radius: 12px;\n  padding: 0.5rem 1rem;\n  margin-bottom: 1rem;\n  border: 1px solid white;\n  color: #fff;\n  font-family: \"Satoshi\", sans-serif;\n}\n.ticket-summary-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 1rem;\n  text-align: left;\n}\n.ticket-summary-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n  font-size: 0.9rem;\n}\n.ticket-summary-label {\n  color: #a0a0a0;\n}\n.ticket-summary-value {\n  font-weight: 500;\n}\n.ticket-summary-discount .ticket-summary-value {\n  color: #34d399;\n}\n.ticket-summary-divider {\n  border: none;\n  height: 1px;\n  background-color: rgba(255, 255, 255, 0.1);\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n.ticket-summary-total {\n  font-size: 1rem;\n  font-weight: bold;\n  margin-top: 1rem;\n}\n.ticket-summary-total .ticket-summary-label {\n  color: #fff;\n}\n.ticket-summary-total .ticket-summary-value {\n  font-size: 1.1rem;\n}\n.select-field {\n  padding-right: 2.5rem;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='%23ffffff'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19.5 8.25l-7.5 7.5-7.5-7.5' /%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 1rem center;\n  background-size: 1em;\n}\n.payment-wrapper {\n  min-height: 75vh;\n  max-height: 75vh;\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  max-width: 700px;\n  margin: 0 auto;\n  background-color: white;\n  border-radius: 1.5rem 1.5rem 0 0;\n  animation: slideUp 0.3s ease-out;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n}\n@media (min-width: 768px) {\n  .payment-wrapper {\n    min-height: auto;\n    max-height: none;\n    height: auto;\n  }\n}\n");var ej=()=>{var e,t,n,o,i,r,s;let{eventDetails:c,processor:d,setProcessor:m}=e0(),[p,h]=(0,l.useState)("stripe"),[u,g]=(0,l.useState)(!1);if(c&&(null==(t=null==(e=null==c?void 0:c.event)?void 0:e.collectors)?void 0:t.length)!==0&&(null==(n=null==c?void 0:c.event)?void 0:n.collectors)&&(null==(o=null==c?void 0:c.event)?void 0:o.price)!==0)return console.log("userConnectedWithMego -> ",null==(i=ex())?void 0:i.isConnectWithMego),(0,l.useEffect)(()=>{var e;ew()&&(null==(e=null==c?void 0:c.event)?void 0:e.price)>0&&g(!0)},[null==(r=null==c?void 0:c.event)?void 0:r.price]),(0,l.useEffect)(()=>{m(p)},[]),(0,l.useEffect)(()=>{h(d||"stripe")},[d]),(0,a.jsx)("div",{className:"ticket-collectors-container",children:Object.entries((null==(s=null==c?void 0:c.event)?void 0:s.collectors)||{}).sort((e,t)=>{let[n]=e,[o]=t;return"stripe"===n?-1:"stripe"===o?1:0}).map(e=>{var t;let[n,o]=e;return(0,a.jsx)("div",{className:"ticket-collector-item-container",style:{display:(null==(t=ex())?void 0:t.isConnectWithMego)?"none":"block"},children:(0,a.jsxs)("div",{onClick:()=>{console.log("Settato il processor a: ",n),(!u||u&&"stripe"===n)&&m(n)},className:"ticket-collector-item",style:{border:p===n?"2px solid #007bff":"none"},children:["stripe"===n&&(0,a.jsxs)("div",{className:"ticket-collector-icon",children:[(0,a.jsx)(eu,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"Card"})]}),"ethereum"===n&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)(eg,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"Ethereum"})]}),"arbitrum"===n&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)(em,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"Arbitrum"})]}),"polygon"===n&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)(eh,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"Polygon"})]}),n.includes("erc20:ethereum")&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{position:"relative",opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)("div",{className:"ticket-collector-top-icon-container",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:(0,a.jsx)(eg,{width:15,height:15})}),n.includes("0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48")&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)(ep,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"USDC"})]}),n.includes("0x6b175474e89094c44da98b954eedeac495271d0f")&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)(ev,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"DAI"})]}),n.includes("0xdac17f958d2ee523a2206206994597c13d831ec7")&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)(ef,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"USDT"})]})]}),n.includes("erc20:polygon")&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{position:"relative",opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)("div",{className:"ticket-collector-top-icon-container",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:(0,a.jsx)(eh,{width:15,height:15})}),(0,a.jsx)(ep,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"USDC"})]}),"optimism"===n&&(0,a.jsxs)("div",{className:"ticket-collector-icon",style:{opacity:u?"0.5":"1",cursor:u?"not-allowed":"pointer"},children:[(0,a.jsx)(ey,{width:40,height:40}),(0,a.jsx)("p",{className:"font-satoshi",children:"Optimism"})]})]})},n)})})},eb=((o=eb||{}).TEXT="TEXT",o.SELECT="SELECT",o.EMAIL="EMAIL",o.CHECKBOX="CHECKBOX",o.TEXTAREA="TEXTAREA",o),ek=((i=ek||{}).MANDATORY="mandatory",i.OPTIONAL="optional",i.DISABLED="disabled",i),eC=()=>{var e,t,n;let{eventDetails:o,setStepper:i,setClaimMetadata:r,setEmailOfBuyer:s,setProcessor:c,openPopup:m,resetPaymentProcessing:p,discountCode:h,setDiscountCode:u,termsAndConditionsLink:g,metadataConfig:y,shareEmail:f,amountOfTicket:v,setAmountOfTicket:x}=e0(),[w,j]=(0,l.useState)(""),[b,k]=(0,l.useState)(!1),[C,N]=(0,l.useState)(!1),[S,T]=(0,l.useState)({}),[M,E]=(0,l.useState)(!1),[L,P]=(0,l.useState)(!1),{t:O,language:A}=(0,d.ZKp)();console.log(o);let z=0;(0,l.useEffect)(()=>{"disabled"===f&&N(!0)},[f]),(0,l.useEffect)(()=>{var e;ew()&&j((null==(e=ex())?void 0:e.email)||"")},[]);let I=async()=>{var e,t;try{if((null==(e=null==o?void 0:o.event)?void 0:e.claim_metadata)&&o.event.claim_metadata.length>0){let e={};o.event.claim_metadata.forEach((t,n)=>{e[n]=""}),T(e)}(null==(t=null==o?void 0:o.event)?void 0:t.price)===0&&c("stripe")}catch(e){m({title:O("error","payments"),message:O("generalError","payments"),modality:"error",isOpen:!0}),p();return}finally{P(!1)}};(0,l.useEffect)(()=>{0===z&&(I(),z++)},[z]);let B=(e,t)=>{T(n=>ec(es({},n),{[e]:t}))};(0,l.useEffect)(()=>{var e,t;let n=""!==w.trim()&&w.includes("@"),i=!0;console.log("shareEmailContext",f),f&&"mandatory"!==f||(i=C),console.log({isEmailValid:n,areTermsValid:b,isSharedEmailValid:i,metadataValues:S,metadataLength:(null==(t=null==(e=null==o?void 0:o.event)?void 0:e.claim_metadata)?void 0:t.length)||0,filledMetadataCount:Object.keys(S).length}),E(n&&b&&i)},[w,b,C,S,o,f]);let _=(null==(e=null==o?void 0:o.event)?void 0:e.price)===0?O("claimYourFreeTicket","payments"):v>1?O("buyYourTickets","payments"):O("buyYourTicket","payments");return(0,a.jsxs)("div",{className:"payment-form-container",children:[!L&&(0,a.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"space-between"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"title-subtitle-container",children:[(0,a.jsx)("h1",{className:"font-satoshi title",children:_}),(0,a.jsx)("p",{className:"font-satoshi subtitle",children:O("enterRequiredInformationToContinue","payments")})]}),(0,a.jsxs)("div",{style:{width:"100%",marginBottom:"0.75rem"},children:[(0,a.jsx)("p",{className:"font-satoshi",style:{color:"white",marginBottom:"0.5rem"},children:O("selectTicketQuantity","payments")}),(0,a.jsx)("select",{id:"ticketQuantity",value:v||1,onChange:e=>x(parseInt(e.target.value)),className:"input-field select-field",children:Array.from({length:10},(e,t)=>(0,a.jsx)("option",{value:t+1,children:t+1},t+1))})]}),(null==(t=null==o?void 0:o.event)?void 0:t.price)>0&&(0,a.jsxs)("div",{style:{width:"100%",marginBottom:"0.75rem"},children:[(0,a.jsx)("p",{className:"font-satoshi",style:{color:"white",marginBottom:"0.5rem"},children:O("discountCode","payments")}),(0,a.jsx)("input",{type:"text",value:h||"",onChange:e=>u(e.target.value),className:"input-field"})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:[(null==(n=null==o?void 0:o.event)?void 0:n.claim_metadata)&&o.event.claim_metadata.map((e,t)=>{let n="metadata-".concat(t,"-").concat(e),o=null==y?void 0:y.find(e=>e.metadata===n),i=null;return i=o&&"SELECT"===o.type&&o.options?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-satoshi",style:{color:"white",marginBottom:"0.5rem"},children:"".concat(O("selectOption","payments")," ( ").concat(o.labelTranslations&&o.labelTranslations[A]||e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()," )")}),(0,a.jsx)("select",{id:n,value:S[t]||"",onChange:e=>B(t,e.target.value),className:"input-field select-field",children:o.options.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}):o&&"TEXTAREA"===o.type?(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{id:n,placeholder:o.placeholder&&o.placeholder[A]||e,value:S[t]||"",onChange:e=>B(t,e.target.value),className:"ticket-form-textarea",rows:4})}):e.length>100?(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{id:n,placeholder:e,value:S[t]||"",onChange:e=>B(t,e.target.value),className:"ticket-form-textarea",rows:4})}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-satoshi",style:{color:"white",marginBottom:"0.5rem"},children:e}),(0,a.jsx)("input",{id:n,type:"text",value:S[t]||"",onChange:e=>B(t,e.target.value),className:"input-field"})]}),(0,a.jsx)("div",{style:{width:"100%",marginBottom:"0.75rem"},children:i},t)}),!ew()&&(0,a.jsx)("input",{type:"email",id:"email",placeholder:O("email","payments"),value:w,onChange:e=>j(e.target.value),className:"input-field",style:{border:"1px solid ".concat(w&&w.includes("@")?"white":"#FCA5A5")}})]}),(0,a.jsxs)("div",{className:"ticket-form-checkbox-container",children:[(0,a.jsx)("input",{type:"checkbox",id:"terms",checked:b,onChange:e=>k(e.target.checked),style:{marginRight:"0.5rem",marginTop:"0.25rem"}}),(0,a.jsxs)("label",{htmlFor:"terms",className:"font-satoshi checkbox-label",children:[O("iAcceptThe","payments")," ",(0,a.jsx)("a",{href:g,target:"_blank",rel:"noopener noreferrer",style:{color:"#60A5FA",textDecoration:"underline"},children:O("termsAndConditions","payments")}),"."]})]}),"disabled"!==f&&(0,a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"1rem",width:"100%"},children:[(0,a.jsx)("input",{type:"checkbox",id:"shareEmail",checked:C,onChange:e=>N(e.target.checked),style:{marginRight:"0.5rem",marginTop:"0.25rem"}}),(0,a.jsx)("label",{htmlFor:"shareEmail",className:"font-satoshi checkbox-label",children:O("iAcceptToShareMyEmail","payments")})]}),(0,a.jsx)(ej,{})]}),(0,a.jsx)(d.mMu,{disabled:!M,onClick:()=>{s(w),r(S),i(1)},className:"font-satoshi",style:{opacity:M?1:.5,cursor:M?"pointer":"not-allowed"},children:O("checkout","payments")})]}),L&&(0,a.jsx)("div",{className:"loader",children:(0,a.jsx)(d.aNw,{message:v>1?O("checkingNFTs","payments"):O("checkingNFT","payments")})})]})},eN="https://tickets-api.mego.tools",eS=async(e,t,n,o,i,a,l,r)=>{try{return(await s.Z.post("".concat(eN,"/payments"),{processor:e,amount:t,identifier:n,address:o,discount_code:i,currency:a,email:l,donation_amount:r})).data}catch(e){throw console.error("Errore nel richiedere i dettagli del pagamento:",e),e}},eT=async e=>{try{return(await s.Z.get("".concat(eN,"/payments/").concat(e))).data}catch(e){throw console.error("Errore nel ottenere il pagamento:",e),e}},eM=async e=>{try{return(await s.Z.post("".concat(eN,"/payments/check"),{payment_id:e})).data}catch(e){throw console.error("Errore nel controllare il pagamento:",e),e}},eE=async(e,t)=>{try{return(await s.Z.get("".concat(eN,"/nfts/last/").concat(e,"/").concat(t))).data}catch(e){throw console.error("Errore nel controllare l'NFT:",e),e}},eL=async e=>{try{return(await s.Z.post("".concat(eN,"/nfts/mint"),{payment_id:e})).data}catch(e){throw console.error("Errore nel minta l'NFT:",e),e}},eP=async(e,t,n,o,i,a,l,r)=>{try{return(await s.Z.post("".concat(eN,"/claims/create"),{signature:e,tokenId:t,email:n,tier:o,address:i,challenge:a,acceptNotification:l,claim_metadata:r})).data}catch(e){throw console.error("Errore nel creare la richiesta:",e),e}},eO=async e=>{try{return(await s.Z.get("".concat(eN,"/events/get/").concat(e))).data}catch(e){throw console.error("Errore nel ottenere i dettagli dell'evento:",e),e}},eA=async()=>{try{localStorage.removeItem("MP_func"),localStorage.removeItem("MP_tokenId"),localStorage.removeItem("MP_emailOfBuyer"),localStorage.removeItem("MP_identifier"),localStorage.removeItem("MP_userAddress"),localStorage.removeItem("MP_message"),localStorage.removeItem("MP_claim_metadata")}catch(e){throw console.error("Errore nel pulire la richiesta:",e),e}},ez=async()=>{try{return{func:localStorage.getItem("MP_func"),tokenId:localStorage.getItem("MP_tokenId"),emailOfBuyer:localStorage.getItem("MP_emailOfBuyer"),identifier:localStorage.getItem("MP_identifier"),userAddress:localStorage.getItem("MP_userAddress"),message:localStorage.getItem("MP_message"),claim_metadata:JSON.parse(localStorage.getItem("MP_claim_metadata")||"[]")}}catch(e){throw console.error("Errore nel ottenere i dati della richiesta:",e),e}},eI=async(e,t)=>{try{if(!t)return{balance:"-1",formattedBalance:"-1",success:!1};console.log("\uD83D\uDCB0 Checking user balance for address:",e,"with processor:",t);let n=await s.Z.get("".concat(eN,"/users/balance/").concat(e,"/").concat(t));if(n.data.error)return console.log("Balance errored, let user pay anyway"),{balance:"99999999999999999",formattedBalance:"99999999999999999",success:!0};{console.log("\uD83D\uDCB0 User balance is:",n.data.balance,"WEI");let e=(Number(n.data.balance)/1e18).toString();return console.log("\uD83D\uDCB0 User balance is:",e,"ETH"),{balance:n.data.balance,formattedBalance:e,success:!0}}}catch(e){return console.error("Errore nel controllare il saldo dell'utente:",e),{balance:"-1",formattedBalance:"-1",success:!1,reason:"Errore nel controllare il saldo dell'utente"}}},eB=e=>{if(e.includes("0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"))return d.yue.id;if(e.includes("0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48")||e.includes("0x6b175474e89094c44da98b954eedeac495271d0f")||e.includes("0xdac17f958d2ee523a2206206994597c13d831ec7"))return d.RJ0.id;switch(e){case"ethereum":return d.RJ0.id;case"optimism":return d.v4o.id;case"arbitrum":return d.yXc.id;case"goerli":return d.wsL.id;case"polygon":return d.yue.id;default:return -1}},e_=e=>{switch(console.log("Contract address:",e),e.toLowerCase()){case"0xdac17f958d2ee523a2206206994597c13d831ec7":case"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48":case"0x2791bca1f2de4661ed88a30c99a7a9449aa84174":return console.log("Token con 6 decimali"),6;default:return 18}},eF=async e=>{try{return await (0,d.csQ)(d.vc,{chainId:e}),!0}catch(e){return console.error("Errore nel cambio di rete:",e),!1}},eZ=async(e,t)=>{try{return(await s.Z.get("".concat(eN,"/nfts/owned/").concat(e,"/").concat(t))).data}catch(e){throw console.error("Errore nel ottenere gli NFT:",e),e}},eD=()=>{let{eventDetails:e,amountOfTicket:t,emailOfBuyer:n,openPopup:o,resetPaymentProcessing:i,setStepper:r,setPaymentsDetails:s,processor:c,discountCode:m}=e0(),{address:p}=(0,d.mAM)(),{t:h}=(0,d.ZKp)(),[u,g]=(0,l.useState)(h("processing","payments")),y=0,f=async()=>{var a,l,d,p,u;try{if(!c){o({title:h("alert","payments"),message:h("noProcessorSelected","payments"),modality:"error",isOpen:!0}),i();return}g(h("askingForPaymentDetails","payments"));let y=(null==(a=ex())?void 0:a.loggedAs)||"";if(y){let a=await eS(c,t,null==(l=null==e?void 0:e.event)?void 0:l.identifier,y,m||"",null==(d=null==e?void 0:e.event)?void 0:d.currency,n||"",(null==(p=null==e?void 0:e.event)?void 0:p.donation_amount)||0),{error:f,message:v,payment:x}=a;if(f&&"Payment exists"!==v){g(h("errorAskingForPaymentDetails","payments")),o({title:h("alert","payments"),message:v,modality:"error",isOpen:!0}),i();return}if(s(a),"You can't buy more tickets."===v&&(g("You can't buy more tickets."),o({title:h("alert","payments"),message:"You can't buy more tickets.",modality:"error",isOpen:!0}),i()),(null==(u=null==e?void 0:e.event)?void 0:u.price)<=0||"Free ticket claimed correctly."===v){g(t>1?h("claimingFreeTickets","payments"):h("claimingFreeTicket","payments")),await new Promise(e=>setTimeout(e,1e3)),r(9);return}g(h("processingPayment","payments")),await new Promise(e=>setTimeout(e,1e3)),"stripe"===c?(console.log("Stripe processor"),r(4)):(console.log("Other processor"),r(6));return}o({title:h("alert","payments"),message:h("pleaseConnectYourWallet","payments"),modality:"error",isOpen:!0}),i()}catch(e){console.error("Error processing payment:",e),g(h("errorProcessingPayment","payments")),o({title:h("alert","payments"),message:h("errorProcessingPayment","payments"),modality:"error",isOpen:!0}),eA(),i();return}};return(0,l.useEffect)(()=>{0===y&&(f(),y++)},[]),(0,a.jsx)("div",{className:"loader",children:(0,a.jsx)(d.aNw,{message:u})})},eR=e=>(0,a.jsxs)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:750,height:563.152,viewBox:"0 0 198.437 149.001"},e),{children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"a",children:[(0,a.jsx)("stop",{offset:0,style:{stopColor:"#cbc9be",stopOpacity:1}}),(0,a.jsx)("stop",{offset:1,style:{stopColor:"#c8c5bb",stopOpacity:0}})]}),(0,a.jsx)("linearGradient",{xlinkHref:"#a",id:"f",x1:-53.583,x2:-53.583,y1:120.722,y2:114.418,gradientUnits:"userSpaceOnUse"}),(0,a.jsx)("linearGradient",{xlinkHref:"#a",id:"g",x1:-53.583,x2:-53.583,y1:120.722,y2:114.418,gradientTransform:"translate(190.175)",gradientUnits:"userSpaceOnUse"}),(0,a.jsx)("clipPath",{id:"b",clipPathUnits:"userSpaceOnUse",children:(0,a.jsx)("path",{d:"M-31.595 54.697c-10.576 0-13.726 6.339-13.726 14.212v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.212-13.726-14.212z",style:{opacity:1,fill:"#4095ca",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477}})}),(0,a.jsx)("clipPath",{id:"d",clipPathUnits:"userSpaceOnUse",children:(0,a.jsx)("path",{d:"M83.818 394.032c-39.972 0-51.877 23.956-51.877 53.713v7.607l176.409.326c47.129.087 66.427 19.048 86.066 45.578 5.002 6.757 11.086 15.914 17.027 21.861 17.742 17.758 41.006 26.63 64.272 26.63 23.266 0 46.53-8.872 64.271-26.63 5.942-5.947 12.026-15.104 17.028-21.861 19.639-26.53 38.937-45.491 86.066-45.578l176.408-.326v-7.607c0-29.757-11.904-53.713-51.877-53.713z",style:{opacity:1,fill:"#f16d5e",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477}})}),(0,a.jsx)("filter",{id:"c",width:1.094,height:1.555,x:-.047,y:-.278,children:(0,a.jsx)("feGaussianBlur",{stdDeviation:3.563})}),(0,a.jsx)("filter",{id:"e",width:1.107,height:1.143,x:-.054,y:-.071,children:(0,a.jsx)("feGaussianBlur",{stdDeviation:16.743})})]}),(0,a.jsx)("g",{style:{fill:"red",fillOpacity:0,strokeWidth:.997187},children:(0,a.jsx)("path",{fill:"none",d:"M10.108.243c-36.91 0-63.88 22.395-63.88 64.796v133.506c0 42.401 26.97 64.795 63.88 64.795h136.823c36.911 0 63.88-22.394 63.88-64.795V65.039c0-42.401-26.969-64.796-63.88-64.796z",style:{opacity:1,fill:"red",fillOpacity:0,stroke:"none",strokeWidth:2.09409,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.383178},transform:"matrix(1 0 0 1.00565 78.151 -41.405)"})}),(0,a.jsx)("path",{d:"M77.738 174.234c-50.5 0-77.023 30.817-77.023 77.024v409.105c0 46.207 26.523 77.024 77.023 77.024h595.953c50.5 0 77.024-30.817 77.024-77.024V251.258c0-46.207-26.524-77.024-77.024-77.024z",style:{opacity:1,fill:"#d9d6cc",fillOpacity:1,stroke:"none",strokeWidth:155.717,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},transform:"matrix(.26458 0 0 .26458 -.19 -46.1)"}),(0,a.jsx)("path",{d:"M-31.595 54.697c-10.576 0-13.726 6.339-13.726 14.212v51.813l46.675.086c12.47.023 17.576 5.04 22.772 12.06 1.323 1.787 2.933 4.21 4.505 5.783a23.96 23.96 0 0 0 17.005 7.046 23.96 23.96 0 0 0 17.005-7.046c1.572-1.573 3.182-3.996 4.505-5.784 5.196-7.02 10.302-12.036 22.772-12.059l46.675-.086V68.909c0-7.873-3.15-14.212-13.726-14.212z",style:{opacity:1,fill:"#f16d5e",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,a.jsx)("path",{d:"M83.818 205.81c-39.972 0-51.877 23.956-51.877 53.713v62.741c0-29.757 11.905-53.713 51.877-53.713h583.793c39.973 0 51.877 23.956 51.877 53.713v-62.74c0-29.758-11.904-53.713-51.877-53.713z",style:{opacity:1,fill:"#3295c9",fillOpacity:1,stroke:"none",strokeWidth:68.0315,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"matrix(.26458 0 0 .26458 -.19 -46.1)"}),(0,a.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",clipPath:"url(#b)",style:{opacity:1,fill:"#000",fillOpacity:.317757,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477,filter:"url(#c)"},transform:"translate(53.583 -46.343)"}),(0,a.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",style:{opacity:1,fill:"#fcad00",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,a.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",clipPath:"url(#b)",style:{opacity:1,fill:"#000",fillOpacity:.313725,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477,filter:"url(#c)"},transform:"translate(53.583 -29.743)"}),(0,a.jsx)("path",{d:"M-31.595 87.898c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",style:{opacity:1,fill:"#50be3d",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,a.jsx)("path",{d:"M-31.595 71.298c-10.576 0-13.726 6.338-13.726 14.211v16.6c0-7.873 3.15-14.211 13.726-14.211h154.462c10.576 0 13.726 6.338 13.726 14.211v-16.6c0-7.873-3.15-14.211-13.726-14.211z",clipPath:"url(#b)",style:{opacity:1,fill:"#000",fillOpacity:.313725,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477,filter:"url(#c)"},transform:"translate(53.583 -13.143)"}),(0,a.jsx)("path",{d:"M77.738 174.234c-50.5 0-77.023 30.817-77.023 77.024v409.105c0 46.207 26.523 77.024 77.023 77.024h595.953c50.5 0 77.024-30.817 77.024-77.024V251.258c0-46.207-26.524-77.024-77.024-77.024zm6.08 31.577h583.793c39.973 0 51.877 23.955 51.877 53.712v195.829l-176.408.326c-47.13.087-66.427 19.048-86.066 45.578-5.002 6.756-11.086 15.914-17.028 21.861-17.741 17.758-41.005 26.63-64.271 26.63-23.266-.001-46.53-8.872-64.272-26.63-5.941-5.947-12.025-15.105-17.027-21.861-19.639-26.53-38.937-45.491-86.066-45.578l-176.409-.326V259.523c0-29.757 11.905-53.712 51.877-53.712z",clipPath:"url(#d)",style:{opacity:1,fill:"#f26d5f",fillOpacity:.29803923,stroke:"none",strokeWidth:155.717,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1,filter:"url(#e)"},transform:"matrix(.26458 0 0 .26458 -.19 -46.1)"}),(0,a.jsx)("path",{d:"M-53.583 108.559h8.262v12.163h-8.262z",style:{opacity:1,fill:"url(#f)",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"}),(0,a.jsx)("path",{d:"M136.593 108.559h8.262v12.163h-8.262z",style:{opacity:1,fill:"url(#g)",fillOpacity:1,stroke:"none",strokeWidth:18,strokeLinecap:"square",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:.607477},transform:"translate(53.583 -46.343)"})]})),eW=e=>(0,a.jsxs)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2,clipRule:"evenodd",viewBox:"0 0 512 512"},e),{children:[(0,a.jsx)("path",{fill:"#34a853",d:"M510.992 192.735V107.73c0-49.084-36.4-89.087-81.06-89.087H82.082C37.398 19.09 1 59.093 1 107.73v85.004c0 8.634 6.212 15.462 14.069 15.462h481.876c7.856 0 14.047-6.828 14.047-15.462z"}),(0,a.jsx)("path",{fill:"#fbbc04",d:"M510.992 267.298V182.74c0-49.107-36.4-89.11-81.06-89.11H82.082C37.398 93.63 1 133.633 1 182.74v85.004c0 8.634 6.212 15.462 14.069 15.462h481.876c7.856-.47 14.047-7.274 14.047-15.908z"}),(0,a.jsx)("path",{fill:"#ea4335",d:"M510.992 342.308v-85.005c0-49.106-36.4-89.11-81.06-89.11H82.082C37.398 168.193 1 208.197 1 257.303v85.005c0 8.634 6.212 15.438 14.069 15.438h481.876c7.856-.446 14.047-7.273 14.047-15.438z"}),(0,a.jsx)("path",{fill:"#4285f4",d:"M325.282 301.39 1 218.66v187.278c0 49.106 36.399 89.11 81.081 89.11h347.851c44.66 0 81.06-40.004 81.06-89.11V215.024l-77.345 61.823c-31.425 24.988-70.728 34.091-108.365 24.542z"})]})),eH=e=>(0,a.jsx)("svg",ec(es({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{enableBackground:"new 0 0 122.88 122.7"},viewBox:"0 0 122.88 122.7"},e),{children:(0,a.jsx)("path",{d:"M.18 0h44.63v44.45H.18V0zM111.5 111.5h11.38v11.2H111.5v-11.2zm-21.87-.02h11.38v10.67H78.25v-21.82h11.02V89.27h11.21V67.22h11.38v10.84h10.84v11.2h-10.84v11.2H89.63v11.02zM55.84 89.09h11.02v-11.2H56.2v-11.2h10.66v-11.2H56.02v11.2H44.63v-11.2h11.2V22.23h11.38v33.25h11.02v11.2h10.84v-11.2h11.38v11.2H89.63v11.2H78.25v22.05H67.22v22.23H55.84V89.09zm55.47-33.61h11.38v11.2h-11.38v-11.2zm-88.9 0h11.38v11.2H22.41v-11.2zm-22.23 0h11.38v11.2H.18v-11.2zM55.84 0h11.38v11.2H55.84V0zM0 78.06h44.63v44.45H0V78.06zm10.84 10.8h22.95v22.86H10.84V88.86zM78.06 0h44.63v44.45H78.06V0zm10.85 10.8h22.95v22.86H88.91V10.8zm-77.89 0h22.95v22.86H11.02V10.8z",style:{fillRule:"evenodd",clipRule:"evenodd"}})})),eK=()=>{var e;let{claimData:t,redirectUrl:n,amountOfTicket:o}=e0(),{t:i}=(0,d.ZKp)(),l=e=>{let t=document.createElement("a");t.href=e,t.download="qr-code.png",t.click()};return n?(window.location.href=n,null):(0,a.jsxs)("div",{className:"payment-stepper-container",children:[(0,a.jsx)("p",{style:{color:"white",marginBottom:"1rem"},className:"font-satoshi",children:i(o>1?"yourTicketsAreReady":"yourTicketIsReady","payments")}),(null==t?void 0:t.qr)&&(0,a.jsx)("div",{className:"mb-6 mt-6 bg-white p-2 inline-block rounded-lg shadow-md",children:(0,a.jsx)("img",{src:t.qr,alt:"QR Code Ticket",className:"w-40 h-40 object-contain"})}),(0,a.jsxs)("button",{className:"mego-modal-button mego-apple font-satoshi",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-start",cursor:(null==t?void 0:t.qr)?"pointer":"not-allowed",opacity:(null==t?void 0:t.qr)?1:.5},onClick:()=>{l(t.qr)},disabled:!(null==(e=null==t?void 0:t.qr)?void 0:e.qr),children:[(0,a.jsx)(eH,{height:50,width:50,style:{marginRight:"0.5rem"}}),i("downloadQRCode","payments")]}),(0,a.jsxs)("button",{className:"mego-modal-button mego-apple font-satoshi",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-start"},onClick:()=>{window.open("https://tickets-api.mego.tools"+t.appleWalletUrl,"_blank")},children:[(0,a.jsx)(eR,{height:50,width:50,style:{marginRight:"0.5rem"}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},children:[(0,a.jsx)("p",{className:"font-satoshi",children:i("addto","payments")}),(0,a.jsx)("p",{className:"font-satoshi",children:i("appleWallet","payments")})]})]}),(0,a.jsxs)("button",{className:"mego-modal-button mego-apple font-satoshi",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-start"},onClick:()=>{window.open(t.googleWalletUrl,"_blank")},children:[(0,a.jsx)(eW,{height:50,width:50,style:{marginRight:"0.5rem"}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},children:[(0,a.jsx)("p",{className:"font-satoshi",children:i("addto","payments")}),(0,a.jsx)("p",{className:"font-satoshi",children:i("googleWallet","payments")})]})]})]})},eV=()=>{let{eventDetails:e,paymentsDetails:t,openPopup:n,resetPaymentProcessing:o,setStepper:i,setTokenId:r,amountOfTicket:s}=e0(),[c,m]=(0,l.useState)("Processing..."),{t:p}=(0,d.ZKp)(),h=0,u=async()=>{var a,l,c;try{let d=(null==(a=ex())?void 0:a.loggedAs)||"";m(s>1?p("mintingNFTs","payments"):p("mintingNFT","payments"));let{error:h}=await eL(null==(l=null==t?void 0:t.payment)?void 0:l.paymentId);if(h){m(p("errorMintingNFT","payments")),n({title:"Alert",message:p("errorMintingNFT","payments"),modality:"error",isOpen:!0}),o();return}m(s>1?p("waitingForMintingConfirmations","payments"):p("waitingForMintingConfirmation","payments"));let u=!1,g=0;for(;!u&&g<15;){let t=await eE(null==(c=null==e?void 0:e.event)?void 0:c.identifier,d);null!==t.tokenId&&(u=!0,r(t.tokenId)),g++,await new Promise(e=>setTimeout(e,3e3))}if(g>=15){m(p("errorMintingNFT","payments")),n({title:"Alert",message:p("errorMintingNFT","payments"),modality:"error",isOpen:!0}),o();return}console.log("Stepper.Claim_Generation"),i(8)}catch(e){console.error(e),n({title:"Alert",message:p("errorMintingNFT","payments"),modality:"error",isOpen:!0}),eA(),o();return}};return(0,l.useEffect)(()=>{0===h&&(u(),h++)},[]),(0,a.jsx)("div",{className:"loader",children:(0,a.jsx)(d.aNw,{message:c})})},eU=()=>{let{t:e}=(0,d.ZKp)(),{eventDetails:t,openPopup:n,resetPaymentProcessing:o,setStepper:i,emailOfBuyer:r,setClaimData:s,claimMetadata:c,tokenId:m,amountOfTicket:p}=e0(),[h,u]=(0,l.useState)(e("processing","payments")),g=0,y=async()=>{var a,l,h,g;try{let y=(null==(a=ex())?void 0:a.loggedAs)||"",f=(null==(l=ex())?void 0:l.provider)||"",v=(null==(h=ex())?void 0:h.session)||"",x="";if(ew()&&f){let t=await (0,d.YmH)(v,"Claiming token ".concat(m));if(t.error){u(e("error","payments")),n({title:"Alert",message:e("errorCreatingClaim","payments"),modality:"error",isOpen:!0}),o();return}x=t.signature}else u(e("pleaseConfirmSubscriptionToAttendTheEvent","payments")),x=await (0,d.laj)(d.vc,{message:"Claiming token ".concat(m)});if(await new Promise(e=>setTimeout(e,1e3)),!x){u(e("errorCreatingClaim","payments")),n({title:"Alert",message:e("errorCreatingClaim","payments"),modality:"error",isOpen:!0}),o();return}u(p>1?e("creatingClaims","payments"):e("creatingClaim","payments"));let w=await eP(x,m||"",r||"",null==(g=null==t?void 0:t.event)?void 0:g.identifier,y,"Claiming token ".concat(m),!0,c);if(w.error){u(e("errorCreatingClaim","payments")),n({title:"Alert",message:e("errorCreatingClaim","payments"),modality:"error",isOpen:!0}),o();return}s(w),i(7);return}catch(t){n({title:"Alert",message:e("errorCreatingClaim","payments"),modality:"error",isOpen:!0})}},f=async()=>{u(p>1?e("creatingClaims","payments"):e("creatingClaim","payments"));let t=await ez(),a=new URLSearchParams(window.location.search).get("signature")||"";if(!a){u(e("signatureError","payments")),n({title:e("signatureError","payments"),message:e("signatureNotFound","payments"),modality:"error",isOpen:!0}),eA(),o();return}let l=await eP(a,(null==t?void 0:t.tokenId)||"",(null==t?void 0:t.emailOfBuyer)||"",(null==t?void 0:t.identifier)||"",(null==t?void 0:t.userAddress)||"",(null==t?void 0:t.message)||"",!0,(null==t?void 0:t.claim_metadata)||[]);if(l.error){u(e("errorCreatingClaim","payments")),n({title:"Alert",message:e("errorCreatingClaim","payments"),modality:"error",isOpen:!0}),eA(),o();return}s(l),i(7),eA()};return(0,l.useEffect)(()=>{0===g&&("claim_processing"===localStorage.getItem("MP_func")?f():y(),g++)},[]),(0,a.jsx)("div",{className:"loader",children:(0,a.jsx)(d.aNw,{message:h})})},eq=()=>{var e,t,n,o,i,r,s,c,m,p;let{eventDetails:h,paymentsDetails:u,openPopup:g,setStepper:y,savePendingProcess:f,resetPaymentProcessing:v}=e0(),[x,w]=(0,l.useState)(null),[j,b]=(0,l.useState)(null),[k,C]=(0,l.useState)(!1),{address:N}=(0,d.mAM)(),[S,T]=(0,l.useState)(""),{t:M,language:E}=(0,d.ZKp)(),[L,P]=(0,l.useState)(!1),[O,A]=(0,l.useState)(!0);console.log("paymentsDetails",u),console.log("eventDetails",h);let z=async()=>{let e=null,t=()=>{e&&(clearInterval(e),console.log("Cleaned up payment check interval."))};try{P(!0),A(!1),T(M("waitingForPaymentConfirmation","payments"));let n=new URLSearchParams(window.location.search),o=n.get("uuid"),i=n.get("account"),a=n.get("payment_intent"),l=n.get("payment_intent_client_secret");if(console.log("uuid",o),console.log("payment_intent",a),console.log("payment_intent_client_secret",l),console.log("account",i),console.log("urlParams",n),o&&a&&l){T(M("gettingPaymentDetails","payments"));let n=await eT(o);if(console.log("payment",n),!1==n.error)return console.log("Payment details found! .. check payment status"),e=setInterval(async()=>{console.log("checkPayment with uuid:",o);let e=await eM(o);console.log("checkPayment:",e),!1==e.error?(t(),localStorage.removeItem("_func"),y(9)):console.log("Payment not confirmed yet...")},5e3),t;g({title:M("error","payments"),message:M("errorWaitingForPaymentConfirmation","payments")+n.message||M("unknownError","payments"),modality:"error",isOpen:!0}),localStorage.removeItem("_func"),C(!1),P(!1);return}console.log("There was _func but no payment parameters so the process is cancelled and we start over"),localStorage.removeItem("_func"),C(!1),P(!1);return}catch(e){console.error("Error waiting for payment confirmation:",e),g({title:M("error","payments"),message:M("errorWaitingForPaymentConfirmation","payments")+e.message||M("unknownError","payments"),modality:"error",isOpen:!0}),localStorage.removeItem("_func"),C(!1),P(!1);return}},I=async()=>{var e,t,n,o,i;try{let a=null==(t=null==(e=null==u?void 0:u.payment)?void 0:e.stripePayment)?void 0:t.client_secret,l=null==(i=null==(o=null==(n=null==h?void 0:h.event)?void 0:n.collectors)?void 0:o.stripe)?void 0:i.pub;if(!a){console.error("No stripe client secret");return}if(!l){console.error("No stripe publishable key");return}let r=(0,Q.J)(l),s=await r;if(!s){console.error("Unable to load Stripe"),g({title:M("error","payments"),message:M("errorInStripeInitialization","payments")+" (Unable to load Stripe)",modality:"error",isOpen:!0});return}let c=s.elements({clientSecret:a,locale:null!=E?E:"en",appearance:{variables:{fontFamily:"Sohne, system-ui, sans-serif",fontWeightNormal:"450",borderRadius:"8px",colorBackground:"transparent",colorPrimary:"#00251d",colorPrimaryText:"#fff",colorText:"#ffffff",colorTextSecondary:"#ffffff",colorTextPlaceholder:"#e6e6e6",colorIconTab:"white",colorIconTabHover:"white",colorLogo:"dark"},rules:{".Input, .Block":{backgroundColor:"transparent",border:"1px solid white",padding:"15px 20px",boxShadow:"0"},".Tab":{backgroundColor:"transparent"},".Tab--selected":{backgroundColor:"#ffffff"},".p-Tab .Tab .p-Tab--selected .Tab--selected":{backgroundColor:"#ffffff"},".Tab:hover":{color:"white"},".p-TabIcon":{color:"black"},".RedirectText":{color:"white"}}}}),d=c.create("payment");document.getElementById("payment-element")?(d.mount("#payment-element"),w(c),b(s),console.log("Stripe initialized and mounted.")):console.warn("Payment element container not found when trying to initialize Stripe. This might be expected if waiting for payment confirmation.")}catch(e){console.error("Error in Stripe initialization:",e),g({title:M("error","payments"),message:M("errorInStripeInitialization","payments")+e.message||M("unknownError","payments"),modality:"error",isOpen:!0}),C(!1)}};(0,l.useEffect)(()=>{let e;return(async()=>{var t,n,o,i,a;let l=localStorage.getItem("_func");l?"stripe_payment"===l&&(console.log("Found pending payment process, starting wait..."),e=await z()):L?console.log("Waiting for payment confirmation, skipping Stripe initialization."):(null==(n=null==(t=null==u?void 0:u.payment)?void 0:t.stripePayment)?void 0:n.client_secret)&&(null==(a=null==(i=null==(o=null==h?void 0:h.event)?void 0:o.collectors)?void 0:i.stripe)?void 0:a.pub)?I():console.log("Waiting for payment/event details before initializing Stripe...")})(),()=>{e&&(console.log("Running cleanup from useEffect..."),e())}},[u,h,L,E]);let B=async()=>{var e,t;if(!j||!x){g({title:M("error","payments"),message:M("stripeWasNotInitializedCorrectly","payments"),modality:"error",isOpen:!0});return}try{C(!0),f("stripe_payment");let n=(null==(e=ex())?void 0:e.loggedAs)||N||"";if(!n)throw console.error("User address not found for redirect."),Error("User address not available.");let{error:o}=await j.confirmPayment({elements:x,confirmParams:{return_url:window.location.origin+window.location.pathname+"?uuid="+(null==(t=null==u?void 0:u.payment)?void 0:t.paymentId)+"&account="+n}});if(o)throw console.error("Stripe confirmPayment error:",o),o}catch(e){console.error("Error during payment confirmation:",e),g({title:M("error","payments"),message:e.message||M("anErrorOccurredDuringPayment","payments"),modality:"error",isOpen:!0}),localStorage.removeItem("_func"),C(!1)}};return(0,a.jsxs)("div",{className:"payment-stepper-stripe",style:{flexGrow:1},children:[!L&&(null==(t=null==(e=null==u?void 0:u.payment)?void 0:e.stripePayment)?void 0:t.client_secret)&&(null==(i=null==(o=null==(n=null==h?void 0:h.event)?void 0:n.collectors)?void 0:o.stripe)?void 0:i.pub)&&(0,a.jsx)("div",{id:"payment-element",className:"ticket-stripe-form-container"}),!L&&!((null==(s=null==(r=null==u?void 0:u.payment)?void 0:r.stripePayment)?void 0:s.client_secret)&&(null==(p=null==(m=null==(c=null==h?void 0:h.event)?void 0:c.collectors)?void 0:m.stripe)?void 0:p.pub))&&(0,a.jsx)("div",{className:"ticket-stripe-form-container",children:(0,a.jsx)("p",{children:M("loadingStripeConfiguration","payments")})}),L&&(0,a.jsx)("div",{className:"loader",children:(0,a.jsx)(d.aNw,{message:S})}),(0,a.jsxs)("div",{className:"chooseType-btn-container",children:[!L&&j&&x&&!k&&(0,a.jsx)(d.mMu,{onClick:B,className:"font-satoshi chooseType-btn",children:M("payNow","payments")}),!L&&k&&(0,a.jsx)(d.mMu,{disabled:!0,className:"font-satoshi disabled chooseType-btn",children:M("processing","payments")})]}),(0,a.jsx)("div",{className:"chooseType-btn-container",children:O&&!L&&(0,a.jsx)(d.mMu,{onClick:()=>{localStorage.removeItem("_func"),C(!1),P(!1),v()},className:"font-satoshi chooseType-btn cancel-btn",children:M("cancelOperation","payments")})})]})},eJ=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],eG=()=>{let{eventDetails:e,paymentsDetails:t,openPopup:n,setStepper:o,processor:i,resetPaymentProcessing:r}=e0(),[s,c]=(0,l.useState)(!1),[m,p]=(0,l.useState)(""),{address:h}=(0,d.mAM)(),{data:u,error:g,isPending:y,sendTransaction:f}=(0,d.pQX)(),{isLoading:v,isSuccess:x}=(0,d.AhJ)({hash:u}),w=0,{t:j}=(0,d.ZKp)(),b=async()=>{var e;try{p(j("waitingForPaymentConfirmation","payments"));let i=null==(e=null==t?void 0:t.payment)?void 0:e.paymentId;if(i){p(j("gettingPaymentDetails","payments"));let e=await eT(i);if(console.log("payment",e),!1==e.error){console.log("Payment details found! .. check payment status");let e=setInterval(async()=>{console.log("checkPayment with uuid:",i);let t=await eM(i);console.log("checkPayment:",t),!1==t.error?(clearInterval(e),o(9)):console.log("Still error = false")},5e3)}else n({title:j("error","payments"),message:j("errorWaitingForPaymentConfirmation","payments")+e.message||j("unknownError","payments"),modality:"error",isOpen:!0}),r(),c(!1)}else console.log("uuid non trovato"),n({title:j("error","payments"),message:j("errorWaitingForPaymentConfirmation","payments")+" uuid not found",modality:"error",isOpen:!0}),r(),c(!1)}catch(e){console.error("Error waiting for payment confirmation:",e),n({title:j("error","payments"),message:j("errorWaitingForPaymentConfirmation","payments")+e.message||j("unknownError","payments"),modality:"error",isOpen:!0}),r(),c(!1)}finally{localStorage.removeItem("_func")}},k=async e=>{var o,a;try{let l=null==i?void 0:i.split(":")[2];if(!l){n({title:j("error","payments"),message:j("unableToRetrieveTheErc20TokenContractAddress","payments"),modality:"error",isOpen:!0}),r(),c(!1);return}let s=e_(l),m=d.XgL.parseUnits(null==(o=null==t?void 0:t.payment)?void 0:o.amount.toString(),s),u=await (0,d.n9M)(d.vc,{chainId:e,address:l,abi:eJ,functionName:"transfer",args:[null==(a=null==t?void 0:t.payment)?void 0:a.payment_intent,m],account:h});console.log("tx",u),p(j("waitingForTransactionConfirmation","payments"));let g=await (0,d.ecV)(d.vc,{hash:u,chainId:e});console.log("transactionReceipt",g),p(j("transactionConfirmed","payments")),b()}catch(e){console.error("Error in payment with erc20 token:",e),n({title:j("error","payments"),message:j("errorInPaymentWithErc20Token","payments"),modality:"error",isOpen:!0}),r(),c(!1)}},C=async()=>{var e,n;p(j("pleaseConfirmTheOperationInYourWallet","payments")),f({to:null==(e=null==t?void 0:t.payment)?void 0:e.payment_intent,value:d.XgL.parseEther(null==(n=null==t?void 0:t.payment)?void 0:n.amount.toString())})},N=async()=>{if(!h){n({title:j("error","payments"),message:j("pleaseConnectYourWallet","payments"),modality:"error",isOpen:!0});return}c(!0),p(j("processingPayment","payments")),await new Promise(e=>setTimeout(e,1e3));let{balance:e,formattedBalance:t,success:o,reason:a}=await eI(h,i);if(!o){n({title:j("error","payments"),message:a||j("unknownError","payments"),modality:"error",isOpen:!0});return}let l=eB(i||"");if(-1==l||!await eF(l)){n({title:j("error","payments"),message:j("unableToSwitchToTheNetwork","payments")+i,modality:"error",isOpen:!0}),r(),c(!1);return}(null==i?void 0:i.includes("erc20:"))?await k(l):await C()};return(0,l.useEffect)(()=>{v&&p(j("transactionIsBeingConfirmed","payments")),x&&(p(j("transactionConfirmed","payments")),b()),g&&(p(j("transactionFailed","payments")),n({title:j("error","payments"),message:g.message||j("unknownError","payments"),modality:"error",isOpen:!0}),r(),c(!1))},[u,v,x,g]),(0,l.useEffect)(()=>{0==w&&(N(),w++)},[]),(0,a.jsx)("div",{className:"payment-stepper-container",children:s&&(0,a.jsx)("div",{className:"loader",children:(0,a.jsx)(d.aNw,{message:m})})})},eY=()=>{var e,t,n,o;let{setStepper:i,amountOfTicket:r,resetPaymentProcessing:s,paymentsDetails:c}=e0();console.log("paymentsDetails",c);let m=(0,l.useMemo)(()=>{var e,t;return null!=(t=null==(e=null==c?void 0:c.payment)?void 0:e.amount)?t:0},[null==(e=null==c?void 0:c.payment)?void 0:e.amount]),p=(0,l.useMemo)(()=>{var e,t,n,o;return null!=(o=null==(n=null==(t=null==(e=null==c?void 0:c.payment)?void 0:e.stripePayment)?void 0:t.currency)?void 0:n.toUpperCase())?o:"EUR"},[null==(n=null==(t=null==c?void 0:c.payment)?void 0:t.stripePayment)?void 0:n.currency]),h=(0,l.useMemo)(()=>{var e;try{let t=(null==(e=null==c?void 0:c.payment)?void 0:e.discount)||(null==c?void 0:c.discount);if(!t||"NONE"===t)return 0;let n=parseFloat(t);return isNaN(n)?0:n}catch(e){return console.error("Errore nel calcolo dello sconto:",e),0}},[null==(o=null==c?void 0:c.payment)?void 0:o.discount]),u=(0,l.useMemo)(()=>m+h,[m,h]),{t:g}=(0,d.ZKp)();return(0,a.jsxs)("div",{className:"payment-stepper-stripe",style:{flexGrow:1},children:[(0,a.jsxs)("div",{className:"ticket-summary-container",children:[(0,a.jsx)("h3",{className:"ticket-summary-title",children:g("summary","payments")}),(0,a.jsxs)("div",{className:"ticket-summary-row",children:[(0,a.jsxs)("span",{className:"ticket-summary-label",children:[g("ticketQuantity","payments"),":"]}),(0,a.jsx)("span",{className:"ticket-summary-value",children:r})]}),(0,a.jsxs)("div",{className:"ticket-summary-row",children:[(0,a.jsxs)("span",{className:"ticket-summary-label",children:[g("subtotal","payments"),":"]}),(0,a.jsxs)("span",{className:"ticket-summary-value",children:[u.toFixed(2)," ",p]})]}),h>0?(0,a.jsxs)("div",{className:"ticket-summary-row ticket-summary-discount",children:[(0,a.jsxs)("span",{className:"ticket-summary-label",children:[g("discount","payments"),":"]}),(0,a.jsxs)("span",{className:"ticket-summary-value",children:["- ",h.toFixed(2)," ",p]})]}):(0,a.jsx)("span",{className:"ticket-summary-no-discount",children:g("noAppliedDiscount","payments")}),(0,a.jsx)("hr",{className:"ticket-summary-divider"}),(0,a.jsxs)("div",{className:"ticket-summary-row ticket-summary-total",children:[(0,a.jsxs)("span",{className:"ticket-summary-label",children:[g("totalToPay","payments"),":"]}),(0,a.jsxs)("span",{className:"ticket-summary-value",children:[m.toFixed(2)," ",p]})]})]}),(0,a.jsx)("div",{className:"chooseType-btn-container",children:(0,a.jsx)(d.mMu,{onClick:()=>{i(5)},className:"font-satoshi chooseType-btn cancel-btn",children:g("checkout","payments")})}),(0,a.jsx)("div",{className:"chooseType-btn-container",children:(0,a.jsx)(d.mMu,{onClick:()=>{localStorage.removeItem("_func"),s()},className:"font-satoshi chooseType-btn cancel-btn",children:g("cancelOperation","payments")})})]})},eX=e=>{let{onClose:t}=e,[n,o]=(0,l.useState)(!1),{isOpen:i,setIsOpen:r,stepper:s,setStepper:c,resetPaymentProcessing:m,amountOfTicket:p}=e0(),{t:h,language:u}=(0,d.ZKp)();(0,l.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[i]),(0,l.useEffect)(()=>{i&&o(!1)},[i]);let g=(0,l.useMemo)(()=>7===s?(0,a.jsx)("h2",{className:"payment-title font-satoshi",children:h("congratulationsTitle","payments")}):(0,a.jsx)("h3",{className:"payment-title font-satoshi",children:p>1?h("buyTickets","payments"):h("buyTicket","payments")}),[s,u]);function y(){o(!0),setTimeout(()=>{t&&t(),r(!1),o(!1)},300),5===s&&m()}return i||n?(0,a.jsxs)("div",{className:"".concat(n?"closing":""," mego-modal-container payment-modal"),children:[(0,a.jsx)("div",{className:"mego-modal-backdrop",onClick:y}),(0,a.jsxs)("div",{className:"mego-modal-wrapper payment-wrapper",style:{display:"flex",flexDirection:"column"},children:[(0,a.jsxs)("div",{className:"mego-modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("div",{className:"mego-modal-logo",children:g}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",position:"relative",zIndex:10},children:[(0,a.jsx)(d.$zs,{}),(0,a.jsx)("div",{onClick:y,style:{cursor:"pointer",display:"flex",alignItems:"center"},children:(0,a.jsx)(ed,{height:16,width:16})})]})]}),(0,a.jsxs)("div",{className:"mego-modal-content payment-content",style:{display:"flex",flexDirection:"column",flexGrow:1,height:"100%"},children:[0===s&&(0,a.jsx)(eC,{}),1===s&&(0,a.jsx)(eD,{}),6===s&&(0,a.jsx)(eG,{}),4===s&&(0,a.jsx)(eY,{}),5===s&&(0,a.jsx)(eq,{}),9===s&&(0,a.jsx)(eV,{}),8===s&&(0,a.jsx)(eU,{}),7===s&&(0,a.jsx)(eK,{})]})]})]}):null},eQ=(0,l.createContext)(void 0),e$=e=>{let{children:t}=e,[n,o]=(0,l.useState)(!1),[i,r]=(0,l.useState)(null),[s,c]=(0,l.useState)(null),[m,p]=(0,l.useState)(0),[h,u]=(0,l.useState)(null),[g,y]=(0,l.useState)(null),[f,v]=(0,l.useState)(null),[x,w]=(0,l.useState)(null),[j,b]=(0,l.useState)(null),[k,C]=(0,l.useState)(null),[N,S]=(0,l.useState)(null),[T,M]=(0,l.useState)(null),[E,L]=(0,l.useState)(null),[P,O]=(0,l.useState)(1),[A,z]=(0,l.useState)({isOpen:!1,message:"",title:"",modality:"info",autoCloseTime:5e3}),I=async()=>{o(!0),p(8)},B=async()=>{o(!0),p(3)},_=()=>{let e=localStorage.getItem("pendingProcess");if(e){let t=JSON.parse(e);(null==t?void 0:t.eventDetails)&&r(JSON.parse(t.eventDetails)),(null==t?void 0:t.paymentsDetails)&&c(JSON.parse(t.paymentsDetails)),(null==t?void 0:t.stepper)&&p(JSON.parse(t.stepper)),(null==t?void 0:t.claimMetadata)&&u(JSON.parse(t.claimMetadata)),(null==t?void 0:t.emailOfBuyer)&&y(JSON.parse(t.emailOfBuyer)),(null==t?void 0:t.tokenId)&&v(JSON.parse(t.tokenId)),(null==t?void 0:t.claimData)&&w(JSON.parse(t.claimData)),(null==t?void 0:t.processor)&&b(JSON.parse(t.processor)),localStorage.removeItem("pendingProcess"),o(!0)}},F=async()=>{let e=new URLSearchParams(window.location.search).get("promo");e&&!k&&C(e)};return(0,l.useEffect)(()=>{F();let e=localStorage.getItem("MP_func");"claim_processing"===e?I():"payment_processing"===e?B():eA(),_()},[]),(0,a.jsxs)(eQ.Provider,{value:{isOpen:n,setIsOpen:o,eventDetails:i,setEventDetails:r,stepper:m,setStepper:p,claimMetadata:h,setClaimMetadata:u,emailOfBuyer:g,setEmailOfBuyer:y,openPopup:e=>{z(e)},resetPaymentProcessing:()=>{p(0),r(null),u(null),y(null),o(!1),w(null),c(null),v(null),b(null),C(null),O(1)},claimData:x,setClaimData:w,paymentsDetails:s,setPaymentsDetails:c,tokenId:f,setTokenId:v,processor:j,setProcessor:b,savePendingProcess:e=>{let t={eventDetails:JSON.stringify(i),paymentsDetails:JSON.stringify(s),stepper:JSON.stringify(m),claimMetadata:JSON.stringify(h),emailOfBuyer:JSON.stringify(g),tokenId:JSON.stringify(f),claimData:JSON.stringify(x),processor:JSON.stringify(j)};localStorage.setItem("pendingProcess",JSON.stringify(t)),e&&localStorage.setItem("_func",e)},restorePendingProcess:_,discountCode:k,setDiscountCode:C,termsAndConditionsLink:"https://www.iubenda.com/terms-and-conditions/84994680",metadataConfig:N,setMetadataConfig:S,shareEmail:T,setShareEmail:M,redirectUrl:E,setRedirectUrl:L,amountOfTicket:P,setAmountOfTicket:O},children:[(0,a.jsx)(eX,{}),(0,a.jsx)(d.Iqj,{popupData:A,onClose:()=>z({isOpen:!1,message:"",title:"",modality:"info",autoCloseTime:5e3})}),t]})},e0=()=>{let e=(0,l.useContext)(eQ);if(void 0===e)throw Error("useBuyTicketContext deve essere utilizzato all'interno di un BuyTicketProvider");return e},e1=e=>{var t,n,o,i;let{buttonText:l,eventDetails:r,overrideButton:s}=e,{setIsOpen:c,setEventDetails:m,resetPaymentProcessing:p,stepper:h,setMetadataConfig:u,amountOfTicket:g}=e0(),{address:y}=(0,d.mAM)(),{t:f}=(0,d.ZKp)(),v=()=>{7===h&&p(),m(r),c(!0)};return s?(0,a.jsx)("div",{onClick:()=>{var e;(null==(e=ex())?void 0:e.loggedAs)&&v()},style:{opacity:(null==(t=ex())?void 0:t.loggedAs)?1:.5,cursor:(null==(n=ex())?void 0:n.loggedAs)?"pointer":"not-allowed",pointerEvents:(null==(o=ex())?void 0:o.loggedAs)?"auto":"none"},children:s}):(0,a.jsx)("div",{className:"ticketButton ".concat((null==(i=ex())?void 0:i.loggedAs)?"":"ticketButtonDisabled"),onClick:()=>{var e;return(null==(e=ex())?void 0:e.loggedAs)?v():null},children:(0,a.jsx)("div",{className:"ticketBtn font-satoshi",onMouseOver:e=>e.currentTarget.style.backgroundColor="#111",onMouseOut:e=>e.currentTarget.style.backgroundColor="#000",children:l||f(g>1?"buyTickets":"buyTicket","payments")})})},e2=e=>{let t=new Date(e),n=t.getDate().toString().padStart(2,"0"),o=["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"][t.getMonth()],i=t.getFullYear(),a=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0");return"".concat(n," ").concat(o," ").concat(i,", ").concat(a,":").concat(l)},e3=e=>{let{event:t,startDate:n,endDate:o}=e,{t:i}=(0,d.ZKp)();return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"ticker-header-container",children:[(0,a.jsx)("div",{className:"ticket-banner-container",children:(0,a.jsx)("img",{src:t.banner||t.image,alt:t.event_name})}),(0,a.jsxs)("div",{className:"ticket-info-container",children:[(0,a.jsx)("h1",{className:"ticket-event-name font-satoshi",children:t.event_name}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,a.jsxs)("div",{className:"ticket-event-date-container font-satoshi",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsxs)("span",{className:"font-satoshi",style:{color:"#E5E7EB",fontSize:"0.9rem"},children:[n," - ",o]})]}),(0,a.jsxs)("div",{className:"ticket-event-location-container font-satoshi",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("span",{className:"font-satoshi",style:{color:"#E5E7EB",fontSize:"0.9rem"},children:t.event_location})]}),(0,a.jsxs)("div",{className:"ticket-event-blockchain-container font-satoshi",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,a.jsxs)("span",{className:"font-satoshi",style:{color:"#E5E7EB",fontSize:"0.9rem"},children:[i("blockchainNetwork","payments"),": ",t.blockchain||"Polygon"]})]}),(0,a.jsxs)("div",{className:"ticket-event-hosted-by-container font-satoshi",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,a.jsxs)("span",{className:"font-satoshi",style:{color:"#E5E7EB",fontSize:"0.9rem"},children:[i("hostedBy","payments"),": ",(null==t?void 0:t.event_owner)?"".concat(t.event_owner.slice(0,4),"...").concat(t.event_owner.slice(-4)):i("eventOrganizer","payments")]})]}),(0,a.jsxs)("div",{className:"ticket-event-minted-info-container font-satoshi",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"1.25rem",width:"1.25rem",marginRight:"0.75rem",color:"#9CA3AF"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,a.jsxs)("div",{className:"font-satoshi",style:{color:"#9CA3AF",fontSize:"0.9rem"},children:[(0,a.jsxs)("span",{style:{fontWeight:"500"},children:[i("minted","payments"),": "]}),(0,a.jsxs)("span",{children:[t.minted||0," / ",t.supply||0]})]})]})]})]})]})})},e5=e=>{let{eventDetails:t,isPriceZero:n,priceText:o,supplyText:i,overrideButton:l}=e,{t:r}=(0,d.ZKp)(),{amountOfTicket:s}=e0();return(0,a.jsx)("div",{className:"ticketPaymentContainer",children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"ticketPriceTitle font-satoshi",children:"".concat(r("price","payments"),": ").concat(o)})}),(0,a.jsx)(e1,{eventDetails:t,buttonText:r(n?"claimFreeTicket":s>1?"buyTickets":"buyTicket","payments"),overrideButton:l})]})})},e7={width:"100%",height:"200px",borderRadius:"8px",marginTop:"0.5rem"},e4={lat:41.9028,lng:12.4964},e6=e=>{let{location:t}=e,[n,o]=(0,l.useState)(e4),[i,r]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!0),{t:m}=(0,d.ZKp)(),p=(0,l.useCallback)(e=>{console.log("Map loaded:",t),c(!1)},[t]),h=(0,l.useCallback)(()=>{console.error("Error loading Google Maps"),r(!0),c(!1)},[]),u=ee.env.REACT_APP_GOOGLE_MAPS_API_KEY||"";return!u||i?(0,a.jsxs)("div",{className:"ticket-map-container",children:[(0,a.jsx)("p",{className:"font-satoshi",style:{color:"#9CA3AF",marginBottom:"0.5rem"},children:m("unableToLoadMap","payments")}),(0,a.jsx)("p",{className:"font-satoshi",style:{color:"#E5E7EB",fontSize:"0.875rem"},children:t})]}):(0,a.jsxs)("div",{children:[s&&(0,a.jsx)("div",{className:"ticket-map-loader-container",children:(0,a.jsx)("p",{className:"font-satoshi",style:{color:"#9CA3AF"},children:m("loadingMap","payments")})}),(0,a.jsx)($.KJ,{googleMapsApiKey:u,onError:h,children:(0,a.jsx)($.b6,{mapContainerStyle:e7,center:n,zoom:14,onLoad:p,options:{styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]}],disableDefaultUI:!0},children:(0,a.jsx)($.Jx,{position:n})})})]})},e8=e=>{let{event:t}=e,{t:n}=(0,d.ZKp)();return(0,a.jsx)("div",{className:"ticket-block-container",children:(0,a.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,a.jsx)("div",{style:{marginBottom:"1rem"},children:(0,a.jsx)("p",{className:"ticket-block-title font-satoshi",children:n("eventLocation","payments")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{color:"#fff",fontSize:"1.125rem",fontWeight:"600",marginBottom:"0.75rem"},children:t.event_location}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:t.event_description},style:{color:"#E5E7EB",fontSize:"0.9375rem",lineHeight:"1.5",marginBottom:"0.75rem"}}),"physical"===t.event_type&&(0,a.jsx)(e6,{location:t.event_location})]})]})})},e9=e=>{let{tokenId:t,image:n}=e,[o,i]=(0,l.useState)(!1),{t:r}=(0,d.ZKp)();return(0,a.jsxs)("div",{className:"ticket-token-id-root",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,a.jsxs)("div",{className:"ticket-token-id-container font-satoshi",children:["#",t]}),(0,a.jsx)("img",{src:n,alt:"".concat(r("ticket","payments")," #").concat(t),className:"ticket-image"})]})},te=e=>{var t;let{userId:n,eventIdentifier:o}=e,{t:i}=(0,d.ZKp)(),{address:r}=(0,d.mAM)(),[s,c]=(0,l.useState)([]),m=0,p=(null==(t=ex())?void 0:t.loggedAs)||"",h=async()=>{if(p){let e=await eZ(o,p);c((null==e?void 0:e.owned)||[])}};return(0,l.useEffect)(()=>{0===m&&(h(),m++)},[r,p]),(0,a.jsxs)("div",{className:"ticket-block-container",children:[(0,a.jsx)("div",{style:{marginBottom:"1rem"},children:(0,a.jsx)("p",{className:"ticket-block-title font-satoshi",children:i("myTickets","payments")})}),(0,a.jsx)("div",{className:"ticket-user-nft-container",children:s.length>0?s.map(e=>{var t;return(0,a.jsx)(e9,{tokenId:e.tokenId,image:null==(t=null==e?void 0:e.metadata)?void 0:t.image},e.tokenId)}):(0,a.jsx)("p",{className:"font-satoshi",style:{color:"#9CA3AF",fontSize:"0.875rem"},children:i("noTicketsAvailableYet","payments")})})]})},tt=e=>{let{ticketId:t,showOnlyButton:n,overrideButton:o,onTicketLoad:i,metadataConfig:r,shareEmail:s,redirectUrl:c}=e,[m,p]=(0,l.useState)(null),[h,u]=(0,l.useState)(!0),[g,y]=(0,l.useState)(null),{t:f}=(0,d.ZKp)(),{setShareEmail:v,setMetadataConfig:x,setRedirectUrl:w,amountOfTicket:j}=e0();if((0,l.useEffect)(()=>{v(s||null),x(r||null),w(c||null)},[r,s,c]),(0,l.useEffect)(()=>{(async()=>{try{u(!0);let e=await eO(t);p(e),i&&i(e),u(!1)}catch(e){console.error("Error in retrieving event details:",e),y(f("unableToLoadEventDetails","payments")),u(!1)}})()},[t,f]),h)return(0,a.jsx)("div",{className:"ticket-loading-container",children:(0,a.jsx)("p",{className:"font-satoshi",style:{color:"#808080"},children:f("loading","payments")})});if(g)return(0,a.jsx)("div",{className:"ticket-error-container",children:(0,a.jsx)("p",{className:"font-satoshi",children:g})});if(!m||!m.event)return(0,a.jsx)("div",{className:"ticket-details-container",children:(0,a.jsx)("p",{className:"font-satoshi",children:f("noDetailsAvailableForThisEvent","payments")})});let b=m.event,k=e2(b.timestamp_start),C=e2(b.timestamp_end),N=0===b.price,S=N?"Free":"".concat(b.price," ").concat(b.currency.toUpperCase()),T=b.supply-b.minted,M=b.show_supply?"".concat(T," / ").concat(b.supply," ").concat(f("availableTickets","payments")):"";return n?(0,a.jsx)("div",{children:(0,a.jsx)(e1,{eventDetails:m,buttonText:N?f("claimFreeTicket","payments"):j>1?f("buyTickets","payments"):f("buyTicket","payments"),overrideButton:o})}):(0,a.jsxs)("div",{className:"ticket-container",children:[(0,a.jsx)(e3,{event:b,startDate:k,endDate:C}),(0,a.jsx)(e5,{eventDetails:m,isPriceZero:N,priceText:S,supplyText:M,overrideButton:o}),(0,a.jsx)(e8,{event:b}),(0,a.jsx)(te,{userId:t,eventIdentifier:b.identifier})]})};let tn=e=>{let{imageUrl:t="https://picsum.photos/400/200",title:n="Nome Evento",description:o="Descrizione dell'evento. Questo \xe8 un esempio di testo descrittivo che potrebbe essere pi\xf9 lungo e contenere dettagli importanti sull'evento."}=e;return(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl mb-4 w-full",children:[(0,a.jsx)("img",{src:t,alt:"Evento",className:"w-full rounded-lg mb-4"}),(0,a.jsx)("h3",{className:"text-blue-900 text-xl font-semibold mb-2",children:n}),(0,a.jsx)("p",{className:"text-blue-700 text-sm leading-relaxed",children:o}),(0,a.jsx)(tt,{ticketId:"694b4ce9-9f0c-4756-8dcb-ad0889078da6",showOnlyButton:!0,overrideButton:(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Ottieni"})})]})};function to(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:p-4 justify-center items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Lista degli eventi"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 max-w-[1000px] w-full",children:[(0,a.jsx)(tn,{title:"Spaghetteth Associate",description:"Test associazione"}),(0,a.jsx)(tt,{ticketId:"f8e4bc90-aaf3-42ba-a9c3-514af7131c4a"})]})]})}function ti(){let{loggedAs:e,provider:t}=b(),{isConnected:n}=(0,d.mAM)(),[o,i]=(0,l.useState)(""),[r,s]=(0,l.useState)(null),[c,m]=(0,l.useState)(!1),p=e=>e?e.toLowerCase().includes("google")?"Google":e.toLowerCase().includes("apple")?"Apple":e:"Nessun provider",h=async()=>{let e=window.location.href.split("?")[0];m(!0);try{let n;if(null==t?void 0:t.toLowerCase().includes("google"))n=await (0,d.nDS)(e,o);else if(null==t?void 0:t.toLowerCase().includes("apple"))n=await (0,d._y0)(e,o);else{alert("Firma disponibile solo con provider Google o Apple");return}n.error?alert("Errore durante la firma"):s(n.signature)}catch(e){console.error("Errore durante la firma:",e),alert("Errore durante la firma")}finally{m(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-6 bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl shadow-lg border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e?"bg-green-500":"bg-red-500")}),(0,a.jsx)("p",{className:"text-lg font-medium text-white",children:e?"Connesso":"Disconnesso"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Provider"}),(0,a.jsx)("p",{className:"text-white font-mono truncate",children:p(t)})]}),e&&((null==t?void 0:t.toLowerCase().includes("google"))||(null==t?void 0:t.toLowerCase().includes("apple")))&&(0,a.jsxs)("div",{className:"mt-4 bg-gray-800 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-3",children:"Test Firma con Mego (popup version)"}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 block mb-1",children:"Messaggio da firmare"}),(0,a.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),className:"w-full bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:outline-none focus:border-blue-500",rows:3})]}),(0,a.jsx)("button",{onClick:h,disabled:0===o.length||c,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors ".concat(0===o.length||c?"opacity-50 cursor-not-allowed":""),children:c?"Firma in corso...":"Firma con ".concat(p(t))}),r&&(0,a.jsxs)("div",{className:"mt-4 bg-gray-800 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-3",children:"Firma conseguita"}),(0,a.jsx)("p",{className:"text-white",children:r})]})]}),(0,a.jsx)(to,{})]})}function ta(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"@megotickets/wallet"}),(0,a.jsx)(d.Qgv,{children:(0,a.jsx)(k,{children:(0,a.jsxs)(e$,{children:[(0,a.jsx)(X,{forceChainId:0,customStyle:{modalStyle:{}}}),(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsx)(ti,{})})]})})})]})}}},function(e){e.O(0,[199,3251,2285,4817,4317,6733,4852,4999,1744],function(){return e(e.s=22809)}),_N_E=e.O()}]);